<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>前端获取路径参数中文乱码</title>
      <link href="/2023/07/31/%E5%89%8D%E7%AB%AF%E8%8E%B7%E5%8F%96%E8%B7%AF%E5%BE%84%E5%8F%82%E6%95%B0%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/"/>
      <url>/2023/07/31/%E5%89%8D%E7%AB%AF%E8%8E%B7%E5%8F%96%E8%B7%AF%E5%BE%84%E5%8F%82%E6%95%B0%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/</url>
      <content type="html"><![CDATA[<p>前端获取路径参数中文乱码<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取路径参数公共方法</span></span><br><span class="line">getUrlParams(name: <span class="built_in">string</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> search = <span class="built_in">window</span>.location.search.substr(<span class="number">1</span>) || <span class="built_in">window</span>.location.hash.split(<span class="string">'?'</span>)[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span> (!search) <span class="keyword">return</span> <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">let</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'(^|&amp;)'</span> + name + <span class="string">'=([^&amp;]*)(&amp;|$)'</span>);</span><br><span class="line">    <span class="keyword">let</span> r = search.match(reg);</span><br><span class="line">    <span class="keyword">if</span> (r != <span class="literal">null</span>) <span class="keyword">return</span> <span class="built_in">unescape</span>(r[<span class="number">2</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>浏览器访问 : localhost:8989/index.html?projectId=123&amp;type=1&amp;storeId=222&amp;storeName=瑞幸<br>获取到的参数值<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.getUrlParams(<span class="string">'projectId'</span>); <span class="comment">//123</span></span><br><span class="line"><span class="keyword">this</span>.getUrlParams(<span class="string">'type'</span>); <span class="comment">//1</span></span><br><span class="line"><span class="keyword">this</span>.getUrlParams(<span class="string">'storeId'</span>); <span class="comment">//222</span></span><br><span class="line"><span class="keyword">this</span>.getUrlParams(<span class="string">'storeName'</span>); <span class="comment">//ç  å¹¸</span></span><br></pre></td></tr></table></figure></p><p>查询mdn的网站, 上面显示<br>备注： 不要使用unescape去解码 URLS，使用decodeURI或decodeURIComponent替代<br>所以就使用decodeURL替换<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取链接参数值</span></span><br><span class="line">getUrlParams(name: <span class="built_in">string</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> search =</span><br><span class="line">        <span class="built_in">window</span>.location.search.substr(<span class="number">1</span>) ||</span><br><span class="line">        <span class="built_in">window</span>.location.hash.split(<span class="string">'?'</span>)[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span> (!search) <span class="keyword">return</span> <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">let</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'(^|&amp;)'</span> + name + <span class="string">'=([^&amp;]*)(&amp;|$)'</span>);</span><br><span class="line">    <span class="keyword">let</span> r = search.match(reg);</span><br><span class="line">    <span class="keyword">if</span> (r != <span class="literal">null</span>) <span class="keyword">return</span> <span class="built_in">decodeURI</span>(r[<span class="number">2</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//?projectId=123&amp;type=1&amp;storeId=222&amp;storeName=瑞幸</span></span><br><span class="line"><span class="keyword">this</span>.getUrlParams(<span class="string">'projectId'</span>); <span class="comment">//123</span></span><br><span class="line"><span class="keyword">this</span>.getUrlParams(<span class="string">'type'</span>); <span class="comment">//1</span></span><br><span class="line"><span class="keyword">this</span>.getUrlParams(<span class="string">'storeId'</span>); <span class="comment">//222</span></span><br><span class="line"><span class="keyword">this</span>.getUrlParams(<span class="string">'storeName'</span>); <span class="comment">//瑞幸</span></span><br></pre></td></tr></table></figure></p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>13-罗马数字转整数</title>
      <link href="/2023/07/28/13-%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97%E8%BD%AC%E6%95%B4%E6%95%B0/"/>
      <url>/2023/07/28/13-%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97%E8%BD%AC%E6%95%B4%E6%95%B0/</url>
      <content type="html"><![CDATA[<p>罗马数字包含以下七种字符:I，V，X，L，C，D和M。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">字符          数值</span><br><span class="line">I             <span class="number">1</span></span><br><span class="line">V             <span class="number">5</span></span><br><span class="line">X             <span class="number">10</span></span><br><span class="line">L             <span class="number">50</span></span><br><span class="line">C             <span class="number">100</span></span><br><span class="line">D             <span class="number">500</span></span><br><span class="line">M             <span class="number">1000</span></span><br></pre></td></tr></table></figure></p><p>例如， 罗马数字 2 写做II，即为两个并列的 1 。12 写做XII，即为X+II。 27 写做XXVII, 即为XX+V+II。</p><p>通常情况下，罗马数字中小的数字在大的数字的右边。但也存在特例，例如 4 不写做IIII，而是IV。数字 1 在数字 5 的左边，所表示的数等于大数 5 减小数 1 得到的数值 4 。同样地，数字 9 表示为IX。这个特殊的规则只适用于以下六种情况：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">I可以放在V(<span class="number">5</span>) 和X(<span class="number">10</span>) 的左边，来表示 <span class="number">4</span> 和 <span class="number">9</span>。</span><br><span class="line">X可以放在L(<span class="number">50</span>) 和C(<span class="number">100</span>) 的左边，来表示 <span class="number">40</span> 和<span class="number">90</span>。</span><br><span class="line">C可以放在D(<span class="number">500</span>) 和M(<span class="number">1000</span>) 的左边，来表示<span class="number">400</span> 和<span class="number">900</span>。</span><br><span class="line">给定一个罗马数字，将其转换成整数。</span><br></pre></td></tr></table></figure></p><p>示例1:<br>输入:s = “III”<br>输出: 3</p><p>示例2:<br>输入:s = “IV”<br>输出: 4</p><p>示例3:<br>输入:s = “IX”<br>输出: 9</p><p>示例4:<br>输入: s = “LVIII”<br>输出: 58<br>解释: L = 50, V= 5, III = 3.</p><p>示例 5:<br>输入: s = “MCMXCIV”<br>输出: 1994<br>解释: M = 1000, CM = 900, XC = 90, IV = 4.</p><p>提示：<br>1 &lt;= s.length &lt;= 15<br>s 仅含字符 (‘I’, ‘V’, ‘X’, ‘L’, ‘C’, ‘D’, ‘M’)<br>题目数据保证 s 是一个有效的罗马数字，且表示整数在范围 [1, 3999] 内<br>题目所给测试用例皆符合罗马数字书写规则，不会出现跨位等情况。<br>IL 和 IM 这样的例子并不符合题目要求，49 应该写作 XLIX，999 应该写作 CMXCIX 。<br>关于罗马数字的详尽书写规则，可以参考 罗马数字 - Mathematics 。</p><p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode.cn/problems/roman-to-integer" target="_blank" rel="noopener">https://leetcode.cn/problems/roman-to-integer</a><br>著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p><h5 id="我是创建了一个对象存储的，-但是执行速度没有那么快。-new-Map的执行速度确实快-速度很明显不一样"><a href="#我是创建了一个对象存储的，-但是执行速度没有那么快。-new-Map的执行速度确实快-速度很明显不一样" class="headerlink" title="我是创建了一个对象存储的， 但是执行速度没有那么快。 new Map的执行速度确实快. 速度很明显不一样"></a>我是创建了一个对象存储的， 但是执行速度没有那么快。 new Map的执行速度确实快. 速度很明显不一样</h5><p><img src="/2023/07/28/13-罗马数字转整数/img.png" alt=""><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; s</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> romanToInt = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> listMap = &#123;</span><br><span class="line">        <span class="string">'I'</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="string">'V'</span>: <span class="number">5</span>,</span><br><span class="line">        <span class="string">'X'</span>: <span class="number">10</span>,</span><br><span class="line">        <span class="string">'L'</span>: <span class="number">50</span>,</span><br><span class="line">        <span class="string">'C'</span>: <span class="number">100</span>,</span><br><span class="line">        <span class="string">'D'</span>: <span class="number">500</span>,</span><br><span class="line">        <span class="string">'M'</span>: <span class="number">1000</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;s.length;i++)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"s[i]:"</span>, s[i])</span><br><span class="line">        <span class="keyword">let</span> level = listMap[s[i]];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(level &lt; listMap[s[i+<span class="number">1</span>]] &amp;&amp; i &lt; s.length<span class="number">-1</span>)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"result:"</span>, result);</span><br><span class="line">            result -= level;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            result += level;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h5 id="官方解题思路"><a href="#官方解题思路" class="headerlink" title="官方解题思路"></a>官方解题思路</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; s</span></span><br><span class="line"><span class="comment"> * @return &#123;number&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> romanToInt = <span class="function"><span class="keyword">function</span>(<span class="params">s</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> symbolValues = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">    symbolValues.set(<span class="string">'I'</span>, <span class="number">1</span>);</span><br><span class="line">    symbolValues.set(<span class="string">'V'</span>, <span class="number">5</span>);</span><br><span class="line">    symbolValues.set(<span class="string">'X'</span>, <span class="number">10</span>);</span><br><span class="line">    symbolValues.set(<span class="string">'L'</span>, <span class="number">50</span>);</span><br><span class="line">    symbolValues.set(<span class="string">'C'</span>, <span class="number">100</span>);</span><br><span class="line">    symbolValues.set(<span class="string">'D'</span>, <span class="number">500</span>);</span><br><span class="line">    symbolValues.set(<span class="string">'M'</span>, <span class="number">1000</span>);  </span><br><span class="line">    <span class="keyword">let</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">const</span> n = s.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="keyword">const</span> value = symbolValues.get(s[i]);</span><br><span class="line">        <span class="keyword">if</span> (i &lt; n - <span class="number">1</span> &amp;&amp; value &lt; symbolValues.get(s[i + <span class="number">1</span>])) &#123;</span><br><span class="line">            ans -= value;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            ans += value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> leetcode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>12-整数转罗马数字</title>
      <link href="/2023/07/13/12-%E6%95%B4%E6%95%B0%E8%BD%AC%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97/"/>
      <url>/2023/07/13/12-%E6%95%B4%E6%95%B0%E8%BD%AC%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97/</url>
      <content type="html"><![CDATA[<p>罗马数字包含以下七种字符：I，V，X，L，C，D和M。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">字符          数值</span><br><span class="line">I             <span class="number">1</span></span><br><span class="line">V             <span class="number">5</span></span><br><span class="line">X             <span class="number">10</span></span><br><span class="line">L             <span class="number">50</span></span><br><span class="line">C             <span class="number">100</span></span><br><span class="line">D             <span class="number">500</span></span><br><span class="line">M             <span class="number">1000</span></span><br></pre></td></tr></table></figure></p><p>例如， 罗马数字 2 写做II，即为两个并列的 1。 12 写做XII，即为X+II。 27 写做XXVII, 即为XX+V+II。 </p><p>通常情况下，罗马数字中小的数字在大的数字的右边。 但也存在特例，例如 4 不写做IIII，而是IV。数字 1 在数字 5 的左边，所表示的数等于大数 5 减小数 1 得到的数值 4 。<br>同样地，数字 9 表示为IX。 这个特殊的规则只适用于以下六种情况：  </p><ul><li>I 可以放在V(5) 和X(10) 的左边，来表示 4 和 9。 </li><li>X 可以放在L(50) 和C(100) 的左边，来表示 40 和90。</li><li>C 可以放在D(500) 和M(1000) 的左边，来表示400 和900。<br>给你一个整数，将其转为罗马数字。 </li></ul><p>示例1:<br>输入:num = 3 输出: “III” </p><p>示例2:<br>输入:num = 4 输出: “IV” </p><p>示例3:<br>输入:num = 9 输出: “IX” </p><p>示例4:<br>输入:num = 58 输出: “LVIII”<br>解释: L = 50, V = 5, III = 3. </p><p>示例5:<br>输入:num = 1994 输出: “MCMXCIV”<br>解释: M = 1000, CM = 900, XC = 90, IV = 4.<br>提示：  1 &lt;= num &lt;= 3999  </p><p>来源：力扣（LeetCode） 链接：<a href="https://leetcode.cn/problems/integer-to-roman" target="_blank" rel="noopener">https://leetcode.cn/problems/integer-to-roman</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; num</span></span><br><span class="line"><span class="comment"> * @return &#123;string&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> intToRoman = <span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> arr = [[<span class="number">1000</span>, <span class="string">'M'</span>],[<span class="number">900</span>, <span class="string">'CM'</span>],[<span class="number">500</span>, <span class="string">'D'</span>],[<span class="number">400</span>, <span class="string">'CD'</span>],[<span class="number">100</span>, <span class="string">'C'</span>],[<span class="number">90</span>, <span class="string">'XC'</span>],[<span class="number">50</span>, <span class="string">'L'</span>],[<span class="number">40</span>, <span class="string">'XL'</span>],[<span class="number">10</span>, <span class="string">'X'</span>],[<span class="number">9</span>, <span class="string">'IX'</span>],[<span class="number">5</span>, <span class="string">'V'</span>],[<span class="number">4</span>, <span class="string">'IV'</span>],[<span class="number">1</span>, <span class="string">'I'</span>]];</span><br><span class="line">    <span class="keyword">const</span> result = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">const</span> [value, symbol] <span class="keyword">of</span> arr )&#123;</span><br><span class="line">        <span class="keyword">if</span>(num &gt;= value)&#123;</span><br><span class="line">            num-=value;</span><br><span class="line">            result.push(symbol)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(num == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result.join(<span class="string">''</span>)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> leetcode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ios手机显示new Date()解析的日期是NaN</title>
      <link href="/2023/07/11/ios%E6%89%8B%E6%9C%BA%E6%98%BE%E7%A4%BAnew%20Date()%E8%A7%A3%E6%9E%90%E7%9A%84%E6%97%A5%E6%9C%9F%E6%98%AFNaN/"/>
      <url>/2023/07/11/ios%E6%89%8B%E6%9C%BA%E6%98%BE%E7%A4%BAnew%20Date()%E8%A7%A3%E6%9E%90%E7%9A%84%E6%97%A5%E6%9C%9F%E6%98%AFNaN/</url>
      <content type="html"><![CDATA[<p>开发活动过程中用到了倒计时，测试过程都是正常的，结果活动上线后有人使用iphone13 mini访问发现抢购模块的倒计时显示有问题,显示了NaN </p><p><img src="/2023/07/11/ios手机显示new Date()解析的日期是NaN/ios手机显示new-Date-解析的日期是NaN/img.png" alt=""></p><p>后来排查后发现是手机兼容性问题</p><p>ios系统不支持2023-07-30这样格式的时间导致出现的这个问题,ios识别2023/07/30这样的格式</p><p>那就拿代码开刀<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//前</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2023-07-30 12:00:00'</span>).getTime()</span><br><span class="line"><span class="comment">//后</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'2023-07-30 12:00:00'</span>.replace(<span class="regexp">/-/g</span>, <span class="string">'/'</span>)).getTime()</span><br></pre></td></tr></table></figure></p><p>结果这样就可以了， 果然兼容性最难搞</p>]]></content>
      
      <categories>
          
          <category> 技术，h5 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 问题 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>报错[BABEL] Note: The code generator has</title>
      <link href="/2023/05/25/%E6%8A%A5%E9%94%99%5BBABEL%5D%20Note:%20The%20code%20generator%20has/"/>
      <url>/2023/05/25/%E6%8A%A5%E9%94%99%5BBABEL%5D%20Note:%20The%20code%20generator%20has/</url>
      <content type="html"><![CDATA[<p>– [BABEL] Note: The code generator has deoptimised the styling of <strong><strong>*</strong></strong>.development.js as it exceeds the max of 500KB.<br>字面意思是：babel警告，代码生成器已经将这块js去除了styling, 因为他超过了500KB.</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; <span class="attr">test</span>: <span class="regexp">/\.js$/</span>, <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>, <span class="attr">loader</span>: <span class="string">'babel-loader'</span>&#125;,</span><br></pre></td></tr></table></figure>]]></content>
      
      
    </entry>
    
    <entry>
      <title>10-正则表达式匹配</title>
      <link href="/2023/04/21/10-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8C%B9%E9%85%8D/"/>
      <url>/2023/04/21/10-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8C%B9%E9%85%8D/</url>
      <content type="html"><![CDATA[<p>给你一个字符串 s 和一个字符规律 p，请你来实现一个支持 ‘.’ 和 ‘<em>‘ 的正则表达式匹配。<br>‘.’ 匹配任意单个字符<br>‘</em>‘ 匹配零个或多个前面的那一个元素<br>所谓匹配，是要涵盖 整个 字符串 s的，而不是部分字符串。</p><p>示例 1：<br>输入：s = “aa”, p = “a”<br>输出：false<br>解释：”a” 无法匹配 “aa” 整个字符串。</p><p>示例 2:<br>输入：s = “aa”, p = “a<em>“<br>输出：true<br>解释：因为 ‘</em>‘ 代表可以匹配零个或多个前面的那一个元素, 在这里前面的元素就是 ‘a’。因此，字符串 “aa” 可被视为 ‘a’ 重复了一次。</p><p>示例 3：<br>输入：s = “ab”, p = “.<em>“<br>输出：true<br>解释：”.</em>“ 表示可匹配零个或多个（’*’）任意字符（’.’）。</p><p>提示：<br>1 &lt;= s.length &lt;= 20<br>1 &lt;= p.length &lt;= 20<br>s 只包含从 a-z 的小写字母。<br>p 只包含从 a-z 的小写字母，以及字符 . 和 <em>。<br>保证每次出现字符 </em> 时，前面都匹配到有效的字符</p><p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode.cn/problems/regular-expression-matching" target="_blank" rel="noopener">https://leetcode.cn/problems/regular-expression-matching</a><br>著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* @param &#123;string&#125; s</span></span><br><span class="line"><span class="comment">* @param &#123;string&#125; p</span></span><br><span class="line"><span class="comment">* @return &#123;boolean&#125;</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">const</span> isMatch = <span class="function">(<span class="params">s, p</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s == <span class="literal">null</span> || p == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> sLen = s.length, pLen = p.length;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> dp = <span class="keyword">new</span> <span class="built_in">Array</span>(sLen + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; dp.length; i++) &#123;</span><br><span class="line">        dp[i] = <span class="keyword">new</span> <span class="built_in">Array</span>(pLen + <span class="number">1</span>).fill(<span class="literal">false</span>); <span class="comment">// 将项默认为false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// base case</span></span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt; pLen + <span class="number">1</span>; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (p[j - <span class="number">1</span>] == <span class="string">"*"</span>) dp[<span class="number">0</span>][j] = dp[<span class="number">0</span>][j - <span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 迭代</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; sLen + <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">1</span>; j &lt; pLen + <span class="number">1</span>; j++) &#123;</span><br><span class="line">          <span class="keyword">if</span> (s[i - <span class="number">1</span>] == p[j - <span class="number">1</span>] || p[j - <span class="number">1</span>] == <span class="string">"."</span>) &#123;</span><br><span class="line">            dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">          &#125; <span class="keyword">else</span> <span class="keyword">if</span> (p[j - <span class="number">1</span>] == <span class="string">"*"</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i - <span class="number">1</span>] == p[j - <span class="number">2</span>] || p[j - <span class="number">2</span>] == <span class="string">"."</span>) &#123;</span><br><span class="line">              dp[i][j] = dp[i][j - <span class="number">2</span>] || dp[i - <span class="number">1</span>][j - <span class="number">2</span>] || dp[i - <span class="number">1</span>][j];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">              dp[i][j] = dp[i][j - <span class="number">2</span>];</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[sLen][pLen]; <span class="comment">// 长sLen的s串 是否匹配 长pLen的p串</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>// 作者：xiao_ben_zhu<br>// 链接：<a href="https://leetcode.cn/problems/regular-expression-matching/solution/shou-hui-tu-jie-wo-tai-nan-liao-by-hyj8/" target="_blank" rel="noopener">https://leetcode.cn/problems/regular-expression-matching/solution/shou-hui-tu-jie-wo-tai-nan-liao-by-hyj8/</a><br>// 来源：力扣（LeetCode）<br>// 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>]]></content>
      
      <categories>
          
          <category> leetcode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>JSON.stringify()转换后包含值为undefined数据丢失的问题</title>
      <link href="/2023/03/31/JSON.stringify()%E8%BD%AC%E6%8D%A2%E5%90%8E%E5%8C%85%E5%90%AB%E5%80%BC%E4%B8%BAundefined%E6%95%B0%E6%8D%AE%E4%B8%A2%E5%A4%B1%E7%9A%84%E9%97%AE%E9%A2%98/"/>
      <url>/2023/03/31/JSON.stringify()%E8%BD%AC%E6%8D%A2%E5%90%8E%E5%8C%85%E5%90%AB%E5%80%BC%E4%B8%BAundefined%E6%95%B0%E6%8D%AE%E4%B8%A2%E5%A4%B1%E7%9A%84%E9%97%AE%E9%A2%98/</url>
      <content type="html"><![CDATA[<p>最近开发的时候碰到个问题，使用JSON.stringify()转换数据时，如果对象里面的值是undefined，这个值会丢失，</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">a</span>:<span class="number">1</span>, <span class="attr">b</span>:<span class="string">"12"</span>, <span class="attr">c</span>: <span class="string">""</span>, <span class="attr">d</span>: <span class="number">234</span>, <span class="attr">e</span>: <span class="literal">undefined</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(obj));<span class="comment">//'&#123;"a":1,"b":"12","c":"","d":234&#125;'</span></span><br></pre></td></tr></table></figure><p>上面正常的一个对象在使用JSON.stringify转换的时候，e丢了。</p><h4 id="JSON-stringify-的实现可以分为以下几个步骤："><a href="#JSON-stringify-的实现可以分为以下几个步骤：" class="headerlink" title="JSON.stringify()的实现可以分为以下几个步骤："></a>JSON.stringify()的实现可以分为以下几个步骤：</h4><p>1、判断输入参数是否是一个对象类型。如果不是对象类型，则直接返回这个值。<br>2、创建一个数组，用于存储对象的属性名和对应的值。<br>3、遍历对象的属性，将属性名和对应的值添加到数组中。<br>4、根据选项参数控制输出结果的格式。<br>5、将数组转换为JSON格式的字符串并返回。</p><p>并不是所有的数据类型的转换JSON都是支持的，因此部分不支持的就会被忽略掉，比如undefined</p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>9-回文数</title>
      <link href="/2023/03/23/9-%E5%9B%9E%E6%96%87%E6%95%B0/"/>
      <url>/2023/03/23/9-%E5%9B%9E%E6%96%87%E6%95%B0/</url>
      <content type="html"><![CDATA[<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>给你一个整数 x ，如果 x 是一个回文整数，返回 true ；否则，返回 false。</p><p>回文数是指正序（从左向右）和倒序（从右向左）读都是一样的整数。<br>例如，121 是回文，而 123 不是。</p><p>示例 1：</p><blockquote><p>输入：x = 121<br>输出：true</p></blockquote><p>示例2：</p><blockquote><p>输入：x = -121<br>输出：false<br>解释：从左向右读, 为 -121 。 从右向左读, 为 121- 。因此它不是一个回文数。</p></blockquote><p>示例 3：</p><blockquote><p>输入：x = 10<br>输出：false<br>解释：从右向左读, 为 01 。因此它不是一个回文数。</p></blockquote><p>提示：<br>-2^31&lt;= x &lt;= 2^31- 1</p><p>进阶：你能不将整数转为字符串来解决这个问题吗？</p><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>1、转换成字符串解决</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @param &#123;number&#125; x</span><br><span class="line"> * @return &#123;boolean&#125;</span><br><span class="line"> */</span><br><span class="line">var isPalindrome = function(x) &#123;</span><br><span class="line">    const reverseValue = String(x).split(&quot;&quot;).reverse().join(&quot;&quot;);</span><br><span class="line">    console.log(&quot;reverseValue:&quot;, reverseValue);</span><br><span class="line">    if(String(x) === reverseValue)&#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//简化版本</span><br><span class="line">var isPalindrome = function(x) &#123;</span><br><span class="line">    return (x+&quot;&quot;).split(&quot;&quot;).reverse().join(&quot;&quot;) == x+&quot;&quot;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>2、不用字符串解决</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var isPalindrome = function(x) &#123;</span><br><span class="line">//负数，0，10 的倍数，都不可能是回文数</span><br><span class="line">    if(x &lt; 0 || (!(x % 10) &amp;&amp; x)) return false;</span><br><span class="line">    //利用整数反转来获取反转后的数，若和参数完全一致，则是回文数。</span><br><span class="line">    let x2 = x, res = 0;</span><br><span class="line">    while(x2)&#123;</span><br><span class="line">        res = res * 10 + x2 % 10;</span><br><span class="line">        x2 = ~~(x2 / 10);</span><br><span class="line">    &#125;</span><br><span class="line">    return res === x;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//优化（只判断到一半就可以确定是否是回文了）</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> leetcode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ios短信验证码自动填充两次</title>
      <link href="/2023/03/22/ios%E7%9F%AD%E4%BF%A1%E9%AA%8C%E8%AF%81%E7%A0%81%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%85%85%E4%B8%A4%E6%AC%A1/"/>
      <url>/2023/03/22/ios%E7%9F%AD%E4%BF%A1%E9%AA%8C%E8%AF%81%E7%A0%81%E8%87%AA%E5%8A%A8%E5%A1%AB%E5%85%85%E4%B8%A4%E6%AC%A1/</url>
      <content type="html"><![CDATA[<p>ios系统内部的bug<br>某些app或者微信网页里，复制手机收到的短信验证码，会触发UITextFieldTextDidChangeNotification监听事件，导致验证码出现了两次，这个应该是ios系统内部的bug.</p><p>解决方案</p><blockquote><p>如果input框的type=“text” 或者 type=“password”，则可以给input框加上maxLength属性，让最大长度等于验证码的位数。<br>如果input框的type=“number”，则可以用如下方法解决：</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Input maxLength=&#123;<span class="number">6</span>&#125; placeholder=<span class="string">"请填写验证码"</span>/&gt;</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"number"</span> oninput=<span class="string">"if(value.length&gt;6) value = value.slice(0,6)"</span>&gt;</span><br></pre></td></tr></table></figure><p>type=‘text’ 或者 type=’password’时候</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;Field</span><br><span class="line">    v-model=&quot;checkcode&quot;</span><br><span class="line">    center</span><br><span class="line">    placeholder=&quot;请输入验证码&quot;</span><br><span class="line">    @keyup.native=&quot;checkcodeInput&quot;</span><br><span class="line">    maxlength=&quot;6&quot;</span><br><span class="line">  &gt;</span><br><span class="line">&lt;/Field&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 问题 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>8-字符串转换整数（atoi）</title>
      <link href="/2023/03/17/8-%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E6%95%B4%E6%95%B0%EF%BC%88atoi%EF%BC%89/"/>
      <url>/2023/03/17/8-%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2%E6%95%B4%E6%95%B0%EF%BC%88atoi%EF%BC%89/</url>
      <content type="html"><![CDATA[<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>请你来实现一个myAtoi(string s)函数，使其能将字符串转换成一个 32 位有符号整数（类似 C/C++ 中的 atoi 函数）。</p><p>函数myAtoi(string s) 的算法如下：</p><p>读入字符串并丢弃无用的前导空格<br>检查下一个字符（假设还未到字符末尾）为正还是负号，读取该字符（如果有）。 确定最终结果是负数还是正数。 如果两者都不存在，则假定结果为正。<br>读入下一个字符，直到到达下一个非数字字符或到达输入的结尾。字符串的其余部分将被忽略。<br>将前面步骤读入的这些数字转换为整数（即，”123” -&gt; 123， “0032” -&gt; 32）。如果没有读入数字，则整数为 0 。必要时更改符号（从步骤 2 开始）。<br>如果整数数超过 32 位有符号整数范围 [−2^31, 2^31− 1] ，需要截断这个整数，使其保持在这个范围内。具体来说，小于 −2^31 的整数应该被固定为 −2^31 ，大于 2^31− 1 的整数应该被固定为 2^31− 1 。<br>返回整数作为最终结果。</p><p>注意：<br>本题中的空白字符只包括空格字符 ‘ ‘ 。<br>除前导空格或数字后的其余字符串外，请勿忽略 任何其他字符。</p><h3 id="使用parseInt解决"><a href="#使用parseInt解决" class="headerlink" title="使用parseInt解决"></a>使用parseInt解决</h3><p>(投机取巧了)，没有按照人家官方说的那种方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @param &#123;string&#125; s</span><br><span class="line"> * @return &#123;number&#125;</span><br><span class="line"> */</span><br><span class="line">var myAtoi = function(s) &#123;</span><br><span class="line">let num = parseInt(s, 10);</span><br><span class="line">if(isNaN(num))&#123;</span><br><span class="line">return 0;</span><br><span class="line">&#125; else if(num &lt; Math.pow(-2, 31) || num &gt; (Math.pow(2, 31)-1))&#123;</span><br><span class="line">return num &lt; Math.pow(-2, 31) ? Math.pow(-2, 31) : (Math.pow(2, 31)-1);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">return num;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><h3 id="自动机"><a href="#自动机" class="headerlink" title="自动机"></a>自动机</h3><ul><li>自动机<br>我们的程序在每个时刻有一个状态s，每次从序列中输入一个字符c，并根据字符c 转移到下一个状态s’。这样，我们只需要建立一个覆盖所有情况的从s与c映射到s’的表格即可解决题目中的问题。</li></ul><h4 id="状态分析"><a href="#状态分析" class="headerlink" title="状态分析"></a>状态分析</h4><p>首先，从题意中，我们很轻易地可以知道，字符串str中的每个字符，都有可能是以下的四种类型中的一种：</p><ul><li>空格字符’ ‘（Space）</li><li>正负号+和-(Sign)</li><li>字符串型的数值（Number）</li><li>除以上三种情况外的任何情况（Other）</li></ul><h4 id="阶段分析"><a href="#阶段分析" class="headerlink" title="阶段分析"></a>阶段分析</h4><p>如果想要将字符串转换为整数，那么必然会经历这四个有序的阶段：</p><p>1、开始转换（start）<br>2、判断正负（signed）<br>3、生成数值（in_number）<br>4、结束转换（end）</p><h4 id="生成自动机"><a href="#生成自动机" class="headerlink" title="生成自动机"></a>生成自动机</h4><p>这步是最为关键的一步，它将状态和阶段巧妙地结合了起来。</p><p>话不多说，让我们先来看一个表格：</p><table><thead><tr><th></th><th>‘’（Space）</th><th>+/-（Sign）</th><th>Number</th><th>Other</th></tr></thead><tbody><tr><td>start</td><td>start</td><td>signed</td><td>in_number</td><td>end</td></tr><tr><td>signed</td><td>end</td><td>end</td><td>in_number</td><td>end</td></tr><tr><td>in_number</td><td>end</td><td>end</td><td>in_number</td><td>end</td></tr><tr><td>end</td><td>end</td><td>end</td><td>end</td></tr></tbody></table><p>现在来说明下这个表格的含义。</p><p>不同的行象征不同执行阶段：</p><ul><li>第0行：开始转换阶段</li><li>第1行：判断正负阶段</li><li>第2行：生成数值阶段</li><li>第3行：结束转换阶段</li></ul><p>不同的列象征不同的字符类型：</p><ul><li>第0列：字符为空格</li><li>第1列：字符为正、负号</li><li>第2列：字符为字符型数值</li><li>第3列：字符为其他形式<br>由行、列确定的坐标，象征着下一个字符所处的执行阶段。</li></ul><p>例如，官方的str例子：” -42”,就会进行如下的转换流程（请结合表格认真阅读，这对你理解“自动机”的概念很有帮助）：</p><ol><li>一开始，必然是开始阶段，所以从第0行，即[0, ?]</li><li>第一个字符是空格，找到空格所在的列，即[?, 0]</li><li>结合行、列，即[0, 0],发现将为下一个字符执行start阶段</li><li>所以第二个字符还是从第0行开始，即[0, ?]</li><li>第二个字符是空格，空格的列数是[?, 0]</li><li>所以第三个字符的还是执行start阶段（[0, 0]）</li><li>…（空格的分析不再赘述）</li><li>发现字符是负号-,而此时是在第0行（之前空格的原因），所以坐标是[0, 1]，</li><li>那么可以下一个字符的执行阶段是signed，即第1列（[1, ?]）</li><li>接下来的字符是字符型的4，则列数是[?, 2]</li><li>所以坐标确定为[1, 2]，则下一个字符的执行阶段是in_number,即[2, ?]</li><li>这次的字符还是字符型（2），则依旧定位到[?, 2]，则下一个字符执行in_number阶段</li><li>没有字符了，遍历结束</li><li>依据负号和数值,得出转换结果为-42</li></ol><p>现在你理解了如何由状态和阶段构建自动机了吧？<br>以上的这些步骤描述，其实就是LeetCode官方图例所表达的意思。<br><img src="/2023/03/17/8-字符串转换整数（atoi）/img.png" alt=""></p><h4 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h4><p>话不多说，看代码吧~<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @param &#123;string&#125; str</span><br><span class="line"> * @return &#123;number&#125;</span><br><span class="line"> */</span><br><span class="line">var myAtoi = function(str) &#123;</span><br><span class="line">  // 自动机类</span><br><span class="line">  class Automaton&#123;</span><br><span class="line">    constructor() &#123;</span><br><span class="line">      // 执行阶段，默认处于开始执行阶段</span><br><span class="line">      this.state = &apos;start&apos;;</span><br><span class="line">      // 正负符号，默认是正数</span><br><span class="line">      this.sign = 1;</span><br><span class="line">      // 数值，默认是0</span><br><span class="line">      this.answer = 0;</span><br><span class="line">      /*</span><br><span class="line">      关键点：</span><br><span class="line">      状态和执行阶段的对应表</span><br><span class="line">      含义如下：</span><br><span class="line">      [执行阶段, [空格, 正负, 数值, 其他]]</span><br><span class="line">      */</span><br><span class="line">      this.map = new Map([</span><br><span class="line">        [&apos;start&apos;, [&apos;start&apos;, &apos;signed&apos;, &apos;in_number&apos;, &apos;end&apos;]],</span><br><span class="line">        [&apos;signed&apos;, [&apos;end&apos;, &apos;end&apos;, &apos;in_number&apos;, &apos;end&apos;]],</span><br><span class="line">        [&apos;in_number&apos;, [&apos;end&apos;, &apos;end&apos;, &apos;in_number&apos;, &apos;end&apos;]],</span><br><span class="line">        [&apos;end&apos;, [&apos;end&apos;, &apos;end&apos;, &apos;end&apos;, &apos;end&apos;]]</span><br><span class="line">      ])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 获取状态的索引</span><br><span class="line">    getIndex(char) &#123;</span><br><span class="line">      if (char === &apos; &apos;) &#123;</span><br><span class="line">        // 空格判断</span><br><span class="line">        return 0;</span><br><span class="line">      &#125; else if (char === &apos;-&apos; || char === &apos;+&apos;) &#123;</span><br><span class="line">        // 正负判断</span><br><span class="line">        return 1;</span><br><span class="line">      &#125; else if (typeof Number(char) === &apos;number&apos; &amp;&amp; !isNaN(char)) &#123;</span><br><span class="line">        // 数值判断</span><br><span class="line">        return 2;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        // 其他情况</span><br><span class="line">        return 3;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /*</span><br><span class="line">    关键点：</span><br><span class="line">    字符转换执行函数</span><br><span class="line">    */</span><br><span class="line">    get(char) &#123;</span><br><span class="line">      /*</span><br><span class="line">      易错点：</span><br><span class="line">      每次传入字符时，都要变更自动机的执行阶段</span><br><span class="line">      */</span><br><span class="line">      this.state = this.map.get(this.state)[this.getIndex(char)];</span><br><span class="line"></span><br><span class="line">      if(this.state === &apos;in_number&apos;) &#123;</span><br><span class="line">        /*</span><br><span class="line">        小技巧：</span><br><span class="line">        在JS中，对字符串类型进行减法操作，可以将得到一个数值型（Number）的值</span><br><span class="line"></span><br><span class="line">        易错点：</span><br><span class="line">        本处需要利用括号来提高四则运算的优先级</span><br><span class="line">        */</span><br><span class="line">        this.answer = this.answer * 10 + (char - 0);</span><br><span class="line"></span><br><span class="line">        /*</span><br><span class="line">        易错点：</span><br><span class="line">        在进行负数比较时，需要将INT_MIN变为正数</span><br><span class="line">        */</span><br><span class="line">        this.answer = this.sign === 1 ? Math.min(this.answer, Math.pow(2, 31) - 1) : Math.min(this.answer, -Math.pow(-2, 31));</span><br><span class="line">      &#125; else if (this.state === &apos;signed&apos;) &#123;</span><br><span class="line">        /*</span><br><span class="line">        优化点：</span><br><span class="line">        对于一个整数来说，非正即负，</span><br><span class="line">        所以正负号的判断，只需要一次。</span><br><span class="line">        故，可以降低其判断的优先级</span><br><span class="line">        */</span><br><span class="line">        this.sign = char === &apos;+&apos; ? 1 : -1;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // 生成自动机实例</span><br><span class="line">  let automaton = new Automaton();</span><br><span class="line"></span><br><span class="line">  // 遍历每个字符</span><br><span class="line">  for(let char of str) &#123;</span><br><span class="line">    // 依次进行转换</span><br><span class="line">    automaton.get(char);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // 返回值，整数 = 正负 * 数值</span><br><span class="line">  return automaton.sign * automaton.answer;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      <categories>
          
          <category> leetcode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>setFieldsValue的key是个变量</title>
      <link href="/2023/03/16/setFieldsValue%E7%9A%84key%E6%98%AF%E4%B8%AA%E5%8F%98%E9%87%8F/"/>
      <url>/2023/03/16/setFieldsValue%E7%9A%84key%E6%98%AF%E4%B8%AA%E5%8F%98%E9%87%8F/</url>
      <content type="html"><![CDATA[<p>使用antD的form表单开发，给formItem中的元素设置值，或者是提交后把值置为空。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setFieldsValue设置一组输入控件的值，如果设置的key是个变量时要用【】包裹</span><br></pre></td></tr></table></figure>]]></content>
      
      
    </entry>
    
    <entry>
      <title>deepClone深拷贝</title>
      <link href="/2023/03/15/deepClone%E6%B7%B1%E6%8B%B7%E8%B4%9D/"/>
      <url>/2023/03/15/deepClone%E6%B7%B1%E6%8B%B7%E8%B4%9D/</url>
      <content type="html"><![CDATA[<p>//空间换时间</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">export default function memo(func, hasher)&#123;</span><br><span class="line">const cache = &#123;&#125;;</span><br><span class="line">return function(...args)&#123;</span><br><span class="line">let key = &quot;&quot;+(hasher ? hasher(...args) : args[0])</span><br><span class="line">if(!cache[key])&#123;</span><br><span class="line">cache[key] = function(...args);</span><br><span class="line">&#125;</span><br><span class="line">return cache[key]</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>JSON.parse(JSON.stringfy())<br>实现深拷贝—缺陷：不能拷贝Symbol、函数、循环引用。</p><p>深拷贝——简介版</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function deepClone = obj =&gt; &#123;</span><br><span class="line">if(typeof obj != &quot;object&quot; || obj === null)&#123;</span><br><span class="line">return obj;</span><br><span class="line">&#125;</span><br><span class="line">let result;</span><br><span class="line">if(base instanceof Array)&#123;</span><br><span class="line">result = [];</span><br><span class="line">&#125; else &#123;</span><br><span class="line">result = &#123;&#125;;</span><br><span class="line">&#125;</span><br><span class="line">for(let item in base)&#123;</span><br><span class="line">if(base.hasOwnProperty(item))&#123;</span><br><span class="line">result[item] = deepClone(base[item])</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>深拷贝—— 可以解决循环引用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">export default deepClone = base =&gt;&#123;</span><br><span class="line">const baseStack=[];</span><br><span class="line">const targetStack = [];</span><br><span class="line">let _clone = base =&gt; &#123;</span><br><span class="line">if(typeof base != &quot;object&quot; || base === null)&#123;</span><br><span class="line">return base;</span><br><span class="line">&#125;</span><br><span class="line">let target = &#123;&#125;;</span><br><span class="line">if(Array.isArray(base))&#123;</span><br><span class="line">target = [];</span><br><span class="line">&#125;</span><br><span class="line">const index = baseStack.indexOf(base);</span><br><span class="line">if(index != -1)&#123;</span><br><span class="line">return targetStack[index];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">baseStack.push(base);</span><br><span class="line">targetStack.push(target);</span><br><span class="line"></span><br><span class="line">for(let i in base)&#123;</span><br><span class="line">target[i] = _clone(base[i]);_</span><br><span class="line">&#125;</span><br><span class="line">return target;</span><br><span class="line">&#125;_</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
    </entry>
    
    <entry>
      <title>git config中name和email问题</title>
      <link href="/2023/02/17/git%20config%E4%B8%ADname%E5%92%8Cemail%E9%97%AE%E9%A2%98/"/>
      <url>/2023/02/17/git%20config%E4%B8%ADname%E5%92%8Cemail%E9%97%AE%E9%A2%98/</url>
      <content type="html"><![CDATA[<h3 id="单个项目设置name和email"><a href="#单个项目设置name和email" class="headerlink" title="单个项目设置name和email"></a>单个项目设置name和email</h3><p>每个项目都有一个 .git 文件夹（这个文件夹默认可能不显示）， 该文件夹下有config文件，里面包含当前项目的user.name和user.email</p><p>git config user.name “”<br>git config user.email “”</p><p>进入.git文件夹后，cat config 就可以看到设置的名字和邮件了<br><img src="/2023/02/17/git config中name和email问题/git-config中name和email问题/git-config-01.png" alt=""></p><p><img src="/2023/02/17/git config中name和email问题/git-config中name和email问题/git-config-02.png" alt=""></p><h3 id="全局设置name和email"><a href="#全局设置name和email" class="headerlink" title="全局设置name和email"></a>全局设置name和email</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#设置name</span><br><span class="line">git config --global user.name &quot;XXXX&quot;</span><br><span class="line">#设置email</span><br><span class="line">git config --global user.email &quot;XXXX&quot;</span><br></pre></td></tr></table></figure><ul><li>–global参数，表示你这台机器上所有的git仓库都会使用这个配置，当然也可以对某个仓库指定不同的用户名和emial地址，参考上面的单个项目的name和email配置。</li><li><p>配置好后， 可以使用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config -l</span><br></pre></td></tr></table></figure></li><li><p>查看配置<br><img src="/2023/02/17/git config中name和email问题/git-config中name和email问题/git-config-03.jpeg" alt=""></p></li></ul><h3 id="ssh：operation-timed-out"><a href="#ssh：operation-timed-out" class="headerlink" title="ssh：operation timed out"></a>ssh：operation timed out</h3><p><img src="/2023/02/17/git config中name和email问题/git-config中name和email问题/ssh：operation%20timed%20out.png" alt=""></p><p>偶然间就突然报了上面的错误， 我没有改动什么呀～<br>最后知道原因了， 是因为公司的项目设置了ip的限制，不能使用ssh了。<br>这种情况只能添加ip，但是我移动一个地方就要改动一次ip，这种太复杂了。 我就先把ssh改为https吧</p><p>使用下面的语句更改</p><h4 id="ssh改为https"><a href="#ssh改为https" class="headerlink" title="ssh改为https"></a>ssh改为https</h4><p>git remote set-url origin <a href="http://gitlab.*************ui.git" target="_blank" rel="noopener">http://gitlab.*************ui.git</a></p><h4 id="https改为ssh"><a href="#https改为ssh" class="headerlink" title="https改为ssh"></a>https改为ssh</h4><p>git remote set-url origin git@gitlab.<strong><strong>*</strong></strong>-ui.git</p>]]></content>
      
      <categories>
          
          <category> 技术，git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 问题 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>(一)两数之和</title>
      <link href="/2021/11/15/(%E4%B8%80)%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/"/>
      <url>/2021/11/15/(%E4%B8%80)%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C/</url>
      <content type="html"><![CDATA[<h1 id="两数之和"><a href="#两数之和" class="headerlink" title="两数之和"></a>两数之和</h1><p>给定一个整数数组 nums和一个整数目标值 target，请你在该数组中找出 <strong>和为目标值</strong>  <em>target</em> 的那 <strong>两个</strong> 整数，并返回它们的数组下标。</p><p>你可以假设每种输入只会对应一个答案。但是，数组中同一个元素在答案里不能重复出现。</p><p>你可以按任意顺序返回答案。</p><p>示例 1：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入：nums = [2,7,11,15], target = 9</span><br><span class="line">输出：[0,1]</span><br><span class="line">解释：因为 nums[0] + nums[1] == 9 ，返回 [0, 1] 。</span><br></pre></td></tr></table></figure></p><p>示例 2：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：nums = [3,2,4], target = 6</span><br><span class="line">输出：[1,2]</span><br></pre></td></tr></table></figure><p>示例 3：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：nums = [3,3], target = 6</span><br><span class="line">输出：[0,1]</span><br></pre></td></tr></table></figure><p>提示：</p><ul><li>2 &lt;= nums.length &lt;= 104</li><li>-109 &lt;= nums[i] &lt;= 109</li><li>-109 &lt;= target &lt;= 109</li><li><strong>只会存在一个有效答案</strong></li></ul><p><strong>进阶：</strong>你可以想出一个时间复杂度小于 O(n2) 的算法吗？</p><hr><p>解题1：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var twoSum = function(nums, target)&#123;</span><br><span class="line">    for(let i=0;i&lt;nums.length;i++)&#123;</span><br><span class="line">        let num2 = target - nums[i];</span><br><span class="line">        if(nums.includes(num2) &amp;&amp; nums.indexOf(num2) != i)&#123;</span><br><span class="line">            return [i, nums.indexOf(num2)]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>解题2：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const twoSum = (nums, target) =&gt; &#123;</span><br><span class="line">  const prevNums = &#123;&#125;;                         // 存放出现过的数字，和对应的索引</span><br><span class="line">  for (let i = 0; i &lt; nums.length; i++) &#123;      // 遍历每一项</span><br><span class="line">    const curNum = nums[i];                    // 当前项</span><br><span class="line">    const targetNum = target - curNum;         // 希望从过去的数字中找到的呼应项</span><br><span class="line">    const targetNumIndex = prevNums[targetNum];// 在prevNums中找targetNum的索引</span><br><span class="line">    if (targetNumIndex !== undefined) &#123;        // 如果能找到</span><br><span class="line">      return [targetNumIndex, i];              // 直接返回targetNumIndex和当前的i</span><br><span class="line">    &#125;                                          // 如果找不到，说明之前没出现过targetNum</span><br><span class="line">    prevNums[curNum] = i;                      // 往prevNums存当前curNum和对应的i</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 力扣 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>alternate of undefined</title>
      <link href="/2021/04/16/alternate%20of%20undefined/"/>
      <url>/2021/04/16/alternate%20of%20undefined/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>前一天还可以好好运行的项目,第二天打开就报错了.<br>没有什么改动,真的是感觉代码有毒~<br>既然碰到了这个坑,那就先跳再说</p><h1 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h1><p>项目使用的react版本为16.10.0<br>但是2021-03-22 react官方更新了17.0.2的版本，导致我的项目报了alternate of undefined，就很奇怪的问题，我就添加debugger一步一步的找问题<br><img src="/2021/04/16/alternate of undefined/bug.png" alt=""></p><p>左边是react16.8.6下运行的显示的有_reactInternalFiber这个属性，但是右边的就没有这个属性，react16的大版本都是用的Fiber，没有找到这个属性，所以后续就报错了<br><img src="/2021/04/16/alternate of undefined/01.png" alt=""><br><img src="/2021/04/16/alternate of undefined/02.jpg" alt=""></p><h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><p>网上去找这个问题的解决方案,很多人说是版本的问题.<br>然后就更新版本，把react、react-dom和react-art 都统一更新到17.0.2的版本，这个问题就解决了。<br>看网上说最好是保证这三个使用的插件大版本是同一个</p><h1 id="遗留问题"><a href="#遗留问题" class="headerlink" title="遗留问题"></a>遗留问题</h1><p>（PS：为什么react更新版本导致了这个项目的问题呢，没有检查到项目中是否有用到云版本~    待解决！！！）</p>]]></content>
      
      <categories>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>git学习指南</title>
      <link href="/2021/04/12/git%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97/"/>
      <url>/2021/04/12/git%E5%AD%A6%E4%B9%A0%E6%8C%87%E5%8D%97/</url>
      <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>那天心血来潮去上图看书了,拿了一本《git学习指南》，还挺厚的一本书，我就走马观花似的看了一遍，记录一下我的摘抄。</p><h3 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h3><p>–format、–oneline 格式化输出<br>–stat、–shortstat 统计信息修改<br>–grph  日志选项<br>–interactive  代码段选取</p><p>git diff 文件名   //查看被修改的行<br>git rm 文件名   //删除文件<br>git log       //显示历史<br>git clone –bare ***.git    //创建裸版本库</p><p>git log -n 3  //only the last three commits<br>git log –online //only one line per commit<br>git log –stat //only show statistics<br>git log –graph –online  //各提交之间的关系<br>git staus 中的文件可以使用   git reset HEAD(重置为当前的HEAD版本)  ***文件  移出暂存区 </p><p>git status –short<br>git stash<br>git stash pop<br>git stash list<br>git stash pop <strong>文件<br>git log –summary -m90% | grep -e “^rename” 百分比显示源文件和目标文件的相似度<br>git log –follow </strong>文件 //连续读取文件被重命名之后的历史记录<br>git blame -M -C -C -C <strong>文件 //确定文件来源<br>git branch //查看分支<br>git checkout -b </strong>分支   //创建并切换到新分支<br>git branch -d <strong>分支  //删除分支<br>git branch </strong>分支  **分支散列值    // 恢复某个分支<br>git reflog  // 列取散列值<br>git reset merge  //取消合并<br>git remote –verbose   //显示用于获取或推送提交的路径<br>git branch -r //跟踪分支<br>git pull –rebase</p><p>git tag  //创建标签<br>git show -ref –dereference –tags  //打印标签的散列值<br>git log –oneline –decorate  //将标签添加到日志输出中<br>git log -l  //显示所有标签<br>git log –walk-reflogs mybranch  //显示一个分支的本地历史记录<br>git diff<br>git diff –word-diff    //按单词显示所做的修改<br>git diff –word-diff=color    //使用不同的颜色显示文件中的不同<br>git config –global alias.ci commit   //commit的别名为ci<br>git config –global alias.st status  //设置status的别名为st<br>git rebase 变基</p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>在React Hooks中使用生命周期方法</title>
      <link href="/2021/03/16/%E5%9C%A8React%20Hooks%E4%B8%AD%E4%BD%BF%E7%94%A8%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%96%B9%E6%B3%95/"/>
      <url>/2021/03/16/%E5%9C%A8React%20Hooks%E4%B8%AD%E4%BD%BF%E7%94%A8%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%96%B9%E6%B3%95/</url>
      <content type="html"><![CDATA[<p>本文来自于<a href="https://www.sollrei.me/post/frontend/2019-05-28" target="_blank" rel="noopener">Sollrei</a></p><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>因为项目上用到了hooks+ts，在使用定时任务的时候，退出当前组件时，仍然会执行定时任务，但是在hooks中没有componentWillUnMount方法，所以就网上查找资料。</p><h3 id="React新版本的生命周期"><a href="#React新版本的生命周期" class="headerlink" title="React新版本的生命周期"></a>React新版本的生命周期</h3><p><img src="/2021/03/16/在React Hooks中使用生命周期方法/01.jpg" alt=""></p><blockquote><p>react 16.3之后新增了两个生命周期getDerivedStateFromProps和getSnapshotBeforeUpdate，并且原来的componentWillMount，componentWillReceiveProps以及componentWillUpdate将被移除。</p></blockquote><h3 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h3><p>函数组件不用写constructor，用useState初始化state</p><h3 id="getDerivedStateFromProps"><a href="#getDerivedStateFromProps" class="headerlink" title="getDerivedStateFromProps"></a>getDerivedStateFromProps</h3><blockquote><p>这个方法基本用来替代componentWillReceiveProps，它是个静态方法，也就是说不能访问this，也就是说不能改this.state</p></blockquote><p>官方栗子</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ScrollView</span>(<span class="params">&#123;row&#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> [isScrollingDown, setIsScrollingDown] = useState(<span class="literal">false</span>);</span><br><span class="line">  <span class="keyword">let</span> [prevRow, setPrevRow] = useState(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (row !== prevRow) &#123;</span><br><span class="line">    <span class="comment">// 上次渲染后row发生变化  更新isScrollingDown.</span></span><br><span class="line">    setIsScrollingDown(prevRow !== <span class="literal">null</span> &amp;&amp; row &gt; prevRow);</span><br><span class="line">    setPrevRow(row);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="string">`Scrolling down: <span class="subst">$&#123;isScrollingDown&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="shouldComponentUpdate"><a href="#shouldComponentUpdate" class="headerlink" title="shouldComponentUpdate"></a>shouldComponentUpdate</h3><p>使用React.memo，类似PureComponent，但它只对比props的变化</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Demo = React.memo(<span class="function">(<span class="params">props</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>对子组件可以使用useMemo</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params">&#123; a, b &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 只在a变化时re-render</span></span><br><span class="line">  <span class="keyword">const</span> child1 = useMemo(<span class="function"><span class="params">()</span> =&gt;</span> &lt;Child1 a=&#123;a&#125; /&gt;, [a]);</span><br><span class="line">  <span class="comment">// 只在b变化时re-render</span></span><br><span class="line">  <span class="keyword">const</span> child2 = useMemo(<span class="function"><span class="params">()</span> =&gt;</span> &lt;Child2 b=&#123;b&#125; /&gt;, [b]);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &#123;child1&#125;</span><br><span class="line">      &#123;child2&#125;</span><br><span class="line">    &lt;<span class="regexp">/&gt;</span></span><br><span class="line"><span class="regexp">  )</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="render"><a href="#render" class="headerlink" title="render"></a>render</h3><p>那就是函数它自个儿了……<br>下面几个可以使用useEffect(fn, […watchStates])实现的</p><h3 id="componentDidMount"><a href="#componentDidMount" class="headerlink" title="componentDidMount"></a>componentDidMount</h3><p>第二个参数传空数组</p><blockquote><p>这么写在useEffect里使用一些state的时候会报错”missing dependency”，暂时用了eslint-disable-line</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Demo</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [title, setTitle] = useState(<span class="string">'hello'</span>);</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.title = title;</span><br><span class="line">    <span class="comment">// do ...</span></span><br><span class="line">  &#125;, []); <span class="comment">// eslint-disable-line</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">// 点击文字是 hello world world .... 但是页面title是hello</span></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div onClick=&#123;() =&gt; setTitle(title + <span class="string">' world'</span>)&#125;&gt;&#123;title&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="componentDidUpdate"><a href="#componentDidUpdate" class="headerlink" title="componentDidUpdate"></a>componentDidUpdate</h3><p>只传一个参数，每次render就都会调用这个函数，和componentDidUpdate不同的是第一次render也会执行它</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Demo</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [title, setTitle] = useState(<span class="string">'hello'</span>);</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.title = title;</span><br><span class="line">    <span class="comment">// do ...</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div onClick=&#123;() =&gt; setTitle(title + <span class="string">' world'</span>)&#125;&gt;&#123;title&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>如果不希望在第一次（初始）render时候调用，可以：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Demo</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [title, setTitle] = useState(<span class="string">'hello'</span>);</span><br><span class="line">  <span class="keyword">const</span> first = useRef(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">  useLayoutEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (first.current) &#123;</span><br><span class="line">      first.current = <span class="literal">false</span>;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">document</span>.title = title;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"componentDidUpdateFunction"</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div onClick=&#123;() =&gt; setTitle(title + <span class="string">' world'</span>)&#125;&gt;&#123;title&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="componentWillUnmount"><a href="#componentWillUnmount" class="headerlink" title="componentWillUnmount"></a>componentWillUnmount</h3><p>在useEffect的第一个函数参数中返回一个函数，这个函数就会在unmount时候被调用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Demo</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [title, setTitle] = useState(<span class="string">'hello'</span>);</span><br><span class="line"></span><br><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'componentWillUnmount'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div onClick=&#123;() =&gt; setTitle(title + <span class="string">' world'</span>)&#125;&gt;&#123;title&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>最后最后componentDidCatch和getDerivedStateFromError暂时还不能用Hook来实现，暂时。</p>]]></content>
      
      
        <tags>
            
            <tag> react </tag>
            
            <tag> hooks </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>微信公众号h5跳转小程序</title>
      <link href="/2021/01/18/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7h5%E8%B7%B3%E8%BD%AC%E5%B0%8F%E7%A8%8B%E5%BA%8F/"/>
      <url>/2021/01/18/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7h5%E8%B7%B3%E8%BD%AC%E5%B0%8F%E7%A8%8B%E5%BA%8F/</url>
      <content type="html"><![CDATA[<p> 最近在公司做活动，遇到了h5活动页面唤起小程序的需求, 找了资料，发现了wx-open-launch-open。<br> <a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_Open_Tag.html" target="_blank" rel="noopener">微信官方文档</a> 支持了这种跳转，不过对微信版本、系统版本都有要求。</p><p> 因为需求需要判断当前用户是否支持，不支持则显示别的内容，支持就点击后直接跳转到小程序。开始我的探索路</p><h1 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h1><h2 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h2><p> 这个微信官方文档里面说的很清楚，登录<a href="https://mp.weixin.qq.com/" target="_blank" rel="noopener">微信公众平台</a>进入“公众号设置”的“功能设置”里填写“JS接口安全域名”。</p><h2 id="引入js文件"><a href="#引入js文件" class="headerlink" title="引入js文件"></a>引入js文件</h2><p> 在需要调用JS接口的页面引入如下JS文件：<a href="http://res.wx.qq.com/open/js/jweixin-1.6.0.js" target="_blank" rel="noopener">http://res.wx.qq.com/open/js/jweixin-1.6.0.js</a> （支持https）</p><p> 如需进一步提升服务稳定性，当上述资源不可访问时，可改访问：<a href="http://res2.wx.qq.com/open/js/jweixin-1.6.0.js" target="_blank" rel="noopener">http://res2.wx.qq.com/open/js/jweixin-1.6.0.js</a> （支持https）</p><p> 备注：支持使用 AMD/CMD 标准模块加载方法加载<br> （ps：因为我们的h5页面是https， 所以引入的连接要是https的，不然会有问题呦）</p><h2 id="通过config接口注入权限验证配置并申请所需开放标签"><a href="#通过config接口注入权限验证配置并申请所需开放标签" class="headerlink" title="通过config接口注入权限验证配置并申请所需开放标签"></a>通过config接口注入权限验证配置并申请所需开放标签</h2><p> 与使用JS-SDK配置方式相同，所有需要使用开放标签的页面必须先注入配置信息，并通过openTagList字段申请所需要的开放标签，否则将无法使用（同一个url仅需调用一次）。开放标签的申请和JS接口的申请相互独立，因此是可以同时申请的。<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">wx.config(&#123;</span><br><span class="line">  debug: true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印</span><br><span class="line">  appId: &apos;&apos;, // 必填，公众号的唯一标识</span><br><span class="line">  timestamp: , // 必填，生成签名的时间戳</span><br><span class="line">  nonceStr: &apos;&apos;, // 必填，生成签名的随机串</span><br><span class="line">  signature: &apos;&apos;,// 必填，签名</span><br><span class="line">  jsApiList: [], // 必填，需要使用的JS接口列表</span><br><span class="line">  openTagList: [] // 可选，需要使用的开放标签列表，例如[&apos;wx-open-launch-app&apos;]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><h2 id="通过ready接口处理成功验证"><a href="#通过ready接口处理成功验证" class="headerlink" title="通过ready接口处理成功验证"></a>通过ready接口处理成功验证</h2> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wx.ready(function () &#123;</span><br><span class="line">  // config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="通过error接口处理失败验证"><a href="#通过error接口处理失败验证" class="headerlink" title="通过error接口处理失败验证"></a>通过error接口处理失败验证</h2> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wx.error(function (res) &#123;</span><br><span class="line">  // config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h2><p>所有开放标签都能像普通的HTML标签一样在页面中直接使用，不需要再进行额外的处理。</p><blockquote><p>(ps: 我们使用的是react，所有也是使用的script)</p></blockquote><p>对于标签事件，均可通过event.detail获得详细信息。如果无特殊说明，下文标签事件说明中的返回值均指代event.detail中的内容。</p><p>另外，需要注意以下几点：如果所使用的标签允许提供插槽，由于插槽中模版的样式是和页面隔离的，因此需要注意在插槽中定义模版的样式。插槽模版及样式均需要通过<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;&lt;/template&gt;</span><br></pre></td></tr></table></figure></p><p>进行包裹。对于Vue等视图框架，为了避免template标签冲突的问题，可使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/wxtag-template&quot;&gt;&lt;script&gt;</span><br></pre></td></tr></table></figure></p><p>进行代替，来包裹插槽模版和样式。另外，对于具名插槽还需要通过slot属性声明插槽名称，下文标签插槽中的default插槽为默认插槽，可不声明插槽名称。</p><p>页面中与布局和定位相关的样式，如position: fixed; top -100;等，尽量不要写在插槽模版的节点中，请声明在标签或其父节点上；<br>对于有CSP要求的页面，需要添加白名单frame-src https://*.qq.com webcompt:，才能在页面中正常使用开放标签。</p><h1 id="使用过程中的问题"><a href="#使用过程中的问题" class="headerlink" title="使用过程中的问题"></a>使用过程中的问题</h1><h2 id="跳转小程序按钮没有显示"><a href="#跳转小程序按钮没有显示" class="headerlink" title="跳转小程序按钮没有显示"></a>跳转小程序按钮没有显示</h2><p>没有起作用有好几个方便的原因：<br>1.微信公众号必须是服务号。要在公众号后台配置js安全域名  和 ip白名单<br>2.真机测试，才会显示（我使用微信开发者工具也不会显示的）<br>3、username=小程序的原始id，以gh开头的，不是小程序wx开头的id<br>4、path=‘<strong>*</strong>.html’后面要以.html结尾（这个微信官方文档也有写）<br>5、openTagList: [“wx-open-launch-weapp”]    config配置参数必须填这个开放接口</p><h2 id="自定义图片按钮"><a href="#自定义图片按钮" class="headerlink" title="自定义图片按钮"></a>自定义图片按钮</h2><p>1、图片连接必须是线上的，不能是本地图片，不然不会显示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div className=&quot;banner-button&quot;&gt;</span><br><span class="line">    &lt;wx-open-launch-weapp</span><br><span class="line">        id=&quot;launch-btn&quot;</span><br><span class="line">        username=&#123;this.state.miniUsername&#125;</span><br><span class="line">        path=&#123;this.state.miniPath&#125;</span><br><span class="line">        style=&#123;&#123;width: &quot;150px&quot;, height: &quot;32px&quot;, fontSize: &quot;23px&quot;&#125;&#125;&gt;</span><br><span class="line">        &lt;script type=&quot;text/wxtag-template&quot;&gt;</span><br><span class="line">            &lt;img style=&#123;&#123;width: &quot;100%&quot;&#125;&#125; src=&quot;https://images-1254198035.cos.ap-shanghai.myqcloud.com/qipai/btn.png&quot; alt=&quot;&quot;/&gt; (线上图片会显示)</span><br><span class="line">            &lt;img style=&#123;&#123;width: &quot;100%&quot;&#125;&#125; src=&quot;../image/btn.png&quot; alt=&quot;&quot;/&gt;(本地图片不会显示)</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/wx-open-launch-weapp&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><h2 id="跳转小程序按钮样式不起作用"><a href="#跳转小程序按钮样式不起作用" class="headerlink" title="跳转小程序按钮样式不起作用"></a>跳转小程序按钮样式不起作用</h2><p>注意：样式无法写在外面，只能使用内联样式。固定大小的样式不支持rem单位，不会继承样式</p><h2 id="判断当前是否支持wx-open-launch-open按钮-手机不支持wx-open-launch-open"><a href="#判断当前是否支持wx-open-launch-open按钮-手机不支持wx-open-launch-open" class="headerlink" title="判断当前是否支持wx-open-launch-open按钮(手机不支持wx-open-launch-open)"></a>判断当前是否支持wx-open-launch-open按钮(手机不支持wx-open-launch-open)</h2><p>因为需要对不支持wx-open-launch-open按钮的做判断，显示另一个页面，所以需要判断当前手机是否支持</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">// wx-open-launch-weapp按钮 微信版本要求为：7.0.12及以上。 系统版本要求为：iOS 10.3及以上、Android 5.0及以上。</span><br><span class="line">  var wechatInfo = navigator.userAgent.match(/MicroMessenger\/([\d\.]+)/i);</span><br><span class="line">  console.log(&quot;wechatInfo:&quot;, wechatInfo &amp;&amp; wechatInfo[1]);</span><br><span class="line">  // Android 5.0及以上</span><br><span class="line">  var ua = navigator.userAgent.toLowerCase();</span><br><span class="line">  console.log(ua);</span><br><span class="line">  if (!wechatInfo) &#123;</span><br><span class="line">      console.log(&quot;仅支持微信&quot;) ;</span><br><span class="line">  &#125; else if (wechatInfo[1] &lt; &quot;7.0.12&quot;) &#123;</span><br><span class="line">      console.log(&quot;微信版本要求7.0.12及以上版本&quot;)</span><br><span class="line">  &#125; else if (/android/i.test(navigator.userAgent)) &#123;</span><br><span class="line">      var test = /android\s([\w.]+)/;//IE</span><br><span class="line">      var match = test.exec(ua);</span><br><span class="line">      console.log(match);</span><br><span class="line">      document.write(&quot;This is Android &quot; + match[1] + &quot; browser.&quot;); //这是Android平台下浏览器</span><br><span class="line">      var version = match[1].split(&quot;.&quot;)[0];</span><br><span class="line">      if (version &lt; 5) &#123;</span><br><span class="line">          console.log(&apos;Android系统要求5.0及以上版本&apos;);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125; else if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) &#123;</span><br><span class="line">      var test = /os\s([\w_]+)/;//IE</span><br><span class="line">      var match = test.exec(ua);</span><br><span class="line">      var version = match[1].split(&quot;_&quot;)[0] + &quot;.&quot; + match[1].split(&quot;_&quot;)[1];</span><br><span class="line">      console.log(version);</span><br><span class="line">      if (version &lt; 10.4) &#123;</span><br><span class="line">          console.log(&apos;ios系统要求10.3及以上版本&apos;);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>很多东西网上都是可以找到的， 这里面大部分内容都是我在网上可以看到的。</p>]]></content>
      
      
        <tags>
            
            <tag> 公众号 </tag>
            
            <tag> h5 </tag>
            
            <tag> 小程序 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>react-json-view</title>
      <link href="/2020/11/27/react-json-view/"/>
      <url>/2020/11/27/react-json-view/</url>
      <content type="html"><![CDATA[<h2 id="react-json-view-rjv"><a href="#react-json-view-rjv" class="headerlink" title="react-json-view(rjv)"></a>react-json-view(rjv)</h2><p>最近项目上引入了一个json解析的插件，我就把这个插件应用到了原来只有技术看的代码块上，现在在去看那个代码块，感觉清晰好多~<br>很棒的一个插件，简单介绍下这个插件<br><a href="https://www.npmjs.com/package/react-json-view" target="_blank" rel="noopener">npm地址</a></p><h2 id="install"><a href="#install" class="headerlink" title="install"></a>install</h2><p> npm install react-json-view</p><h2 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h2><p>“dependencies”: {<br>    “react-json-view”: “latest”<br>}</p><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import React from &quot;react&quot;;</span><br><span class="line">import ReactJson from &quot;react-json-view&quot;;</span><br><span class="line"></span><br><span class="line">class ReactJsonView extends React.Component&#123;</span><br><span class="line">    state = &#123;</span><br><span class="line">        my_json_object: &#123;</span><br><span class="line">            &quot;string&quot;: &quot;this is a test string&quot;,</span><br><span class="line">            &quot;integer&quot;: 42,</span><br><span class="line">            &quot;array&quot;: [1,2,3,&quot;test&quot;,null],</span><br><span class="line">            &quot;float&quot;: 3.14159,</span><br><span class="line">            &quot;object&quot;: &#123;&quot;first-child&quot;: true,&quot;second-child&quot;: false,&quot;last-child&quot;: null&#125;,</span><br><span class="line">            &quot;string_number&quot;: &quot;1234&quot;,</span><br><span class="line">            &quot;date&quot;: &quot;2020-12-01T04:02:13.464Z&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    render() &#123;</span><br><span class="line">        return &lt;div&gt;</span><br><span class="line">            &lt;ReactJson src=&#123;this.state.my_json_object&#125; /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default ReactJsonView;</span><br></pre></td></tr></table></figure><p>代码运行结果：<br><img src="/2020/11/27/react-json-view/result01.jpg" alt=""></p><h2 id="属性简介"><a href="#属性简介" class="headerlink" title="属性简介"></a>属性简介</h2><h3 id="src"><a href="#src" class="headerlink" title="src"></a>src</h3><pre><code>类型： json对象默认值： 没有描述：这里的值显示的是json数据</code></pre><h3 id="name"><a href="#name" class="headerlink" title="name"></a>name</h3><pre><code>类型：string或这个是false默认值： &quot;root&quot;描述： 这里是根节点的名字，如果取值为null或者false则没有名字</code></pre><h4 id="name取值对比图"><a href="#name取值对比图" class="headerlink" title="name取值对比图"></a>name取值对比图</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;ReactJson</span><br><span class="line">    src=&#123;this.state.my_json_object&#125;</span><br><span class="line">    name=&#123;false&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure><p><img src="/2020/11/27/react-json-view/name.jpg" alt=""></p><h3 id="theme"><a href="#theme" class="headerlink" title="theme"></a>theme</h3><pre><code>类型：string默认值：rjv-default描述：rjv支持base-16主题。包括（apathy，apathy:inverted，ashes，bespin，brewer，bright:inverted，bright，chalk，codeschool，colors，eighties，embers，flat，google，grayscale，grayscale:inverted，greenscreen，harmonic，hopscotch，isotope，marrakesh，mocha，monokai，ocean，paraiso，pop，railscasts，rjv-default，shapeshifter，shapeshifter:inverted，solarized，summerfruit，summerfruit:inverted，threezerotwofour，tomorrow，tube，twilight）</code></pre><h4 id="theme取值对比图"><a href="#theme取值对比图" class="headerlink" title="theme取值对比图"></a>theme取值对比图</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;ReactJson</span><br><span class="line">   src=&#123;this.state.my_json_object&#125;</span><br><span class="line">   name=&#123;false&#125;</span><br><span class="line">   theme=&quot;shapeshifter&quot;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure><p><img src="/2020/11/27/react-json-view/theme.jpg" alt=""></p><h3 id="style"><a href="#style" class="headerlink" title="style"></a>style</h3><pre><code>类型：object默认值：{}描述：可以通过style添加、修改样式，可覆盖主题默认提供的属性</code></pre><h3 id="iconStyle"><a href="#iconStyle" class="headerlink" title="iconStyle"></a>iconStyle</h3><pre><code>类型：string默认值：&quot;circle&quot;描述：接受参数:circle(圆)、triangle(三角形)、square(圆)</code></pre><p><img src="/2020/11/27/react-json-view/iconStyle.jpg" alt=""></p><h3 id="indentWidth"><a href="#indentWidth" class="headerlink" title="indentWidth"></a>indentWidth</h3><pre><code>类型：integer默认值：4描述：JSON嵌套对象的缩进值</code></pre><p><img src="/2020/11/27/react-json-view/indentWidth.jpg" alt=""></p><h3 id="collapsed"><a href="#collapsed" class="headerlink" title="collapsed"></a>collapsed</h3><pre><code>类型：boolean 或者 integer默认值：false描述：当设置为true，默认情况下，所有节点都将被折叠。使用整数值在特定深度折叠。</code></pre><p><img src="/2020/11/27/react-json-view/collapsed.jpg" alt=""></p><h3 id="collapseStringsAfterLength"><a href="#collapseStringsAfterLength" class="headerlink" title="collapseStringsAfterLength"></a>collapseStringsAfterLength</h3><pre><code>类型：integer默认值：false描述：这个就是超出内容会变成…的功能。当一个整数值被赋值时，字符串就会在这个长度后面接上省略号。可以通过单击字符串值来展开和折叠字符串内容</code></pre><h3 id="shouldCollapse"><a href="#shouldCollapse" class="headerlink" title="shouldCollapse"></a>shouldCollapse</h3><pre><code>类型：(field)=&gt;{}默认值：false描述：回调函数来提供对默认情况下应该折叠的对象和数组的控制。对象被传递给包含name, src, type(“数组”或“对象”)和namespace</code></pre><h3 id="groupArraysAfterLength"><a href="#groupArraysAfterLength" class="headerlink" title="groupArraysAfterLength"></a>groupArraysAfterLength</h3><pre><code>类型：integet默认值：100描述：当指定整数值时，数组将按值的计数分组显示。组以brakset符号显示，可以通过符号展开和折叠。</code></pre><p><img src="/2020/11/27/react-json-view/groupArrayAfterLength.jpg" alt=""></p><h3 id="enableClipboard"><a href="#enableClipboard" class="headerlink" title="enableClipboard"></a>enableClipboard</h3><pre><code>类型：boolean 或者 (copy)=&gt;{}默认值：true描述：当prop不为false时，用户可以通过单击剪贴板图标将对象和数组复制到剪贴板。支持复制回调。</code></pre><p><img src="/2020/11/27/react-json-view/enableClipboard.jpg" alt=""></p><h3 id="displayObjectSize"><a href="#displayObjectSize" class="headerlink" title="displayObjectSize"></a>displayObjectSize</h3><pre><code>类型：boolean默认值：true描述：当设置为true时，对象和数组将显示size</code></pre><p><img src="/2020/11/27/react-json-view/displayObjectSize.jpg" alt=""></p><h3 id="displayDataTypes"><a href="#displayDataTypes" class="headerlink" title="displayDataTypes"></a>displayDataTypes</h3><pre><code>类型：boolean默认值：true描述：当设置为true，value前面显示数据类型</code></pre><p><img src="/2020/11/27/react-json-view/displayDataTypes.jpg" alt=""></p><h3 id="onEdit"><a href="#onEdit" class="headerlink" title="onEdit"></a>onEdit</h3><pre><code>类型：(edit)=&gt;{}默认值：false描述：当传入回调函数时，edit功能已启用。在编辑完成之后调用回调。</code></pre><p><img src="/2020/11/27/react-json-view/onEdit.jpg" alt=""></p><h3 id="onAdd"><a href="#onAdd" class="headerlink" title="onAdd"></a>onAdd</h3><pre><code>类型：(add)=&gt;{}默认值：false描述：当传入回调函数时，add功能已启用。在完成添加之后调用回调。</code></pre><p><img src="/2020/11/27/react-json-view/onAdd.jpg" alt=""></p><h3 id="defaultValue"><a href="#defaultValue" class="headerlink" title="defaultValue"></a>defaultValue</h3><pre><code>类型：string||number||boolean||array||object默认值：null描述：设置添加到json时的默认值</code></pre><h3 id="onDelete"><a href="#onDelete" class="headerlink" title="onDelete"></a>onDelete</h3><pre><code>类型：(delete)=&gt;{}默认值：false描述：当传入回调函数时，delete功能已启用。在完成删除之后调用回调。</code></pre><p><img src="/2020/11/27/react-json-view/onDelete.jpg" alt=""></p><h3 id="onSelect"><a href="#onSelect" class="headerlink" title="onSelect"></a>onSelect</h3><pre><code>类型：(select)=&gt;{}默认值：false描述：当传入函数时，单击值将触发onSelect方法将被调用。</code></pre><h3 id="sortKeys"><a href="#sortKeys" class="headerlink" title="sortKeys"></a>sortKeys</h3><pre><code>类型：boolean默认值：false描述：当设置为true，根据对象的key排序</code></pre><p><img src="/2020/11/27/react-json-view/sortKeys.jpg" alt=""></p><h3 id="validationMessage"><a href="#validationMessage" class="headerlink" title="validationMessage"></a>validationMessage</h3><pre><code>类型：string默认值：“Validation Error”描述：针对OneEdit、onAdd或onDelete回调的验证失败的自定义消息</code></pre><p><a href="https://mac-s-g.github.io/react-json-view/demo/dist/" target="_blank" rel="noopener">Check out the list of supported themes in the component demo</a></p>]]></content>
      
      
        <tags>
            
            <tag> 插件 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ios手机不兼容摇一摇功能</title>
      <link href="/2020/11/12/ios%E6%89%8B%E6%9C%BA%E4%B8%8D%E5%85%BC%E5%AE%B9%E6%91%87%E4%B8%80%E6%91%87%E5%8A%9F%E8%83%BD/"/>
      <url>/2020/11/12/ios%E6%89%8B%E6%9C%BA%E4%B8%8D%E5%85%BC%E5%AE%B9%E6%91%87%E4%B8%80%E6%91%87%E5%8A%9F%E8%83%BD/</url>
      <content type="html"><![CDATA[<p>过年后回来的时候做了一个摇一摇的H5小游戏。因为我使用的是安卓手机，一直没有发现在苹果手机上不能使用。<br>刚开是以为是http和https的问题，但是在ios上即使使用https开头的链接然后还是不能摇~</p><p>后来网上找了原因说是ios13+的版本，浏览器对设备运动和方向事件的访问权限处于关闭状态，但是可以请求这种权限，类似于请求相机权限吧。</p><p>因此，在IOS13+的移动端中，需要在DeviceMotionEvent上调用requestPermission这个方法，该方法请求用户当前来源的权限以显示通知，然后根据用户的不同选择，触发不同的状态【granted（被授予），denied（被拒绝） 或者default（默认）】，并返回一个Promise对象。</p><blockquote><p>代码如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  var ua = navigator.userAgent.toLowerCase();</span><br><span class="line"> if (ua.indexOf(&quot;like mac os x&quot;) &gt; 0) &#123;</span><br><span class="line">     var reg = /os [\d._]*/gi;</span><br><span class="line">     var verinfo = ua.match(reg);</span><br><span class="line">     var version = (verinfo + &quot;&quot;).replace(/[^0-9|_.]/ig, &quot;&quot;).replace(/_/ig, &quot;.&quot;);</span><br><span class="line">     var arr = version.split(&quot;.&quot;);</span><br><span class="line">     if (arr[0] &gt; 13) &#123;  //对13以后的版本处理,</span><br><span class="line">         DeviceMotionEvent.requestPermission().then(permissionState =&gt; &#123;</span><br><span class="line">             if (permissionState === &quot;granted&quot;) &#123;</span><br><span class="line">                 alert(&quot;你授权了，可以进行摇一摇啦&quot;);</span><br><span class="line">             &#125;</span><br><span class="line">             if (permissionState === &quot;denied&quot;) &#123;</span><br><span class="line">                 alert(&quot;你拒绝了&quot;);</span><br><span class="line">             &#125;</span><br><span class="line">         &#125;).catch((err) =&gt; &#123;</span><br><span class="line">             //======这里可以防止重复授权，因为获取权限需要点击事件才能触发===//</span><br><span class="line">             Modal.warning(&#123;</span><br><span class="line">                 title: &apos;获取授权&apos;,</span><br><span class="line">                 content: &apos;请在接下来的然窗中允许授权，否则将无法正常进行摇一摇&apos;,</span><br><span class="line">                 onOk() &#123;</span><br><span class="line">                     reqShakePermission();</span><br><span class="line">                 &#125;,</span><br><span class="line">             &#125;);</span><br><span class="line">         &#125;);</span><br><span class="line">     &#125; else &#123;  //13以前的版本</span><br><span class="line">         alert(&quot;你的手机支持摇一摇&quot;)</span><br><span class="line">     &#125;</span><br><span class="line"> &#125; else &#123;</span><br><span class="line">     </span><br><span class="line"> &#125;</span><br><span class="line">     </span><br><span class="line">function reqShakePermission() &#123;</span><br><span class="line">    if (typeof DeviceMotionEvent.requestPermission === &quot;function&quot;) &#123;</span><br><span class="line">        DeviceMotionEvent.requestPermission().then((permissionState) =&gt; &#123;</span><br><span class="line">            if (permissionState === &quot;granted&quot;) &#123;</span><br><span class="line">                var speed = 15;    // 用来判定的加速度阈值，太大了则很难触发</span><br><span class="line">                var x, y, z, lastX, lastY, lastZ;</span><br><span class="line">                x = y = z = lastX = lastY = lastZ = 0;</span><br><span class="line">                window.addEventListener(&quot;devicemotion&quot;, function (event) &#123;</span><br><span class="line">                    var acceleration = event.accelerationIncludingGravity;</span><br><span class="line">                    x = acceleration.x;</span><br><span class="line">                    y = acceleration.y;</span><br><span class="line">                    if (self.state.clickStatus) &#123;</span><br><span class="line">                        if (Math.abs(x - lastX) &gt; speed || Math.abs(y - lastY) &gt; speed) &#123;</span><br><span class="line">                            // 用户设备摇动了，触发响应操作</span><br><span class="line">                            // 此处的判断依据是用户设备的加速度大于我们设置的阈值</span><br><span class="line">                                alert(&quot;摇动了手机&quot;);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; else &#123;//如果已经生成了结果就不需要再重新生成了</span><br><span class="line"></span><br><span class="line">                    &#125;</span><br><span class="line">                    lastX = x;</span><br><span class="line">                    lastY = y;</span><br><span class="line">                &#125;, false);</span><br><span class="line">            &#125; else if (permissionState == &quot;denied&quot;) &#123;</span><br><span class="line">                alert(&quot;拒绝喽&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).catch((error) =&gt; &#123;</span><br><span class="line">            // console.log(error);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // 处理常规的非iOS 13+设备</span><br><span class="line">        // console.log(&quot;处理常规的非iOS 13+设备&quot;);</span><br><span class="line">        if (window.DeviceMotionEvent) &#123;</span><br><span class="line">            alert(&quot;可以进行摇一摇&quot;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            // console.log(&apos;不支持window.DeviceMotionEvent&apos;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>效果图：<br><img src="/2020/11/12/ios手机不兼容摇一摇功能/allow.jpg" alt=""></p></blockquote><p>PS：点击允许即可使用摇一摇功能。如果拒绝，需要在关掉这个进程再次进入页面才会再次询问。否则一直用不了摇一摇功能哦~</p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>inline-block间隙</title>
      <link href="/2020/07/09/inline-block%E9%97%B4%E9%9A%99/"/>
      <url>/2020/07/09/inline-block%E9%97%B4%E9%9A%99/</url>
      <content type="html"><![CDATA[<p>我针对一些元素使用inline-block要比float频繁。img标签本身就是inline-block属性，所以页面中使用到img标签的时候经常会出现间隙问题。<br>最近写的h5页面多了，遇到这个问题的次数就越来越多了。<br>最典型的就是图片，当我两个图片要连接时，中间就出现了缝隙。审查元素我并没有设置间距。然后就找问题的原因，发现是典型的换行符/空格间隙问题。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;&lt;/title&gt;</span><br><span class="line">&lt;!--适应移动端--&gt;</span><br><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;</span><br><span class="line">&lt;!--css样式--&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">*&#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">&#125;</span><br><span class="line">ul&#123;</span><br><span class="line">    list-style: none;</span><br><span class="line">&#125;</span><br><span class="line">li&#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background: #108ee9;</span><br><span class="line">    color: #ffffff;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">    &lt;li&gt;llll&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;ffff&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;zzzz&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;7777&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;1111&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;9999&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><img src="/2020/07/09/inline-block间隙/01.jpg" alt=""></p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>es6中的扩展运算符</title>
      <link href="/2020/07/06/es6%E4%B8%AD%E7%9A%84%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6/"/>
      <url>/2020/07/06/es6%E4%B8%AD%E7%9A%84%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6/</url>
      <content type="html"><![CDATA[<h3 id="对象中的扩展运算符-…-用于取出参数对象中的所有可遍历属性，拷贝到当前对象之中"><a href="#对象中的扩展运算符-…-用于取出参数对象中的所有可遍历属性，拷贝到当前对象之中" class="headerlink" title="对象中的扩展运算符(…)用于取出参数对象中的所有可遍历属性，拷贝到当前对象之中"></a>对象中的扩展运算符(…)用于取出参数对象中的所有可遍历属性，拷贝到当前对象之中</h3><p>1.使用方法一：在函数的传参数过程。作用将剩余的参数放入一个数组中。合并<br>rest参数形式为（…变量名），其值为一个数组，用于获取函数多余参数。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function f(a,...arr)&#123;</span><br><span class="line">    console.log(arr);</span><br><span class="line">&#125;</span><br><span class="line">f(1,2,3,4,4); //[2,3,4,5]复制代码</span><br><span class="line">rest参数只能放在最后一个，否则报错：</span><br><span class="line">function f(a, ...b, c)&#123;...&#125;; // 报错</span><br></pre></td></tr></table></figure></p><p><img src="/2020/07/06/es6中的扩展运算符/error.jpg" alt=""></p><p>2.使用方法二：数组中的拓展运算  拆解<br>拓展运算符使用(…)，类似rest参数的逆运算，将数组转为用(,)分隔的参数序列。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> console.log(...[1, 2, 3]);   // 1 2 3 </span><br><span class="line">console.log(1, ...[2,3], 4); // 1 2 3 4</span><br></pre></td></tr></table></figure></p><p>拓展运算符主要使用在函数调用。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function f (a, b)&#123;</span><br><span class="line">       console.log(a, b);</span><br><span class="line">   &#125;</span><br><span class="line">   f(...[1, 2]); // 1 2</span><br><span class="line">    </span><br><span class="line">   function g (a, b, c, d, e)&#123;</span><br><span class="line">       console.log(a, b, c, d, e);</span><br><span class="line">   &#125;</span><br><span class="line">   g(0, ...[1, 2], 3, ...[4]); // 0 1 2 3 4复制代码</span><br></pre></td></tr></table></figure></p><p>若拓展运算符后面是个空数组，则不产生效果。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[...[], 1]; // [1]</span><br></pre></td></tr></table></figure></p><p>替代apply方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// ES6之前</span><br><span class="line">function f(a, b, c)&#123;...&#125;;</span><br><span class="line">var a = [1, 2, 3];</span><br><span class="line">f.apply(null, a);</span><br><span class="line"> </span><br><span class="line">// ES6之后</span><br><span class="line">function f(a, b, c)&#123;...&#125;;</span><br><span class="line">let a = [1, 2, 3];</span><br><span class="line">f(...a);</span><br><span class="line"> </span><br><span class="line">// ES6之前</span><br><span class="line">Math.max.apply(null, [3,2,6]);</span><br><span class="line"> </span><br><span class="line">// ES6之后</span><br><span class="line">Math.max(...[3,2,6]);</span><br></pre></td></tr></table></figure></p><p>拓展运算符的运用<br>(1)复制数组：<br>通常我们直接复制数组时，只是浅拷贝，如果要实现深拷贝，可以使用拓展运算符。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 通常情况 浅拷贝</span><br><span class="line">let a1 = [1, 2];</span><br><span class="line">let a2 = a1; </span><br><span class="line">a2[0] = 3;</span><br><span class="line">console.log(a1,a2); // [3,2] [3,2]</span><br><span class="line"> </span><br><span class="line">// 拓展运算符 深拷贝</span><br><span class="line">let a1 = [1, 2];</span><br><span class="line">let a2 = [...a1];</span><br><span class="line">// let [...a2] = a1; // 作用相同</span><br><span class="line">a2[0] = 3;</span><br><span class="line">console.log(a1,a2); // [1,2] [3,2]</span><br></pre></td></tr></table></figure></p><p>(2)合并数组：  注意，这里合并数组，只是浅拷贝。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">let a1 = [1,2];</span><br><span class="line">let a2 = [3];</span><br><span class="line">let a3 = [4,5];</span><br><span class="line"> </span><br><span class="line">// ES5 </span><br><span class="line">let a4 = a1.concat(a2, a3);</span><br><span class="line"> </span><br><span class="line">// ES6</span><br><span class="line">let a5 = [...a1, ...a2, ...a3];</span><br><span class="line"> </span><br><span class="line">a4[0] === a1[0]; // true</span><br><span class="line">a5[0] === a1[0]; // true</span><br></pre></td></tr></table></figure></p><p>(3)与解构赋值结合：<br>与解构赋值结合生成数组，但是使用拓展运算符需要放到参数最后一个，否则报错。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let [a, ...b] = [1, 2, 3, 4]; </span><br><span class="line">// a =&gt; 1  b =&gt; [2,3,4]</span><br><span class="line"> </span><br><span class="line">let [a, ...b] = [];</span><br><span class="line">// a =&gt; undefined b =&gt; []</span><br><span class="line"> </span><br><span class="line">let [a, ...b] = [&quot;abc&quot;];</span><br><span class="line">// a =&gt; &quot;abc&quot;  b =&gt; []</span><br></pre></td></tr></table></figure></p><p>扩展运算符可以将字符串转为真正的数组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[...&apos;hello&apos;]   // [ &quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot; ]</span><br></pre></td></tr></table></figure></p><p>将数据结构转为数组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// arguments对象</span><br><span class="line">function foo() &#123;</span><br><span class="line">  const args = [...arguments];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>用于替换es5中的Array.prototype.slice.call(arguments)写法</p>]]></content>
      
      
        <tags>
            
            <tag> es6 </tag>
            
            <tag> 扩展运算符 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>css实现小企鹅</title>
      <link href="/2020/01/14/css%E5%AE%9E%E7%8E%B0%E5%B0%8F%E4%BC%81%E9%B9%85/"/>
      <url>/2020/01/14/css%E5%AE%9E%E7%8E%B0%E5%B0%8F%E4%BC%81%E9%B9%85/</url>
      <content type="html"><![CDATA[<p>html代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;penguin&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;penguin-bottom&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;right-hand&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;left-hand&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;right-feet&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;left-feet&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;penguin-top&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;right-cheek&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;left-cheek&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;belly&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;right-eye&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;sparkle&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;left-eye&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;sparkle&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;blush-right&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;blush-left&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;beak-top&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;beak-bottom&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p>css代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  .penguin &#123;</span><br><span class="line">    </span><br><span class="line">    /* change code below */</span><br><span class="line">    --penguin-skin: gray;</span><br><span class="line">    --penguin-belly: white;</span><br><span class="line">    --penguin-beak: orange;</span><br><span class="line">    /* change code above */</span><br><span class="line">    </span><br><span class="line">    position: relative;</span><br><span class="line">    margin: auto;</span><br><span class="line">    display: block;</span><br><span class="line">    margin-top: 5%;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 300px;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .penguin-top &#123;</span><br><span class="line">    top: 10%;</span><br><span class="line">    left: 25%;</span><br><span class="line">    background: var(--penguin-skin, gray);</span><br><span class="line">    width: 50%;</span><br><span class="line">    height: 45%;</span><br><span class="line">    border-radius: 70% 70% 60% 60%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .penguin-bottom &#123;</span><br><span class="line">    top: 40%;</span><br><span class="line">    left: 23.5%;</span><br><span class="line">    background: var(--penguin-skin, gray);</span><br><span class="line">    width: 53%;</span><br><span class="line">    height: 45%;</span><br><span class="line">    border-radius: 70% 70% 100% 100%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .right-hand &#123;</span><br><span class="line">    top: 0%;</span><br><span class="line">    left: -5%;</span><br><span class="line">    background: var(--penguin-skin, gray);</span><br><span class="line">    width: 30%;</span><br><span class="line">    height: 60%;</span><br><span class="line">    border-radius: 30% 30% 120% 30%;</span><br><span class="line">    transform: rotate(45deg);</span><br><span class="line">    z-index: -1;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .left-hand &#123;</span><br><span class="line">    top: 0%;</span><br><span class="line">    left: 75%;</span><br><span class="line">    background: var(--penguin-skin, gray);</span><br><span class="line">    width: 30%;</span><br><span class="line">    height: 60%;</span><br><span class="line">    border-radius: 30% 30% 30% 120%;</span><br><span class="line">    transform: rotate(-45deg);</span><br><span class="line">    z-index: -1;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .right-cheek &#123;</span><br><span class="line">    top: 15%;</span><br><span class="line">    left: 35%;</span><br><span class="line">    background: var(--penguin-belly, white);</span><br><span class="line">    width: 60%;</span><br><span class="line">    height: 70%;</span><br><span class="line">    border-radius: 70% 70% 60% 60%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .left-cheek &#123;</span><br><span class="line">    top: 15%;</span><br><span class="line">    left: 5%;</span><br><span class="line">    background: var(--penguin-belly, white);</span><br><span class="line">    width: 60%;</span><br><span class="line">    height: 70%;</span><br><span class="line">    border-radius: 70% 70% 60% 60%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .belly &#123;</span><br><span class="line">    top: 60%;</span><br><span class="line">    left: 2.5%;</span><br><span class="line">    background: var(--penguin-belly, white);</span><br><span class="line">    width: 95%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    border-radius: 120% 120% 100% 100%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .right-feet &#123;</span><br><span class="line">    top: 85%;</span><br><span class="line">    left: 60%;</span><br><span class="line">    background: var(--penguin-beak, orange);</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 30%;</span><br><span class="line">    border-radius: 50% 50% 50% 50%;</span><br><span class="line">    transform: rotate(-80deg);</span><br><span class="line">    z-index: -2222;  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .left-feet &#123;</span><br><span class="line">    top: 85%;</span><br><span class="line">    left: 25%;</span><br><span class="line">    background: var(--penguin-beak, orange);</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 30%;</span><br><span class="line">    border-radius: 50% 50% 50% 50%;</span><br><span class="line">    transform: rotate(80deg);</span><br><span class="line">    z-index: -2222;  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .right-eye &#123;</span><br><span class="line">    top: 45%;</span><br><span class="line">    left: 60%;</span><br><span class="line">    background: black;</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 17%;</span><br><span class="line">    border-radius: 50%; </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .left-eye &#123;</span><br><span class="line">    top: 45%;</span><br><span class="line">    left: 25%;</span><br><span class="line">    background: black;</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 17%;</span><br><span class="line">    border-radius: 50%;  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .sparkle &#123;</span><br><span class="line">    top: 25%;</span><br><span class="line">    left: 15%;</span><br><span class="line">    background: white;</span><br><span class="line">    width: 35%;</span><br><span class="line">    height: 35%;</span><br><span class="line">    border-radius: 50%;  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .blush-right &#123;</span><br><span class="line">    top: 65%;</span><br><span class="line">    left: 15%;</span><br><span class="line">    background: pink;</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 10%;</span><br><span class="line">    border-radius: 50%;  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .blush-left &#123;</span><br><span class="line">    top: 65%;</span><br><span class="line">    left: 70%;</span><br><span class="line">    background: pink;</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 10%;</span><br><span class="line">    border-radius: 50%;  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .beak-top &#123;</span><br><span class="line">    top: 60%;</span><br><span class="line">    left: 40%;</span><br><span class="line">    background: var(--penguin-beak, orange);</span><br><span class="line">    width: 20%;</span><br><span class="line">    height: 10%;</span><br><span class="line">    border-radius: 50%;  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .beak-bottom &#123;</span><br><span class="line">    top: 65%;</span><br><span class="line">    left: 42%;</span><br><span class="line">    background: var(--penguin-beak, orange);</span><br><span class="line">    width: 16%;</span><br><span class="line">    height: 10%;</span><br><span class="line">    border-radius: 50%;  </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  body &#123;</span><br><span class="line">    background:#c6faf1;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .penguin * &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p><p>效果图<br><img src="/2020/01/14/css实现小企鹅/penguin.jpg" alt=""></p><p>带有动画效果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">  :root &#123;</span><br><span class="line">    --penguin-size: 300px;</span><br><span class="line">    --penguin-skin: gray;</span><br><span class="line">    --penguin-belly: white;</span><br><span class="line">    --penguin-beak: orange;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  @media (max-width: 350px) &#123;</span><br><span class="line">    :root &#123;</span><br><span class="line">      </span><br><span class="line">      /* add code below */</span><br><span class="line">      --penguin-skin: black;</span><br><span class="line">      --penguin-size: 200px;</span><br><span class="line">      /* add code above */</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .penguin &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    margin: auto;</span><br><span class="line">    display: block;</span><br><span class="line">    margin-top: 5%;</span><br><span class="line">    width: var(--penguin-size, 300px);</span><br><span class="line">    height: var(--penguin-size, 300px);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .right-cheek &#123;</span><br><span class="line">    top: 15%;</span><br><span class="line">    left: 35%;</span><br><span class="line">    background: var(--penguin-belly, white);</span><br><span class="line">    width: 60%;</span><br><span class="line">    height: 70%;</span><br><span class="line">    border-radius: 70% 70% 60% 60%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .left-cheek &#123;</span><br><span class="line">    top: 15%;</span><br><span class="line">    left: 5%;</span><br><span class="line">    background: var(--penguin-belly, white);</span><br><span class="line">    width: 60%;</span><br><span class="line">    height: 70%;</span><br><span class="line">    border-radius: 70% 70% 60% 60%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .belly &#123;</span><br><span class="line">    top: 60%;</span><br><span class="line">    left: 2.5%;</span><br><span class="line">    background: var(--penguin-belly, white);</span><br><span class="line">    width: 95%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    border-radius: 120% 120% 100% 100%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .penguin-top &#123;</span><br><span class="line">    top: 10%;</span><br><span class="line">    left: 25%;</span><br><span class="line">    background: var(--penguin-skin, gray);</span><br><span class="line">    width: 50%;</span><br><span class="line">    height: 45%;</span><br><span class="line">    border-radius: 70% 70% 60% 60%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .penguin-bottom &#123;</span><br><span class="line">    top: 40%;</span><br><span class="line">    left: 23.5%;</span><br><span class="line">    background: var(--penguin-skin, gray);</span><br><span class="line">    width: 53%;</span><br><span class="line">    height: 45%;</span><br><span class="line">    border-radius: 70% 70% 100% 100%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .right-hand &#123;</span><br><span class="line">    top: 5%;</span><br><span class="line">    left: 25%;</span><br><span class="line">    background: var(--penguin-skin, black);</span><br><span class="line">    width: 30%;</span><br><span class="line">    height: 60%;</span><br><span class="line">    border-radius: 30% 30% 120% 30%;</span><br><span class="line">    transform: rotate(130deg);</span><br><span class="line">    z-index: -1;</span><br><span class="line">    animation-duration: 3s;</span><br><span class="line">    animation-name: wave;</span><br><span class="line">    animation-iteration-count: infinite;</span><br><span class="line">    transform-origin:0% 0%;</span><br><span class="line">    animation-timing-function: linear;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  @keyframes wave &#123;</span><br><span class="line">      10% &#123;</span><br><span class="line">        transform: rotate(110deg);</span><br><span class="line">      &#125;</span><br><span class="line">      20% &#123;</span><br><span class="line">        transform: rotate(130deg);</span><br><span class="line">      &#125;</span><br><span class="line">      30% &#123;</span><br><span class="line">        transform: rotate(110deg);</span><br><span class="line">      &#125; </span><br><span class="line">      40% &#123;</span><br><span class="line">        transform: rotate(130deg);</span><br><span class="line">      &#125;  </span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">  .left-hand &#123;</span><br><span class="line">    top: 0%;</span><br><span class="line">    left: 75%;</span><br><span class="line">    background: var(--penguin-skin, gray);</span><br><span class="line">    width: 30%;</span><br><span class="line">    height: 60%;</span><br><span class="line">    border-radius: 30% 30% 30% 120%;</span><br><span class="line">    transform: rotate(-45deg);</span><br><span class="line">    z-index: -1;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .right-feet &#123;</span><br><span class="line">    top: 85%;</span><br><span class="line">    left: 60%;</span><br><span class="line">    background: var(--penguin-beak, orange);</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 30%;</span><br><span class="line">    border-radius: 50% 50% 50% 50%;</span><br><span class="line">    transform: rotate(-80deg);</span><br><span class="line">    z-index: -2222;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .left-feet &#123;</span><br><span class="line">    top: 85%;</span><br><span class="line">    left: 25%;</span><br><span class="line">    background: var(--penguin-beak, orange);</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 30%;</span><br><span class="line">    border-radius: 50% 50% 50% 50%;</span><br><span class="line">    transform: rotate(80deg);</span><br><span class="line">    z-index: -2222;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .right-eye &#123;</span><br><span class="line">    top: 45%;</span><br><span class="line">    left: 60%;</span><br><span class="line">    background: black;</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 17%;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .left-eye &#123;</span><br><span class="line">    top: 45%;</span><br><span class="line">    left: 25%;</span><br><span class="line">    background: black;</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 17%;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .sparkle &#123;</span><br><span class="line">    top: 25%;</span><br><span class="line">    left:-23%;</span><br><span class="line">    background: white;</span><br><span class="line">    width: 150%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .blush-right &#123;</span><br><span class="line">    top: 65%;</span><br><span class="line">    left: 15%;</span><br><span class="line">    background: pink;</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 10%;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .blush-left &#123;</span><br><span class="line">    top: 65%;</span><br><span class="line">    left: 70%;</span><br><span class="line">    background: pink;</span><br><span class="line">    width: 15%;</span><br><span class="line">    height: 10%;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .beak-top &#123;</span><br><span class="line">    top: 60%;</span><br><span class="line">    left: 40%;</span><br><span class="line">    background: var(--penguin-beak, orange);</span><br><span class="line">    width: 20%;</span><br><span class="line">    height: 10%;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .beak-bottom &#123;</span><br><span class="line">    top: 65%;</span><br><span class="line">    left: 42%;</span><br><span class="line">    background: var(--penguin-beak, orange);</span><br><span class="line">    width: 16%;</span><br><span class="line">    height: 10%;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  body &#123;</span><br><span class="line">    background:#c6faf1;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .penguin * &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div class=&quot;penguin&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;penguin-bottom&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;right-hand&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;left-hand&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;right-feet&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;left-feet&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;penguin-top&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;right-cheek&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;left-cheek&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;belly&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;right-eye&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;sparkle&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;left-eye&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;sparkle&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;blush-right&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;blush-left&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;beak-top&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;beak-bottom&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>background-attchment移动端无效</title>
      <link href="/2020/01/09/background-attchment%E7%A7%BB%E5%8A%A8%E7%AB%AF%E6%97%A0%E6%95%88/"/>
      <url>/2020/01/09/background-attchment%E7%A7%BB%E5%8A%A8%E7%AB%AF%E6%97%A0%E6%95%88/</url>
      <content type="html"><![CDATA[<p>想要实现一个移动端的页面，元素滚动，但是页面背景图不能滚动<br>能想到的就是使用“background-attachment: fixed”<br>但是在pc端是可以的，在移动端不适用</p><p>看了网上的很多列子<br>找到了一个使用body的方法，但是在ios中还是会跟随屏幕的滚动而滚动<br>所以就调整成下面，就适应了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">//background-attachment固定背景图片手机端有效果只能放在body中</span><br><span class="line">body&#123;</span><br><span class="line">  display: block;</span><br><span class="line">  position: absolute;</span><br><span class="line">  left: 0;</span><br><span class="line">  top: 0;</span><br><span class="line">  z-index: 10;</span><br><span class="line">  width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">body:before&#123;</span><br><span class="line">  content: &apos;&apos;;</span><br><span class="line">  position: fixed;</span><br><span class="line">  z-index: -1;</span><br><span class="line">  top: 0;</span><br><span class="line">  right: 0;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  left: 0;</span><br><span class="line">  background-image: url(&quot;../../../assets/bg.jpg&quot;);</span><br><span class="line">  background-repeat: no-repeat;</span><br><span class="line">  background-attachment: fixed;</span><br><span class="line">  background-size: 100%, cover, cover;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> css </tag>
            
            <tag> 背景图 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>在IOS中DeviceMotionEvent失效</title>
      <link href="/2019/12/11/%E5%9C%A8IOS%E4%B8%ADDeviceMotionEvent%E5%A4%B1%E6%95%88/"/>
      <url>/2019/12/11/%E5%9C%A8IOS%E4%B8%ADDeviceMotionEvent%E5%A4%B1%E6%95%88/</url>
      <content type="html"><![CDATA[<p>客户提出要摇一摇自动播放视频的功能<br>在做摇一摇的时候出现了问题：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//摇一摇(使用DeviceMotion事件)</span><br><span class="line">shake() &#123;</span><br><span class="line">    var speed = 15;    // 用来判定的加速度阈值，太大了则很难触发</span><br><span class="line">    var x, y, z, lastX, lastY, lastZ;</span><br><span class="line">    x = y = z = lastX = lastY = lastZ = 0;</span><br><span class="line">    window.addEventListener(&apos;devicemotion&apos;, function (event) &#123;</span><br><span class="line">        var acceleration = event.accelerationIncludingGravity;</span><br><span class="line">        x = acceleration.x;</span><br><span class="line">        y = acceleration.y;</span><br><span class="line">        if (Math.abs(x - lastX) &gt; speed || Math.abs(y - lastY) &gt; speed) &#123;</span><br><span class="line">            // 用户设备摇动了，触发响应操作</span><br><span class="line">            // 此处的判断依据是用户设备的加速度大于我们设置的阈值</span><br><span class="line">             alert(&apos;摇了&apos;);</span><br><span class="line">        &#125;</span><br><span class="line">        lastX = x;</span><br><span class="line">        lastY = y;</span><br><span class="line">    &#125;, false);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>上面这段代码在安卓手机上运行没有一点问题，但是ios上怎么都不出来效果（真的愁死）<br>后来在输出<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(window.EdviceMotionEvent)</span><br></pre></td></tr></table></figure></p><p>发现ios上是有这个事件的，但就是没有弹出“摇了”这个弹出框</p><p>后来发现ios新系统版本摇一摇事件需要https协议（真的是被搞死）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">问题：window.DeviceMotionEvent 在ios中是有定义的，但就是不触发 devicemotion 事件；</span><br><span class="line">解决：使用 https 协议！</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> devicemotion </tag>
            
            <tag> ios </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>position为fixed时设置z-index失效</title>
      <link href="/2019/11/26/position%E4%B8%BAfixed%E6%97%B6%E8%AE%BE%E7%BD%AEz-index%E5%A4%B1%E6%95%88/"/>
      <url>/2019/11/26/position%E4%B8%BAfixed%E6%97%B6%E8%AE%BE%E7%BD%AEz-index%E5%A4%B1%E6%95%88/</url>
      <content type="html"><![CDATA[<p>今天在改bug的时候遇到了个z-index的问题，怎么都调试不好，然后就上网百度<br>bug: 一个div元素下两个子元素，其中一个子元素fixed定位，另一个没有办法执行click方法</p><p>原来谷歌浏览器在设置position:fixed;后会触发元素创建一个新的层叠上下文，并且当成一个整体在父层叠上下文中进行比较。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;a&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;b&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p>如上面的dom结构，当给b设置了position:fixed;属性后，会触发创建一个新的层叠上下文，它的父层叠上下文变成了a，所以b只能在a的内部进行层叠比较。这也就是大家熟听的“从父原则”。</p><p>所以本来所有元素都在root内比较，改为fixed之后只能在父级元素内比较，而父级元素没有设置z-index，所以无法比较。</p><p>所以解决方案是给父级元素设置z-index，一般设置为0就可以了。</p><p>tips：</p><ol><li>z-index只有在设置了position为relative,absolute,fixed时才会有效。 </li><li>z-index的“从父原则”。当你发现把z-index设的多大都没用时，看看其父元素是否设置了有效的z-index，当然别忘了先看看自身是否设置了position。</li></ol>]]></content>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>2019月度总结-九月</title>
      <link href="/2019/10/05/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E4%B9%9D%E6%9C%88/"/>
      <url>/2019/10/05/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E4%B9%9D%E6%9C%88/</url>
      <content type="html"><![CDATA[<p>九月好像是我最懒的一个月，感觉什么都没干，我准备把月度总结换成线下写了。可是现在人在苏州，我的本子却在上海。所以这个月的还是在网上写吧！</p><p>真不知道写点什么。。。</p><h1 id="电影"><a href="#电影" class="headerlink" title="电影"></a>电影</h1><p>九月份跟朋友一起看了 —— 哪吒之魔童降世 —— 这部电影，我们去的夜场。这个电影真的超燃，非常好看。我以为九月二十六号从电影院下线后能在电脑上看呢，一直到现在都没有看到，好想在电脑上多看几遍</p><h1 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h1><p>上个月还说八月份的学习量少呢，九月才真的是少。我这是要一个月不如一个月了吗</p><p>从早上写了个标题，到现在都没有想起来我有什么可以写的，九月份真的是混过去的~</p><h1 id="英语"><a href="#英语" class="headerlink" title="英语"></a>英语</h1><p>真的是我这个人英语都不好好学习了。。。<br>下面是我的两个软件在9月30号那天的签到截图，我也真的是醉了<br><img src="/2019/10/05/2019月度总结-九月/01.jpg" alt=""><br><img src="/2019/10/05/2019月度总结-九月/02.jpg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 2019月度总结 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 2019月度总结 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>判断是页面是在手机端还是PC端打开</title>
      <link href="/2019/09/27/%E5%88%A4%E6%96%AD%E6%98%AF%E9%A1%B5%E9%9D%A2%E6%98%AF%E5%9C%A8%E6%89%8B%E6%9C%BA%E7%AB%AF%E8%BF%98%E6%98%AFPC%E7%AB%AF%E6%89%93%E5%BC%80/"/>
      <url>/2019/09/27/%E5%88%A4%E6%96%AD%E6%98%AF%E9%A1%B5%E9%9D%A2%E6%98%AF%E5%9C%A8%E6%89%8B%E6%9C%BA%E7%AB%AF%E8%BF%98%E6%98%AFPC%E7%AB%AF%E6%89%93%E5%BC%80/</url>
      <content type="html"><![CDATA[<p>之前碰到过在pc端的微信打开一个页面，告诉我只能在手机端的微信内置浏览器中打开。</p><p>效果如下所示：</p><p><img src="/2019/09/27/判断是页面是在手机端还是PC端打开/01.png" alt=""></p><p>navigator.userAgent : 浏览器用于 HTTP 请求的用户代理头的值，通过UserAgent可以取得浏览器类别、版本，客户端操作系统等信息。</p><p>本地输出一下，如下显示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">console.log(navigator.userAgent);</span><br><span class="line">//Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Mobile Safari/537.36</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;title&gt;判断是页面是在手机端还是PC端打开&lt;/title&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;link href=&quot;https://cdn.bootcss.com/weui/2.1.2/style/weui.min.css&quot; rel=&quot;stylesheet&quot;&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            const sUserAgent = navigator.userAgent.toLowerCase();</span><br><span class="line">            const pad = sUserAgent.match(/ipad/i) == &quot;ipad&quot;;//是否是ipad设备</span><br><span class="line">            const iphone = sUserAgent.match(/iphone os/i) == &quot;iphone os&quot;;//是否是iphone设备</span><br><span class="line">            const android = sUserAgent.match(/android/i) == &quot;android&quot;;//是否是安卓设备</span><br><span class="line">            const ce = sUserAgent.match(/windows ce/i) == &quot;windows ce&quot;;</span><br><span class="line">            const wm = sUserAgent.match(/windows mobile/i) == &quot;windows mobile&quot;;</span><br><span class="line">            const wcBrowser = sUserAgent.match(/MicroMessenger/i)==&quot;micromessenger&quot;;//判断当前是否是微信环境</span><br><span class="line">            </span><br><span class="line">            if (pad || iphone || android || ce || wm) &#123;</span><br><span class="line">                console.log(&quot;手机端&quot;);</span><br><span class="line">                if(wcBrowser)&#123;</span><br><span class="line">                    console.log(&quot;手机端微信内置浏览器&quot;)</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    console.log(&quot;手机端但不是微信内置浏览器&quot;)</span><br><span class="line">                    document.body.innerHTML = &apos;&lt;div class=&quot;weui_msg&quot;&gt;&lt;div class=&quot;weui_icon_area&quot;&gt;&lt;i class=&quot;weui_icon_info weui_icon_msg&quot;&gt;&lt;/i&gt;&lt;/div&gt;&lt;div class=&quot;weui_text_area&quot;&gt;&lt;h4 class=&quot;weui_msg_title&quot;&gt;请在微信内置浏览器打开链接&lt;/h4&gt;&lt;/div&gt;&lt;/div&gt;&apos;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                console.log(&quot;&quot;)</span><br><span class="line">                document.body.innerHTML = &apos;&lt;div class=&quot;weui_msg&quot;&gt;&lt;div class=&quot;weui_icon_area&quot;&gt;&lt;i class=&quot;weui_icon_info weui_icon_msg&quot;&gt;&lt;/i&gt;&lt;/div&gt;&lt;div class=&quot;weui_text_area&quot;&gt;&lt;h4 class=&quot;weui_msg_title&quot;&gt;请在移动端微信打开链接&lt;/h4&gt;&lt;/div&gt;&lt;/div&gt;&apos;;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><img src="/2019/09/27/判断是页面是在手机端还是PC端打开/04.png" alt=""><br><img src="/2019/09/27/判断是页面是在手机端还是PC端打开/04.jpg" alt=""></p><p>最终的显示效果（限制用户只能在移动端的微信内置浏览器中打开）：</p><p><img src="/2019/09/27/判断是页面是在手机端还是PC端打开/02.png" alt=""></p>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>react-canvas-nest</title>
      <link href="/2019/09/26/react-canvas-nest/"/>
      <url>/2019/09/26/react-canvas-nest/</url>
      <content type="html"><![CDATA[<p>之前在人家网站上看到，我都能玩半个小时。<br>今天刚好看到了这个插件：react-canvas-nest,用来写写</p><p><a href="https://lifuzhen.github.io/create-react-app-antd-less/build/#/nest">演示效果</a></p><p>在react环境下使用的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">安装：</span><br><span class="line"></span><br><span class="line">npm install react-canvas-nest</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">使用代码：</span><br><span class="line"></span><br><span class="line">import React from &quot;react&quot;;</span><br><span class="line">import ReactCanvasNest from &quot;react-canvas-nest&quot;; //引入</span><br><span class="line"></span><br><span class="line">class Home extends React.Component&#123;</span><br><span class="line">    render()&#123;</span><br><span class="line">        return &lt;ReactCanvasNest</span><br><span class="line">             className=&apos;canvasNest&apos;</span><br><span class="line">              config=&#123;&#123;</span><br><span class="line">                    pointColor: &apos;173, 188, 213 &apos;,</span><br><span class="line">                    lineColor: &apos;185, 198,219&apos;,</span><br><span class="line">                    lineWidth: 2,</span><br><span class="line">                    count: 120,</span><br><span class="line">                    pointR: 1.5</span><br><span class="line">                &#125;&#125;</span><br><span class="line">              style=&#123;&#123;zIndex: 1&#125;&#125;</span><br><span class="line">          /&gt;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">export default Home;</span><br></pre></td></tr></table></figure><p>效果如下所示：</p><p><img src="/2019/09/26/react-canvas-nest/Animation.gif" alt=""></p><h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><p>config<br><img src="/2019/09/26/react-canvas-nest/config.png" alt="config"></p><p>style<br>Support style attribute, default style as follows:<br><img src="/2019/09/26/react-canvas-nest/style.jpg" alt="style"></p>]]></content>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>微信扫码登录自定义样式</title>
      <link href="/2019/09/24/%E5%BE%AE%E4%BF%A1%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%B7%E5%BC%8F/"/>
      <url>/2019/09/24/%E5%BE%AE%E4%BF%A1%E6%89%AB%E7%A0%81%E7%99%BB%E5%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%B7%E5%BC%8F/</url>
      <content type="html"><![CDATA[<p>微信扫码登录现在几乎是每个网站必备的登录方式.<br><a href="https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&amp;t=resource/res_list&amp;verify=1&amp;id=open1419316505&amp;token=&amp;lang=zh_CN" target="_blank" rel="noopener">网站应用微信登录开发指南</a></p><p>官方文档中介绍了两种登录方式：1、url跳转；2、内嵌</p><h1 id="url跳转"><a href="#url跳转" class="headerlink" title="url跳转"></a>url跳转</h1><p>url跳转至一个新页面，效果如下：</p><p><img src="/2019/09/24/微信扫码登录自定义样式/url.jpg" alt=""></p><h1 id="内嵌"><a href="#内嵌" class="headerlink" title="内嵌"></a>内嵌</h1><p>页面内嵌代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;内嵌-微信登陆&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;http://res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id=&quot;login_container&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var obj = new WxLogin(&#123;</span><br><span class="line">        self_redirect:false,</span><br><span class="line">        id:&quot;login_container&quot;,</span><br><span class="line">        appid: &quot;wxbdc5610cc59c1631&quot;,</span><br><span class="line">        scope: &quot;snsapi_login&quot;,</span><br><span class="line">        redirect_uri: &quot;https%3A%2F%2Fpassport.yhd.com%2Fwechat%2Fcallback.do&quot;,</span><br><span class="line">        state: Math.ceil(Math.random()*1000),</span><br><span class="line">        style: &quot;black&quot;,</span><br><span class="line">        href: &quot;&quot;</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p><p>官方参数说明：<br><img src="/2019/09/24/微信扫码登录自定义样式/canshu.png" alt=""></p><p>内嵌效果如下：</p><p><img src="/2019/09/24/微信扫码登录自定义样式/0.jpg" alt=""></p><h1 id="自定义样式"><a href="#自定义样式" class="headerlink" title="自定义样式"></a>自定义样式</h1><h2 id="href链接写好的css样式（必须是https），http不会响应"><a href="#href链接写好的css样式（必须是https），http不会响应" class="headerlink" title="href链接写好的css样式（必须是https），http不会响应"></a>href链接写好的css样式（必须是https），http不会响应</h2><h3 id="内嵌-1"><a href="#内嵌-1" class="headerlink" title="内嵌"></a>内嵌</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var obj = new WxLogin(&#123;</span><br><span class="line">        self_redirect:false,</span><br><span class="line">        id:&quot;login_container&quot;,</span><br><span class="line">        appid: &quot;wxbdc5610cc59c1631&quot;,</span><br><span class="line">        scope: &quot;snsapi_login&quot;,</span><br><span class="line">        redirect_uri: &quot;https%3A%2F%2Fpassport.yhd.com%2Fwechat%2Fcallback.do&quot;,</span><br><span class="line">        state: Math.ceil(Math.random()*1000),</span><br><span class="line">        style: &quot;black&quot;,</span><br><span class="line">        href: &quot;https://lifuzhen.github.io/create-react-app-antd-less/src/assets/wechatLogin.min.css&quot;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><p>wechatLogin.min.css:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@charset &quot;utf-8&quot;;.impowerBox .qrcode&#123;width:180px;border:0;margin-top:13px&#125;.impowerBox .title&#123;display:none&#125;.impowerBox .info&#123;width:160px&#125;.status_icon&#123;display:none&#125;.impowerBox .status&#123;text-align:center&#125;.wrp_code&#123;width:206px;background-color:#fff;border:1px solid #e5e5e5;height:206px;margin:0 auto;border-radius:4px&#125;.panelContent .info&#123;display:none&#125;</span><br></pre></td></tr></table></figure></p><h3 id="url跳转的链接（可直接打开）"><a href="#url跳转的链接（可直接打开）" class="headerlink" title="url跳转的链接（可直接打开）"></a>url跳转的链接（可直接打开）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://open.weixin.qq.com/connect/qrconnect?appid=wxbdc5610cc59c1631&amp;redirect_uri=https%3A%2F%2Fpassport.yhd.com%2Fwechat%2Fcallback.do&amp;response_type=code&amp;scope=snsapi_login&amp;href=https://lifuzhen.github.io/create-react-app-antd-less/src/assets/wechatLogin.min.css&amp;state=b3dbfa5773c25b9e942465253b5af6ee#wechat_redirect</span><br></pre></td></tr></table></figure><p>将微信的title和info都隐藏掉了，也改变了二维码的大小。效果如下：</p><p><img src="/2019/09/24/微信扫码登录自定义样式/href0.png" alt=""></p><h2 id="也可以转换成base64"><a href="#也可以转换成base64" class="headerlink" title="也可以转换成base64"></a>也可以转换成base64</h2><h3 id="内嵌-2"><a href="#内嵌-2" class="headerlink" title="内嵌"></a>内嵌</h3><p>转换css：</p><p><img src="/2019/09/24/微信扫码登录自定义样式/base64.jpg" alt=""></p><p>代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var obj = new WxLogin(&#123;</span><br><span class="line">        self_redirect:false,</span><br><span class="line">        id:&quot;login_container&quot;,</span><br><span class="line">        appid: &quot;wxbdc5610cc59c1631&quot;,</span><br><span class="line">        scope: &quot;snsapi_login&quot;,</span><br><span class="line">        redirect_uri: &quot;https%3A%2F%2Fpassport.yhd.com%2Fwechat%2Fcallback.do&quot;,</span><br><span class="line">        href:&apos;data:text/css;base64,QGNoYXJzZXQgInV0Zi04IjsuaW1wb3dlckJveCAucXJjb2Rle3dpZHRoOjE4MHB4O2JvcmRlcjowO21hcmdpbi10b3A6MTNweH0uaW1wb3dlckJveCAudGl0bGV7ZGlzcGxheTpub25lfS5pbXBvd2VyQm94IC5pbmZve3dpZHRoOjE2MHB4fS5zdGF0dXNfaWNvbntkaXNwbGF5Om5vbmV9LmltcG93ZXJCb3ggLnN0YXR1c3t0ZXh0LWFsaWduOmNlbnRlcn0ud3JwX2NvZGV7d2lkdGg6MjA2cHg7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlcjoxcHggc29saWQgI2U1ZTVlNTtoZWlnaHQ6MjA2cHg7bWFyZ2luOjAgYXV0bztib3JkZXItcmFkaXVzOjRweH0ucGFuZWxDb250ZW50IC5pbmZve2Rpc3BsYXk6bm9uZX0=&apos;,</span><br><span class="line">        state: Math.ceil(Math.random()*1000),</span><br><span class="line">        style: &quot;black&quot;,</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><h3 id="url跳转的链接（可直接打开）-1"><a href="#url跳转的链接（可直接打开）-1" class="headerlink" title="url跳转的链接（可直接打开）"></a>url跳转的链接（可直接打开）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://open.weixin.qq.com/connect/qrconnect?appid=wxbdc5610cc59c1631&amp;redirect_uri=https%3A%2F%2Fpassport.yhd.com%2Fwechat%2Fcallback.do&amp;response_type=code&amp;scope=snsapi_login&amp;href=data:text/css;base64,QGNoYXJzZXQgInV0Zi04IjsuaW1wb3dlckJveCAucXJjb2Rle3dpZHRoOjE4MHB4O2JvcmRlcjowO21hcmdpbi10b3A6MTNweH0uaW1wb3dlckJveCAudGl0bGV7ZGlzcGxheTpub25lfS5pbXBvd2VyQm94IC5pbmZve3dpZHRoOjE2MHB4fS5zdGF0dXNfaWNvbntkaXNwbGF5Om5vbmV9LmltcG93ZXJCb3ggLnN0YXR1c3t0ZXh0LWFsaWduOmNlbnRlcn0ud3JwX2NvZGV7d2lkdGg6MjA2cHg7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlcjoxcHggc29saWQgI2U1ZTVlNTtoZWlnaHQ6MjA2cHg7bWFyZ2luOjAgYXV0bztib3JkZXItcmFkaXVzOjRweH0ucGFuZWxDb250ZW50IC5pbmZve2Rpc3BsYXk6bm9uZX0=&amp;state=b3dbfa5773c25b9e942465253b5af6ee#wechat_redirect</span><br></pre></td></tr></table></figure><p>效果如下：</p><p><img src="/2019/09/24/微信扫码登录自定义样式/href0.png" alt=""></p>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> 前端 </tag>
            
            <tag> css </tag>
            
            <tag> 微信 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>关于this.setState({})中的数据延迟问题</title>
      <link href="/2019/09/22/%E5%85%B3%E4%BA%8Ethis-setState-%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BB%B6%E8%BF%9F%E9%97%AE%E9%A2%98/"/>
      <url>/2019/09/22/%E5%85%B3%E4%BA%8Ethis-setState-%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BB%B6%E8%BF%9F%E9%97%AE%E9%A2%98/</url>
      <content type="html"><![CDATA[<p>转载自<a href="https://segmentfault.com/a/1190000019670168" target="_blank" rel="noopener">ERIC</a></p><p>this.setState( )方法是React.js中最常见的一种方法，利用它可以控制各种状态变化，达到页面各种交互效果，但是，我们在React开发中偶尔会发现，明明已经通过this.setState( )方法处理过某个state的值，但是在后续的方法里，log打印出来仍然是之前的值，或者，第一次获取到原来的值，第二次才能获取到设置之后的新值，让人误以为是因为电脑或浏览器性能问题造成的”延迟”问题。</p><h1 id="执行过程"><a href="#执行过程" class="headerlink" title="执行过程"></a>执行过程</h1><hr><p>为了理解这个问题，我们首先来看一下setState这个过程中发生了什么：</p><p>1、将setState传入的partialState参数存储在当前组件实例的state暂存队列中。<br>2、判断当前React是否处于批量更新状态，如果是，将当前组件加入待更新的组件队列中。<br>3、如果未处于批量更新状态，将批量更新状态标识设置为true，用事务再次调用前一步方法，保证当前组件加入到了待更新组件队列中。<br>4、调用事务的waper方法，遍历待更新组件队列依次执行更新。<br>5、执行生命周期componentWillReceiveProps。<br>6、将组件的state暂存队列中的state进行合并，获得最终要更新的state对象，并将队列置为空。<br>7、执行生命周期componentShouldUpdate，根据返回值判断是否要继续更新。<br>8、执行生命周期componentWillUpdate。<br>9、执行真正的更新，render重新渲染。<br>10、执行生命周期componentDidUpdate。</p><h1 id="官方解释"><a href="#官方解释" class="headerlink" title="官方解释"></a>官方解释</h1><hr><p>首先思考为什么会出现这种情况，在facebook给出的官方文档中我们可以看到这么一段话：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setState(updater[, callback])</span><br></pre></td></tr></table></figure><p><em>Think of setState( ) as a request rather than an immediate command to update the component. For better perceived performance, React may delay it, and then update several components in a single pass. React does not guarantee that the state changes are applied immediately.</em></p><p><em>setState( ) does not always immediately update the component. It may batch or defer the update until later. This makes reading this.state right after calling setState( ) a potential pitfall. Instead, use componentDidUpdate or a setState callback (setState(updater, callback)), either of which are guaranteed to fire after the update has been applied. If you need to set the state based on the previous state, read about the updater argument below.</em></p><p>总结一下，就是以下几点：</p><ul><li>setState( ) 更类似于是一种请求而不是立即更新组件的命令</li><li>为了更好的性能，React会延迟调用它，不会保证state的变更会立即生效，而是会批量推迟更新</li><li>官方承认会存在隐患</li><li>建议在componentDidUpdate中执行或利用回调函数（setState(updater, callback)）</li></ul><p>举个简单例子：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">constructor(props) &#123;</span><br><span class="line">  super(props);</span><br><span class="line">  this.state = &#123;</span><br><span class="line">    num: 1</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentDidMount = () =&gt; &#123;</span><br><span class="line">  this.setState(&#123; num: this.state.num + 1 &#125;);</span><br><span class="line">  console.log(this.state.num);   // 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这是因为this.setState( )本身是异步的，程序异步运行，可以提高程序运行的效率，不必等一个程序跑完，再跑下一个程序，特别当这两个程序是无关的时候。React会去合并所有的state变化，在前一个方法未执行完时，就先开始运行后一个方法。但是实际操作中，为了能实时获取后一个状态值，需要一些解决的办法。</p><h1 id="利用全局属性"><a href="#利用全局属性" class="headerlink" title="利用全局属性"></a>利用全局属性</h1><hr><p>尝试一下换个写法，利用全局属性的办法而不是用state的方式去获取数据：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">constructor(props) &#123;</span><br><span class="line">  super(props);</span><br><span class="line">  this.num = 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentDidMount = () =&gt; &#123;</span><br><span class="line">  this.num = this.num + 1;</span><br><span class="line">  console.log(this.num);   // 2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这其实是一种取巧的方式，写法方便，原理简单，但是并不十分推荐，因为它并不符合React中关于有状态组件的设计理念，存在有可能无法触发刷新的风险(虽然在我的开发过程从没有发生这样的事)，所以还是希望大家优先使用下面的方法。</p><h1 id="利用回调函数"><a href="#利用回调函数" class="headerlink" title="利用回调函数"></a>利用回调函数</h1><hr><p>回调函数众所周知，就是某个函数执行完毕后执行的函数，利用它可以确保在this.setState( )整个函数执行完成之后去获取this.state.xxx的值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">constructor(props) &#123;</span><br><span class="line">  super(props);</span><br><span class="line">  this.state = &#123;</span><br><span class="line">    num: 1</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentDidMount = () =&gt; &#123;</span><br><span class="line">  this.setState(&#123; num: this.state.num + 1 &#125;, () =&gt; &#123;</span><br><span class="line">    console.log(this.state.num);   // 2</span><br><span class="line">  &#125;);</span><br><span class="line">  console.log(this.state.num);   // 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>控制台按顺序先后打印出两个结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td></tr></table></figure></p><h1 id="利用setTimeout"><a href="#利用setTimeout" class="headerlink" title="利用setTimeout( )"></a>利用setTimeout( )</h1><hr><p>首先简单回顾一下，利用setTimeout( )模拟一下前文提到的Javascript中的异步：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">foo = () =&gt; &#123;</span><br><span class="line">  console.log(&apos;11111111&apos;);</span><br><span class="line">  setTimeout(function()&#123;</span><br><span class="line">    console.log(&apos;22222222&apos;);</span><br><span class="line">  &#125;,1000);</span><br><span class="line">&#125;;</span><br><span class="line">bar = () =&gt; &#123;</span><br><span class="line">  console.log(&apos;33333333&apos;);  </span><br><span class="line">&#125;</span><br><span class="line">foo();</span><br><span class="line">bar();</span><br><span class="line">// 11111111</span><br><span class="line">// 33333333</span><br><span class="line">// 22222222</span><br></pre></td></tr></table></figure></p><p>所以，在上述代码块中，在前一方法（foo）执行时，后一方法（bar）也可以执行。符合异步的基本概念，程序并不按顺序执行。在foo函数中执行到setTimeout的时候，函数会跳出，并先执行bar( )方法，这样就模拟了一个异步的效果。这里顺便再提一下前面说的，setState方法通过一个队列机制实现state更新，当执行setState的时候，会将需要更新的state合并之后放入状态队列，而不会立即更新，通过下面的例子可见。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">constructor(props) &#123;</span><br><span class="line">  super(props);</span><br><span class="line">  this.state = &#123;</span><br><span class="line">    num: 1,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line">componentWillMount = () =&gt; &#123;</span><br><span class="line">  this.setState(&#123;</span><br><span class="line">    num: this.state.num + 1,</span><br><span class="line">  &#125;);</span><br><span class="line">  console.log(this.state.num);</span><br><span class="line">  this.setState(&#123;</span><br><span class="line">    num: this.state.num + 1,</span><br><span class="line">  &#125;);</span><br><span class="line">  console.log(this.state.num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">render() &#123;</span><br><span class="line">  console.log(this.state.num);</span><br><span class="line">  return (&lt;div /&gt;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>代码输出结果为： ==1，1，2==</p><p>利用setTimeout方法可以解决state的异步问题，因为setState只在合成事件和钩子函数中是“异步”的，在原生事件和setTimeout 中都是同步的：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">componentWillMount = () =&gt; &#123;</span><br><span class="line">  setTimeout(() =&gt; &#123;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      num: this.state.num + 1,</span><br><span class="line">    &#125;);</span><br><span class="line">    console.log(this.state.num);  // 1</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      num: this.state.num + 1,</span><br><span class="line">    &#125;);</span><br><span class="line">    console.log(this.state.num);  // 2</span><br><span class="line">  &#125;, 0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="利用componentDidUpdate"><a href="#利用componentDidUpdate" class="headerlink" title="利用componentDidUpdate( )"></a>利用componentDidUpdate( )</h1><hr><p>根据前面文档所说，在componentDidUpdate( )方法中去获取新的state值，根据React的生命周期，此时this.state已经更新。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state = &#123;</span><br><span class="line">      num: 1</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentWillMount = () =&gt; &#123;</span><br><span class="line">    this.setState(&#123; num: this.state.num + 1 &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">componentDidUpdate = () =&gt; &#123;</span><br><span class="line">    console.log(this.state.num);   // 2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="警告"><a href="#警告" class="headerlink" title="警告"></a>警告</h1><hr><p>⚠️注意，很多新人在遇到这种问题时无所适从，可能会用一些投机取巧的方式，上面的全局对象是一种方式，还有一种就是绕过setState直接赋值：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.state.num = 2   // 2</span><br></pre></td></tr></table></figure></p><p>理论上讲，这种方法当然也能达到赋值目的，但将state设计成更新延缓到最后批量合并再去渲染，对于应用的性能优化是有极大好处的，如果每次的状态改变都去重新渲染真实dom，那么它将带来巨大的性能消耗，所以不建议上面写法。</p><p>⚠️如果在shouldComponentUpdate或者componentWillUpdate方法中调用setState，此时this._pending-StateQueue != null，就会造成循环调用，使得浏览器内存占满后崩溃。</p>]]></content>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>2019月度总结-八月</title>
      <link href="/2019/09/03/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E5%85%AB%E6%9C%88/"/>
      <url>/2019/09/03/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E5%85%AB%E6%9C%88/</url>
      <content type="html"><![CDATA[<p>第二次写月度总结了</p><p>感觉八月过的什么都不知道似的就这样过完了</p><h1 id="读书"><a href="#读书" class="headerlink" title="读书"></a>读书</h1><p>八月的读书量根本跟不上，这个月就没怎么读书，光玩了~罪过罪过</p><p>《图解css3》这本书把css3里面的特性讲解的很细致。这本是很早以前就买了，但是一直断断续续的看一点，从来都没有看完过。不过在八月我翻完了最后一页。翻完后竟然在工作中还用到了刚从里面学到的知识。果然看书是没有坏处的。这本书以后还是要细读一下，争取把里面的内容都熟记。</p><p>《所谓情商高，就是会说话》 我这个人就是不怎么会说话，有时候能不说话我绝对是不吱声的那种。本书是我在微信读书上看到的，看到身边的人都在读这本书，我也就加入了我的书架。本书不是太多，总共也就二百八十六页。本书是一位日本作者写的《别让成功卡在说话上》的一个后续。《别让成功卡在说话上》这个还都没有看过。作者把说话比作做菜，都是有谱可寻的。<br>章节后面都有本章的总结</p><blockquote><p>第一章总结</p><ul><li>利用“投其所好”——既能获得对方的好感，又能实现自己的期望</li><li>利用“儆其所恶”——能形成强大的的强制力。这是措辞的最终手段</li><li>利用“选择的自由”——能够引导对方，同时又不会留下被迫感</li><li>利用“被认可欲”——对方即使很难对付，也会乐于回应期待</li><li>利用“非你不可”——能让对方感到只有自己被选中的优越感，从而乐于做出回应</li><li>利用“团队化”——能使对方产生伙伴意识，即使是麻烦的请求，也会乐于接受</li><li>利用“感谢”——能让对方隐约产生信赖意识，从而难以轻易拒绝</li></ul></blockquote><blockquote><p>第二章总结</p><ul><li>瞬间即可完成的“措辞菜谱”——惊奇法</li><li>即使忘记其他“措辞菜谱”，也要记住这个能创造名言的“措辞菜谱”——反差法</li><li>令人脸上发烧、难为情的、暴露自我的“措辞菜谱”——赤裸裸法</li><li>非常非常简单就能完成，令人记忆深刻的“措辞菜谱”——重复法</li><li>唯独不能忘记这个吸引人注意力的“措辞菜谱”——高潮法</li><li>95%人不知道的、通过使用数字来增强说服力的“措辞菜谱”——数字法</li><li>可用“潮流发明器”来形容的、创造流行语的“措辞菜谱”——合体法</li><li>商店货架上最常用的、制造购买动机的“措辞菜谱”——顶点法</li></ul></blockquote><p>里面有一段话很好：不要去追一匹马，用追马的时间种草，待到春暖花开时，会有一群骏马任你挑选；不要可以去结交一个人，用这时间提升自己的能力，待到时机成熟时，会有一大批朋友与你同行。所以丰富自己比依附他人更有力量；种下梧桐，自由凤凰来栖，你若盛开，蝴蝶自来。</p><p>有一天去图书馆的时候刚好没有了座位，就随手拿起一本杂志翻了起来。看到了一篇文章《一个人》</p><blockquote><ul><li>一个人</li><li>一个人是快乐的，在没遇到另一个人时；</li><li>一个人可以随心情的起伏而抱怨天气的变化；</li><li>一个人可以自由地去击破蓝天而不用担心自己的羽翼；</li><li>一个人可以开心地看着别人的眼泪而不用担心自己的泪水；</li><li>一个人可以呼呼地睡觉而不用考虑浪费的时间；</li><li>一个人可以不用考虑人情味的存在而禁锢自己的思想；</li><li>一个人可以把天分成两半而不用考虑天会塌下来；</li></ul></blockquote><h1 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h1><p>在前端技术上，摘了别人的三个小游戏，自己临摹了一遍，但也只是临摹加浏览了一遍。还需要深入的了解。</p><p>下面三个链接都可以试玩哦<br><a href="https://lifuzhen.github.io/Lipstick-Matching-Game/src/index.html">口红匹配</a><br><a href="https://lifuzhen.github.io/Tic-Tac-Toe/src/index.html">井字棋</a><br><a href="https://lifuzhen.github.io/minesweeper/src/index.html">扫雷</a></p><h1 id="美食"><a href="#美食" class="headerlink" title="美食"></a>美食</h1><p>这个月的公众号更新了两篇游玩篇，三篇美食篇<br>《内蒙古》、《炸鸡排》、《炒方便面》、《耗油生菜》、《岱山》。<br>想要知道具体详细内容的可以关注我的公众号（李大公子）。<br>我还会增加新的菜谱，这算是提高我的厨艺吗，没办法，就是爱吃</p><h1 id="旅游"><a href="#旅游" class="headerlink" title="旅游"></a>旅游</h1><p>八月，月初和月末都出去玩了，但不是一整个月哦</p><blockquote><p>鄂尔多斯</p></blockquote><p>八月初跟团去了一趟鄂尔多斯，五天四夜游。</p><ul><li>体验了好多项目:</li><li style="list-style: none"><input type="checkbox" checked> 骑马</li><li style="list-style: none"><input type="checkbox" checked> 骑骆驼</li><li style="list-style: none"><input type="checkbox" checked> 滑沙</li><li style="list-style: none"><input type="checkbox" checked> 溜索</li><li style="list-style: none"><input type="checkbox" checked> 沙地自行车</li><li style="list-style: none"><input type="checkbox" checked> 越野摩托</li><li style="list-style: none"><input type="checkbox" checked> 住蒙古包</li><li style="list-style: none"><input type="checkbox" checked> 吃烤全羊</li><li style="list-style: none"><input type="checkbox" checked> 穿蒙古族服装</li><li style="list-style: none"><input type="checkbox" checked> 看马术表演</li><li style="list-style: none"><input type="checkbox" checked> 喝下马酒</li><li style="list-style: none"><input type="checkbox" checked> 果老剧场杂技表演——十二生肖</li></ul><p>还做了一次王妃。。。。<br>蒙古族在吃烤全羊前有一个仪式，就是选出一组王爷王妃参加一个祭祀仪式，只有举办完这个仪式，所有人才能吃烤全羊。。所以就入乡随俗了。</p><ul><li>去的景点: </li><li style="list-style: none"><input type="checkbox" checked> 呼和浩特希拉穆仁草原</li><li style="list-style: none"><input type="checkbox" checked> 敕勒川草原</li><li style="list-style: none"><input type="checkbox" checked> 萨拉齐</li><li style="list-style: none"><input type="checkbox" checked> 大昭寺</li><li style="list-style: none"><input type="checkbox" checked> 银肯响沙湾</li><li style="list-style: none"><input type="checkbox" checked> 康巴什</li><li style="list-style: none"><input type="checkbox" checked> 成吉思汗陵</li></ul><p>印象深刻的是希拉穆仁大草原，一望无际草原。现在的草原早就没有了以前电视上的那种，因为过度的发展旅游业，草原也不是很青了；银肯响沙湾，跟草原相反，一望无际的沙漠。金灿灿的细沙，因为我们去的时候下去，到那里就不下了，所以天气是非常好的。没有大太阳，不晒。很庆幸。</p><p>上一些图<br><img src="/2019/09/03/2019月度总结-八月/caoyuan.jpg" alt=""><br><img src="/2019/09/03/2019月度总结-八月/menggubao.jpg" alt=""><br><img src="/2019/09/03/2019月度总结-八月/kaoquanyang.jpg" alt=""><br><img src="/2019/09/03/2019月度总结-八月/shamo.jpg" alt=""><br><img src="/2019/09/03/2019月度总结-八月/chengjisihanling.jpg" alt=""></p><p>八月中旬去参加朋友的婚礼去了一趟宿迁（也是第一次去），吃了一次宿迁大席。哈哈哈   很合胃口</p><p>八月末公司团建选择了岱山<br>我们是车船同票，去的时候我们大boss直接给我们升级了头等舱。。。来的时候也升了舱——多幸福<br>我们是坐车去的洋山港，从洋山港坐船到达岱山。<br>洋山港真的不愧是世界第一<br>看一些图片<br><img src="/2019/09/03/2019月度总结-八月/view.jpg" alt=""><br><img src="/2019/09/03/2019月度总结-八月/view01.jpg" alt=""><br><img src="/2019/09/03/2019月度总结-八月/yangshangang01.jpg" alt=""><br><img src="/2019/09/03/2019月度总结-八月/yangshangang02.jpg" alt=""><br><img src="/2019/09/03/2019月度总结-八月/yangshangang03.jpg" alt=""></p><p>去的时候坐了80分钟的船，这是我第一次坐了那么长时间的船-风平浪静，很享受。<br>来的时候就没有那么幸运了。。。<br>来的时候我们遇上了8级风，我们的船是超过8级就不能运营了，所以注定这是一次难忘的出行。8级风使海上的浪很大，浪会把船冲上去，然后自由落体坠落在海面上，我们就一直跟着船颠簸了将近一个小时，这个过程有点刺激，胃里翻江倒海，如果在晃个半小时我估计我也要吐了🤮，那些已经吐了的，应该更难忘😄<br>感受一下当时海上的浪，不知道后面两个视频能不能看<br><img src="/2019/09/03/2019月度总结-八月/lang.jpg" alt=""></p><video style="width:400px" id="video" controls preload="none" poster="https://lifuzhen.github.io/2019/09/03/2019月度总结-八月/lang.jpg"><br>      <source id="mp4" src="https://lifuzhen.github.io/2019/09/03/2019月度总结-八月/sea.mp4" type="video/mp4"><br></video><video style="width:400px" id="video" controls preload="none" poster="https://lifuzhen.github.io/2019/09/03/2019月度总结-八月/lang.jpg"><br>      <source id="mp4" src="https://lifuzhen.github.io/2019/09/03/2019月度总结-八月/sea2.mp4" type="video/mp4"><br></video>]]></content>
      
      <categories>
          
          <category> 2019月度总结 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 2019月度总结 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>CSS改变图片颜色的filter(滤镜)属性</title>
      <link href="/2019/08/29/CSS%E6%94%B9%E5%8F%98%E5%9B%BE%E7%89%87%E9%A2%9C%E8%89%B2%E7%9A%84filter-%E6%BB%A4%E9%95%9C-%E5%B1%9E%E6%80%A7/"/>
      <url>/2019/08/29/CSS%E6%94%B9%E5%8F%98%E5%9B%BE%E7%89%87%E9%A2%9C%E8%89%B2%E7%9A%84filter-%E6%BB%A4%E9%95%9C-%E5%B1%9E%E6%80%A7/</url>
      <content type="html"><![CDATA[<p>前端一般处理图片，我首先想到的就是ps。<br>但是，前端css的filter属性一样可以得到一些意想不到的效果（例如：图片模糊与图片饱和度）<br>今天我们就来挨个介绍一下这些取值产生的效果<br>也可以参考<a href="https://www.runoob.com/cssref/css3-pr-filter.html" target="_blank" rel="noopener">runoob</a></p><p>filter(滤镜)</p><p>filter的取值有：none | blur() | brightness() | contrast() | drop-shadow() | grayscale() | hue-rotate() | invert() | opacity() | saturate() | sepia() | url();</p><h1 id="none（默认值，没有效果）"><a href="#none（默认值，没有效果）" class="headerlink" title="none（默认值，没有效果）"></a>none（默认值，没有效果）</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img&#123;</span><br><span class="line">  filter: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2019/08/29/CSS改变图片颜色的filter-滤镜-属性/none.jpg" alt="none"></p><h1 id="blur-给图像设置高斯模糊"><a href="#blur-给图像设置高斯模糊" class="headerlink" title="blur()  (给图像设置高斯模糊)"></a>blur()  (给图像设置高斯模糊)</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img&#123;</span><br><span class="line">  filter: blur(2px);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>blur(0px-20px)与原图的对比效果:<br><img src="/2019/08/29/CSS改变图片颜色的filter-滤镜-属性/blur.gif" alt="blur(0px-20px)与原图的对比效果"></p><p>#brightness()   (给图片应用一种线性乘法，使其看起来更亮或更暗)</p><p>brightness(0%):全黑<br>brightness(100%):没有变化<br>brightness(&gt;100%):图片变得更亮<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img&#123;</span><br><span class="line">  filter: brightness(50%);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>brightness(100%~0%)与原图的对比效果:<br><img src="/2019/08/29/CSS改变图片颜色的filter-滤镜-属性/brightness.gif" alt="brightness(100%~0%)与原图的对比效果"></p><h1 id="contrast-调整图像的对比度"><a href="#contrast-调整图像的对比度" class="headerlink" title="contrast()   (调整图像的对比度)"></a>contrast()   (调整图像的对比度)</h1><p>contrast(0%):全灰<br>contrast(100%):没有变化<br>contrast(&gt;100%):图片对比度更明显<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img&#123;</span><br><span class="line">  filter: contrast(50%);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>contrast(100%~0%)与原图的对比效果:<br><img src="/2019/08/29/CSS改变图片颜色的filter-滤镜-属性/contrast.gif" alt="contrast(100%~0%)与原图的对比效果"></p><h1 id="drop-shadow-给图像设置一个阴影效果"><a href="#drop-shadow-给图像设置一个阴影效果" class="headerlink" title="drop-shadow()    (给图像设置一个阴影效果)"></a>drop-shadow()    (给图像设置一个阴影效果)</h1><p>这个取值类似于box-shadow<br><strong>drop-shadow(h-shadow v-shadow blur spread color)</strong><br>1、<h-shadow> <v-shadow> (必须)<br>这是设置阴影偏移量的两个 <length>值. <h-shadow> 设定水平方向距离. 负值会使阴影出现在元素左边. <v-shadow>设定垂直距离.负值会使阴影出现在元素上方。查看<length>可能的单位.<br>如果两个值都是0, 则阴影出现在元素正后面 (如果设置了 <blur> and/or <spread>，会有模糊效果).<br>2、<blur> (可选)<br>.值越大，越模糊，则阴影会变得更大更淡.不允许负值 若未设定，默认是0 (则阴影的边界很锐利).<br>3、<spread> (可选)<br> 正值会使阴影扩张和变大，负值会是阴影缩小.若未设定，默认是0 (阴影会与元素一样大小).<br><em>注意: Webkit, 以及一些其他浏览器 不支持第四个长度，如果加了也不会渲染。</em><br>4、<color> (可选)<br>查看 <color>该值可能的关键字和标记。若未设定，颜色值基于浏览器。在Gecko (Firefox), Presto (Opera)和Trident (Internet Explorer)中， 会应用colorcolor属性的值。另外, 如果颜色值省略，WebKit中阴影是透明的。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img&#123;</span><br><span class="line">  filter: drop-shadow(2px 4px 6px #000);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></color></color></spread></blur></spread></blur></length></v-shadow></h-shadow></length></v-shadow></h-shadow></p><p>drop-shadow(2px 4px 6px #000)的效果图:<br><img src="/2019/08/29/CSS改变图片颜色的filter-滤镜-属性/drop-shadow.jpg" alt="drop-shadow(2px 4px 6px #000)的效果图"></p><h1 id="grayscale-将图像转换为灰度图像"><a href="#grayscale-将图像转换为灰度图像" class="headerlink" title="grayscale()   (将图像转换为灰度图像)"></a>grayscale()   (将图像转换为灰度图像)</h1><p>grayscale(0%):无变化<br>grayscale(100%):灰度图片<br>grayscale(&gt;100%):跟100%的效果一致<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img&#123;</span><br><span class="line">  filter: grayscale(50%);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>grayscale(0%~100%)与原图的对比效果:<br><img src="/2019/08/29/CSS改变图片颜色的filter-滤镜-属性/grayscale.gif" alt="grayscale(0%~100%)与原图的对比效果"></p><h1 id="hue-rotate-给图像应用色相旋转"><a href="#hue-rotate-给图像应用色相旋转" class="headerlink" title="hue-rotate()   (给图像应用色相旋转)"></a>hue-rotate()   (给图像应用色相旋转)</h1><p>hue-rotate(0deg):无变化<br>hue-rotate(180deg):变化<br>hue-rotate(360deg):无变化<br>hue-rotate(361deg)的效果等同于hue-rotate(1deg)的效果<br>0~360deg为一个周期<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img&#123;</span><br><span class="line">  filter: hue-rotate(50deg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>hue-rotate(0deg~360deg)与原图的对比效果:<br><img src="/2019/08/29/CSS改变图片颜色的filter-滤镜-属性/hue-rotate.gif" alt="hue-rotate(0deg~360deg)与原图的对比效果"></p><h1 id="invert-反转输入图像"><a href="#invert-反转输入图像" class="headerlink" title="invert()   (反转输入图像)"></a>invert()   (反转输入图像)</h1><p>invert(0%):无变化<br>invert(100%):完全反转<br>invert(&gt;100%):跟100%的效果一致<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img&#123;</span><br><span class="line">  filter: invert(50%);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>invert(0%~100%)与原图的对比效果:<br><img src="/2019/08/29/CSS改变图片颜色的filter-滤镜-属性/invert.gif" alt="invert(0%~100%)与原图的对比效果"></p><h1 id="opacity-转化图像的透明程度"><a href="#opacity-转化图像的透明程度" class="headerlink" title="opacity()   (转化图像的透明程度)"></a>opacity()   (转化图像的透明程度)</h1><p>opacity(0%):完全透明<br>opacity(100%):无变化<br>opacity(&gt;100%):跟100%的效果一致<br>该值类似与opacity属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img&#123;</span><br><span class="line">  filter: opacity(50%);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>opacity(100%~0%)与原图的对比效果:<br><img src="/2019/08/29/CSS改变图片颜色的filter-滤镜-属性/opacity.gif" alt="opacity(100%~0%)与原图的对比效果"></p><h1 id="saturate-转换图像饱和度"><a href="#saturate-转换图像饱和度" class="headerlink" title="saturate()   (转换图像饱和度)"></a>saturate()   (转换图像饱和度)</h1><p>saturate(0%):完全不饱和<br>saturate(100%):无变化<br>saturate(&gt;100%):更高的饱和度<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img&#123;</span><br><span class="line">  filter: saturate(50%);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>saturate(0%~200%)与原图的对比效果:<br><img src="/2019/08/29/CSS改变图片颜色的filter-滤镜-属性/saturate.gif" alt="saturate(0%~200%)与原图的对比效果"></p><h1 id="sepia-将图像转换为深褐色"><a href="#sepia-将图像转换为深褐色" class="headerlink" title="sepia()   (将图像转换为深褐色)"></a>sepia()   (将图像转换为深褐色)</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img&#123;</span><br><span class="line">  filter: sepia(0%);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>sepia(0%~100%)与原图的对比效果:<br><img src="/2019/08/29/CSS改变图片颜色的filter-滤镜-属性/sepia.gif" alt="sepia(0%~100%)与原图的对比效果"></p><h1 id="url-URL函数接受一个XML文件，该文件设置了-一个SVG滤镜，且可以包含一个锚点来指定一个具体的滤镜元素。"><a href="#url-URL函数接受一个XML文件，该文件设置了-一个SVG滤镜，且可以包含一个锚点来指定一个具体的滤镜元素。" class="headerlink" title="url()   (URL函数接受一个XML文件，该文件设置了 一个SVG滤镜，且可以包含一个锚点来指定一个具体的滤镜元素。)"></a>url()   (URL函数接受一个XML文件，该文件设置了 一个SVG滤镜，且可以包含一个锚点来指定一个具体的滤镜元素。)</h1><p>SVG滤镜资源是指以xml文件格式定义的svg滤镜效果集，可以通过URL引入并且通过锚点（#element-id）指定具体的一个滤镜元素<br>用法：filter: url(svg-url#element-id)</p><p>svg-xml文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg version=&quot;1.1&quot;</span><br><span class="line">     xmlns=&quot;http://www.w3.org/2000/svg&quot;</span><br><span class="line">     xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;</span><br><span class="line">     xmlns:ev=&quot;http://www.w3.org/2001/xml-events&quot;</span><br><span class="line">     baseProfile=&quot;full&quot;&gt;</span><br><span class="line">    &lt;defs&gt;</span><br><span class="line">        &lt;!-- 此处定义滤镜 --&gt;</span><br><span class="line">        &lt;filter id=&quot;blur&quot;&gt;</span><br><span class="line">            &lt;feGaussianBlur stdDeviation=&quot;4&quot; result=&quot;blur&quot;/&gt;  </span><br><span class="line">            &lt;!-- feGaussianBlur(滤镜): 该滤镜对输入图像进行高斯模糊 --&gt;</span><br><span class="line">            &lt;feOffset in=&quot;blur&quot; dx=&quot;4&quot; dy=&quot;4&quot; result=&quot;offsetBlur&quot;/&gt;</span><br><span class="line">            &lt;!-- feOffset(模糊)：创建阴影效果 --&gt;</span><br><span class="line">        &lt;/filter&gt;</span><br><span class="line">    &lt;/defs&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img&#123;</span><br><span class="line">  filter: url(&quot;./svg.xml#blur&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>url()效果图<br><img src="/2019/08/29/CSS改变图片颜色的filter-滤镜-属性/url.jpg" alt="url.jpg"></p><p><em>以上所有运行效果均在Google（76版本）浏览器下产生</em></p>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>css实现居中的常用方法</title>
      <link href="/2019/08/23/css%E5%AE%9E%E7%8E%B0%E5%B1%85%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/"/>
      <url>/2019/08/23/css%E5%AE%9E%E7%8E%B0%E5%B1%85%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/</url>
      <content type="html"><![CDATA[<p>在前端开发中，让元素居中是常常用到的。其中，居中可以分为水平和垂直居中两种。<br><a id="more"></a></p><h3 id="水平居中"><a href="#水平居中" class="headerlink" title="水平居中"></a>水平居中</h3><h4 id="1、margin：0-auto"><a href="#1、margin：0-auto" class="headerlink" title="1、margin：0 auto"></a>1、margin：0 auto</h4><p>代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.content&#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background: #f14b11;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class=&quot;content&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p>效果图：<br><img src="/2019/08/23/css实现居中的常用方法/margin0auto.jpg" alt=""></p><h3 id="水平垂直居中"><a href="#水平垂直居中" class="headerlink" title="水平垂直居中"></a>水平垂直居中</h3><h4 id="1、position"><a href="#1、position" class="headerlink" title="1、position"></a>1、position</h4><p>利用position实现水平垂直居中，父元素相对定位，子元素绝对定位。子元素距离左与上各-50%，margin减去自身宽度的一半。适用于具有固定宽和高的元素居中<br>代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">.parent&#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 300px;</span><br><span class="line">    background: yellow;</span><br><span class="line">    margin: auto;</span><br><span class="line">&#125;</span><br><span class="line">.son&#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    position: absolute;</span><br><span class="line">    background: red;</span><br><span class="line">    left: 50%;</span><br><span class="line">    top: 50%;</span><br><span class="line">    margin: -50px -50px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;parent&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;son&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>效果图：<br><img src="/2019/08/23/css实现居中的常用方法/position.jpg" alt=""></p><h4 id="2、position-and-transform"><a href="#2、position-and-transform" class="headerlink" title="2、position and transform"></a>2、position and transform</h4><p>利用position和transform使元素居中。将子元素的margin替换成transform：translate（-50%，-50%）。使用于不知道具体宽和高的元素居中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">.parent&#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 300px;</span><br><span class="line">    background: red;</span><br><span class="line">    margin: auto;</span><br><span class="line">&#125;</span><br><span class="line">.son&#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    position: absolute;</span><br><span class="line">    background: yellow;</span><br><span class="line">    left: 50%;</span><br><span class="line">    top: 50%;</span><br><span class="line">    /*margin: -50px -50px;*/</span><br><span class="line">    transform: translate(-50%,-50%);</span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line">&lt;div class=&quot;parent&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;son&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p>效果图：<br>!]<a href="css实现居中的常用方法/positionandtransform.jpg"></a></p><h4 id="3、flex"><a href="#3、flex" class="headerlink" title="3、flex"></a>3、flex</h4><p>利用弹性布局使元素居中。给父元素设置<br>display:flex;//设置父元素<br>justify-content:center;//水平居中<br>align-items:center;//垂直居中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">.parent&#123;</span><br><span class="line">    position: relative;</span><br><span class="line">     width: 300px;</span><br><span class="line">     height: 300px;</span><br><span class="line">     background: red;</span><br><span class="line">     margin: auto;</span><br><span class="line">     display: flex;</span><br><span class="line">     align-items: center;</span><br><span class="line">     justify-content: center;</span><br><span class="line"> &#125;</span><br><span class="line"> .son&#123;</span><br><span class="line">     width: 100px;</span><br><span class="line">     height: 100px;</span><br><span class="line">     background: yellow;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> &lt;div class=&quot;parent&quot;&gt;</span><br><span class="line">     &lt;div class=&quot;son&quot;&gt;&lt;/div&gt;</span><br><span class="line"> &lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p>效果图：<br><img src="/2019/08/23/css实现居中的常用方法/positionandtransform.jpg" alt=""></p><h4 id="4、table-cell"><a href="#4、table-cell" class="headerlink" title="4、table-cell"></a>4、table-cell</h4><p>组合使用display:table-cell和vertical-align、text-align，使父元素内的所有行内元素水平垂直居中。适用于不知道元素具体宽和高是。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">.parent&#123;</span><br><span class="line">    position: relative;</span><br><span class="line">     width: 300px;</span><br><span class="line">     height: 300px;</span><br><span class="line">     background: red;</span><br><span class="line">     margin: auto;</span><br><span class="line">     display: table-cell;</span><br><span class="line">     vertical-align: middle;</span><br><span class="line">     text-align: center;</span><br><span class="line">     border:1px solid #666;</span><br><span class="line"> &#125;</span><br><span class="line"> .son&#123;</span><br><span class="line">     color: yellow;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> &lt;div class=&quot;parent&quot;&gt;</span><br><span class="line">     &lt;div class=&quot;son&quot;&gt;我爱你中国&lt;/div&gt;</span><br><span class="line"> &lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p>效果图：<br><img src="/2019/08/23/css实现居中的常用方法/table-cell.jpg" alt=""><br>table-cell的应用还有很多，具体的参考<a href="https://www.zhangxinxu.com/wordpress/2010/10/%E6%88%91%E6%89%80%E7%9F%A5%E9%81%93%E7%9A%84%E5%87%A0%E7%A7%8Ddisplaytable-cell%E7%9A%84%E5%BA%94%E7%94%A8/" target="_blank" rel="noopener">张鑫旭老师的《display:table-cell的应用》</a>。</p><h4 id="5、vertical-align-middle"><a href="#5、vertical-align-middle" class="headerlink" title="5、vertical-align:middle"></a>5、vertical-align:middle</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">.parent&#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    top: 0;</span><br><span class="line">    right: 0;</span><br><span class="line">    bottom: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    background-color: rgba(0,0,0,.5);</span><br><span class="line">    text-align: center;</span><br><span class="line">    font-size: 0;</span><br><span class="line">    white-space: nowrap;</span><br><span class="line">    overflow: auto;</span><br><span class="line">    width: 300px;</span><br><span class="line">    height: 300px;</span><br><span class="line">&#125;</span><br><span class="line">.parent:after&#123;</span><br><span class="line">    content: &apos;&apos;;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    height: 100%;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line">&#125;</span><br><span class="line">.son&#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background: red;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    vertical-align: middle;</span><br><span class="line">    text-align: left;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    white-space: normal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;parent&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;son&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>效果图：<br><img src="/2019/08/23/css实现居中的常用方法/vertical-align.jpg" alt=""></p>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>css选择器中:first-child与:first-of-type的区别</title>
      <link href="/2019/08/08/css%E9%80%89%E6%8B%A9%E5%99%A8%E4%B8%AD-first-child%E4%B8%8E-first-of-type%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
      <url>/2019/08/08/css%E9%80%89%E6%8B%A9%E5%99%A8%E4%B8%AD-first-child%E4%B8%8E-first-of-type%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
      <content type="html"><![CDATA[<p>什么东西都是看完就忘记了，好记性不如烂笔头。这次自己亲身敲一遍，希望自己记住~</p><p><img src="/2019/08/08/css选择器中-first-child与-first-of-type的区别/pen.png" alt=""><br><a id="more"></a></p><p>:first-child选择器是css2中定义的选择器，从字面意思上来看也很好理解，就是第一个子元素。代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">        p:first-child&#123;</span><br><span class="line">            color: red;</span><br><span class="line">        &#125;</span><br><span class="line">        h1:first-child&#123;</span><br><span class="line">            color: red;</span><br><span class="line">        &#125;</span><br><span class="line">        span:first-child&#123;</span><br><span class="line">            color: red;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;p&gt;第一个子元素&lt;/p&gt;</span><br><span class="line">    &lt;h1&gt;第二个子元素&lt;/h1&gt;</span><br><span class="line">    &lt;span&gt;第三个子元素&lt;/span&gt;</span><br><span class="line">    &lt;span&gt;第四个子元素&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p>运行效果如下：<br><img src="/2019/08/08/css选择器中-first-child与-first-of-type的区别/01.jpg" alt=""></p><p>p:first-child  匹配到的是p元素,因为p元素是div的第一个子元素；</p><p>h1:first-child  匹配不到任何元素，因为在这里h1是div的第二个子元素，而不是第一个；</p><p>span:first-child  匹配不到任何元素，因为在这里两个span元素都不是div的第一个子元素；</p><p>然后，在css3中又定义了:first-of-type这个选择器，这个跟:first-child有什么区别呢？代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">    &lt;style&gt;</span><br><span class="line">        p:first-of-type&#123;</span><br><span class="line">            color: blue;</span><br><span class="line">        &#125;</span><br><span class="line">        h1:first-of-type&#123;</span><br><span class="line">            color: blue;</span><br><span class="line">        &#125;</span><br><span class="line">        span:first-of-type&#123;</span><br><span class="line">            color: blue;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;p&gt;第一个子元素&lt;/p&gt;</span><br><span class="line">    &lt;h1&gt;第二个子元素&lt;/h1&gt;</span><br><span class="line">    &lt;span&gt;第三个子元素&lt;/span&gt;</span><br><span class="line">    &lt;span&gt;第四个子元素&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p>运行效果如下：<br><img src="/2019/08/08/css选择器中-first-child与-first-of-type的区别/02.jpg" alt=""></p><p>p:first-of-type  匹配到的是p元素,因为p是div的所有类型为p的子元素中的第一个；</p><p>h1:first-of-type  匹配到的是h1元素，因为h1是div的所有类型为h1的子元素中的第一个；</p><p>span:first-of-type  匹配到的是第三个子元素span。这里div有两个为span的子元素，匹配到的是它们中的第一个。</p><p>所以，通过以上两个例子可以得出结论：</p><p><strong>:first-child</strong> 匹配的是某父元素的第一个子元素，可以说是结构上的第一个子元素。</p><p><strong>:first-of-type</strong> 匹配的是某父元素下相同类型子元素中的第一个，比如 p:first-of-type，就是指所有类型为p的子元素中的第一个。这里不再限制是第一个子元素了，只要是该类型元素的第一个就行了。</p><p>同样类型的选择器 :last-child  和 :last-of-type、:nth-child(n)  和  :nth-of-type(n) 也可以这样去理解。</p>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>2019月度总结 七月</title>
      <link href="/2019/08/06/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E4%B8%83%E6%9C%88/"/>
      <url>/2019/08/06/2019%E6%9C%88%E5%BA%A6%E6%80%BB%E7%BB%93-%E4%B8%83%E6%9C%88/</url>
      <content type="html"><![CDATA[<p>2019年已经过去一半了，我才开始写月度总结。</p><p>有句话说“种一棵树最好的时间是十年前，其次是现在”，我们也可以改成“改变自己最好的时间是十年前，其次是现在”。那就从现在开始吧！</p><p><img src="/2019/08/06/2019月度总结-七月/mood.jpg" alt="mood"></p><a id="more"></a><p>本以为我第一次的月度总结会准时一点，在八月一号就应该完成的，没想到还是拖了几天。</p><h1 id="读书"><a href="#读书" class="headerlink" title="读书"></a>读书</h1><p>七月买了好几本书，没有任何技术书籍，我觉得我之前买的技术书挺多的了，都没怎么看呢，等我看完那些在入手吧。买了一些整理情绪的一些书，因为我总觉得我的情绪控制的不好，总是动不动的就心情不好，一个人生闷气，别人还不知道为什么（感觉像是有点小孩子脾气）。所以就多入手了一些整理情绪的书。<br>《JavaScript DOM 编程艺术》这本书是我很早以前买的，但是一直没有看，所以从七月开始给自己定计划看书。七月中上旬看完了这本书，主要介绍了JavaScript和DOM的一些基础知识和使用方法。现在回过头去看才发现这本书很简单，入门级的。<br>《学会提问》就是我七月下旬刚刚入手的书，七月都过完了，这本书我才看了一半，还没有看完。这是一本批判性思维书籍，豆瓣评分8.3。这本书很薄，但是阅读起来很费劲┭┮﹏┭┮</p><blockquote><ul><li>批判性思维系统：找出论题、结论——找出理由——弄清楚词义——找出假设——判断理由是否真实——判断理由是否支持结论——判断论据（包括假设）效力——得出合理结论（以解决问题为导向，找出多种解决办法）。 </li><li>批判性思维的目的是：判别结论的可接受程度及价值大小（相当于数学中的期望=正确概率*价值）。 首先，要找出结论和理由。结论一般在文章标题、开头或结尾，前面一般有指示词，如“因此”、“证明了”、“告诉我们”…</li></ul></blockquote><h1 id="美食"><a href="#美食" class="headerlink" title="美食"></a>美食</h1><p>爱吃也爱尝试，从六月份开始，我每周的周末在公众号更新一篇我做的美食（其实就是家常菜）。分享做法步骤等。<br>《鱼香肉丝》、《葱油拌面》、《猪肉炖粉条》、《菜饭~没有骨头汤》。想要知道具体详细内容的可以关注我的公众号。</p><h1 id="生日"><a href="#生日" class="headerlink" title="生日"></a>生日</h1><p>7月13号也就是农历六月十一是我的生日，那天买了好多好吃的，我、男朋友、颖、飘我们一起吃了顿饭，看着他们三个在厨房忙活，我坐享其成啊~罪过</p><p><img src="/2019/08/06/2019月度总结-七月/food.jpg" alt=""></p><p>好喜欢烤鸭的皮啊~超级好吃<br>后来还给我单独买了一个蛋糕，因为没有提前预定，所以跑了几家店都没有蛋糕了。</p><p>八月继续努力加油吧💪</p>]]></content>
      
      <categories>
          
          <category> 2019月度总结 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 2019月度总结 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Git常用命令速查表</title>
      <link href="/2019/07/22/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5%E8%A1%A8/"/>
      <url>/2019/07/22/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5%E8%A1%A8/</url>
      <content type="html"><![CDATA[<p>Git常用命令速查表</p><a id="more"></a><h5 id="创建版本库"><a href="#创建版本库" class="headerlink" title="创建版本库"></a>创建版本库</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git clone &lt;url&gt;                  #克隆远程版本库</span><br><span class="line">$ git init                         #初始化本地版本库</span><br></pre></td></tr></table></figure><h5 id="修改和提交"><a href="#修改和提交" class="headerlink" title="修改和提交"></a>修改和提交</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git status                       #查看状态</span><br><span class="line">$ git diff                         #查看变更内容</span><br><span class="line">$ git add .                        #跟踪所有改动过的文件</span><br><span class="line">$ git add &lt;file&gt;                   #跟踪指定的文件</span><br><span class="line">$ git mv &lt;old&gt;&lt;new&gt;                #文件改名</span><br><span class="line">$ git rm&lt;file&gt;                     #删除文件</span><br><span class="line">$ git rm --cached&lt;file&gt;            #停止跟踪文件但不删除</span><br><span class="line">$ git commit -m &quot;commit messages&quot;  #提交所有更新过的文件</span><br><span class="line">$ git commit --amend               #修改最后一次改动</span><br></pre></td></tr></table></figure><h5 id="查看提交历史"><a href="#查看提交历史" class="headerlink" title="查看提交历史"></a>查看提交历史</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git log                    #查看提交历史</span><br><span class="line">$ git log -p &lt;file&gt;          #查看指定文件的提交历史</span><br><span class="line">$ git blame &lt;file&gt;           #以列表方式查看指定文件的提交历史</span><br></pre></td></tr></table></figure><h5 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard HEAD      #撤销工作目录中所有未提交文件的修改内容</span><br><span class="line">$ git checkout HEAD &lt;file&gt;   #撤销指定的未提交文件的修改内容</span><br><span class="line">$ git revert &lt;commit&gt;        #撤销指定的提交</span><br><span class="line">$ git log --before=&quot;1 days&quot;  #退回到之前1天的版本</span><br></pre></td></tr></table></figure><h5 id="分支与标签"><a href="#分支与标签" class="headerlink" title="分支与标签"></a>分支与标签</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git branch                   #显示所有本地分支</span><br><span class="line">$ git checkout &lt;branch/tag&gt;    #切换到指定分支和标签</span><br><span class="line">$ git branch &lt;new-branch&gt;      #创建新分支</span><br><span class="line">$ git branch -d &lt;branch&gt;       #删除本地分支</span><br><span class="line">$ git tag                      #列出所有本地标签</span><br><span class="line">$ git tag &lt;tagname&gt;            #基于最新提交创建标签</span><br><span class="line">$ git tag -d &lt;tagname&gt;         #删除标签</span><br></pre></td></tr></table></figure><h5 id="合并与衍合"><a href="#合并与衍合" class="headerlink" title="合并与衍合"></a>合并与衍合</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git merge &lt;branch&gt;        #合并指定分支到当前分支</span><br><span class="line">$ git rebase &lt;branch&gt;       #衍合指定分支到当前分支</span><br></pre></td></tr></table></figure><h5 id="远程操作"><a href="#远程操作" class="headerlink" title="远程操作"></a>远程操作</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git remote -v                   #查看远程版本库信息</span><br><span class="line">$ git remote show &lt;remote&gt;        #查看指定远程版本库信息</span><br><span class="line">$ git remote add &lt;remote&gt; &lt;url&gt;   #添加远程版本库</span><br><span class="line">$ git fetch &lt;remote&gt;              #从远程库获取代码</span><br><span class="line">$ git pull &lt;remote&gt; &lt;branch&gt;      #下载代码及快速合并</span><br><span class="line">$ git push &lt;remote&gt; &lt;branch&gt;      #上传代码及快速合并</span><br><span class="line">$ git push &lt;remote&gt; :&lt;branch/tag-name&gt;  #删除远程分支或标签</span><br><span class="line">$ git push --tags                       #上传所有标签</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>create-react-app创建项目并用git上传至GitHub及展示预览效果</title>
      <link href="/2019/07/16/create-react-app%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E5%B9%B6%E7%94%A8git%E4%B8%8A%E4%BC%A0%E8%87%B3GitHub%E5%8F%8A%E5%B1%95%E7%A4%BA%E9%A2%84%E8%A7%88%E6%95%88%E6%9E%9C/"/>
      <url>/2019/07/16/create-react-app%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%E5%B9%B6%E7%94%A8git%E4%B8%8A%E4%BC%A0%E8%87%B3GitHub%E5%8F%8A%E5%B1%95%E7%A4%BA%E9%A2%84%E8%A7%88%E6%95%88%E6%9E%9C/</url>
      <content type="html"><![CDATA[<p>create-react-app创建项目并用git上传至GitHub及展示预览效果<br><img src="/2019/07/16/create-react-app创建项目并用git上传至GitHub及展示预览效果/balloon.jpg" alt="balloon"><br><a id="more"></a></p><p>1、在本地中创建一个项目所在的文件夹</p><p>2、npm -g create-react-app</p><p>3、在此文件夹下 create-react-app react-demo (项目名)</p><p>4、cd react-demo</p><p>5、npm start（等待一会浏览器自动开启）</p><p>6、开始噼里啪啦写你需要的代码</p><p>7、（重点）在package.json配置文件中加一句：　“homepage”: “./” （为下面打包做准备，如果不加这句话，那么在预览时开启的页面空白，原因路径不对）</p><p>8、npm run build（打包）</p><p>9、在你的GitHub上新建个仓库，把地址复制下来备用</p><p>10、项目所在文件夹下git init</p><p>11、git add . （点的意思是所有文件，把所有文件添加上去）</p><p>12、git commit -m “xxxxxxxxxx”（提交信息）</p><p>13、git remote add origin <a href="https://github.com/xxx/xxx（刚才你在GitHub上保存的地址）" target="_blank" rel="noopener">https://github.com/xxx/xxx（刚才你在GitHub上保存的地址）</a></p><p>14、git pull origin master（上传之前先拉一下，第一次不拉也行，但是之后提交最好想成这个习惯）</p><p>15、git push -u origin master（把你的代码提到GitHub上）</p><p>16、此时，在GitHub对应的仓库上，就可以看到刚才提交的代码了。</p><p>17、点击“setting”；找到GitHub Pages，source中点击下面按钮切换到master branch，点击save；就可以看到一个链接了，点击链接，发现出现的是你项目中的README.md；</p><p>18、在链接后面加上   /build/#    回车后，即可看到预览效果。 </p><p>19、之后的修改代码后，重新npm run build ，重复11~15步骤即可。</p><p>tips： 如果发现build文件夹没有上传至github上，在.gitignore文件中把忽略build的代码删除掉就可以了。</p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>react实现抽奖大转盘</title>
      <link href="/2019/06/22/react%E5%AE%9E%E7%8E%B0%E6%8A%BD%E5%A5%96%E5%A4%A7%E8%BD%AC%E7%9B%98/"/>
      <url>/2019/06/22/react%E5%AE%9E%E7%8E%B0%E6%8A%BD%E5%A5%96%E5%A4%A7%E8%BD%AC%E7%9B%98/</url>
      <content type="html"><![CDATA[<p>先看一下实现的效果（这样才有动力）<br><img src="/2019/06/22/react实现抽奖大转盘/01.gif" alt="最后实现效果图"></p><a id="more"></a><p>1、html代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas className=&quot;item&quot; id=&quot;wheelcanvas&quot; height=&#123;422&#125; width=&#123;422&#125;/&gt;</span><br></pre></td></tr></table></figure></p><p>2、绘制圆盘<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">let canvas = document.getElementById(&quot;wheelcanvas&quot;);</span><br><span class="line">// 获取canvas的上下文,context含有各种api用来操作canvas</span><br><span class="line">let context = canvas.getContext(&apos;2d&apos;);</span><br><span class="line">this.setState(&#123;canvas: canvas, context: context&#125;);</span><br><span class="line">context.save();</span><br><span class="line">// 新建一个路径,画笔的位置回到默认的坐标(0,0)的位置</span><br><span class="line">// 保证了当前的绘制不会影响到之前的绘制</span><br><span class="line">context.beginPath();</span><br><span class="line">// 设置填充转盘用的颜色,fill是填充而不是绘制</span><br><span class="line">context.fillStyle = &apos;#fff&apos;;</span><br><span class="line">// 绘制一个圆,有六个参数,分别表示:圆心的x坐标,圆心的y坐标,圆的半径,开始绘制的角度,结束的角度,绘制方向(false表示顺时针)</span><br><span class="line">context.arc(211, 211, 211, startRadian, Math.PI * 2 + startRadian, false);</span><br><span class="line">// 将设置的颜色填充到圆中,这里不用closePath是因为closePath对fill无效.</span><br><span class="line">context.fill();</span><br><span class="line">// 将画布的状态恢复到上一次save()时的状态</span><br><span class="line">context.restore();</span><br></pre></td></tr></table></figure></p><p><img src="/2019/06/22/react实现抽奖大转盘/02.jpg" alt=""><br>2、绘制奖品<br>canvas绘制都是从水平出开始绘制，所以这里我调整了初始弧度<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">let awards = [</span><br><span class="line">&#123;id: 1, name: &apos;一等奖&apos;, level: &apos;1&apos;, color:&quot;#FFC200&quot;&#125;,</span><br><span class="line">   &#123;id: 2, name: &apos;二等奖&apos;, level: &apos;2&apos;, color:&quot;#FFE122&quot;&#125;,</span><br><span class="line">   &#123;id: 3, name: &apos;三等奖&apos;, level: &apos;3&apos;, color:&quot;#FFC200&quot;&#125;,</span><br><span class="line">    &#123;id: 4, name: &apos;四等奖&apos;, level: &apos;4&apos;, color:&quot;#FFE122&quot;&#125;,</span><br><span class="line">    &#123;id: 5, name: &apos;五等奖&apos;, level: &apos;5&apos;, color:&quot;#FFC200&quot;&#125;,</span><br><span class="line">    &#123;id: 6, name: &apos;六等奖&apos;, level: &apos;6&apos;, color:&quot;#FFE122&quot;&#125;,</span><br><span class="line">],//大转盘要绘制的奖品</span><br><span class="line">let startRadian = -90 * Math.PI / 180,//大转盘的开始弧度(canvas绘制圆从水平方向开始，所以这里调整为垂直方向) 弧度计算公式：角度*Math.PI/180</span><br><span class="line">// 第一个奖品色块开始绘制时开始的弧度及结束的弧度</span><br><span class="line">   let RadianGap = Math.PI * 2 / awards.length, endRadian = startRadian + RadianGap;</span><br><span class="line">   for (let i = 0; i &lt; awards.length; i++) &#123;</span><br><span class="line">     context.save();</span><br><span class="line">     context.beginPath();</span><br><span class="line">     // 为了区分不同的色块,使用随机生成的颜色作为色块的填充色</span><br><span class="line">     context.fillStyle = awards[i].color;</span><br><span class="line">     // 这里需要使用moveTo方法将初始位置定位在圆点处,这样绘制的圆弧都会以圆点作为闭合点</span><br><span class="line">     context.moveTo(211, 211);</span><br><span class="line">     // 画圆弧时,每次都会自动调用moveTo,将画笔移动到圆弧的起点,半径设置的比转盘稍小一点</span><br><span class="line">     context.arc(211, 211, 201, startRadian, endRadian, false);</span><br><span class="line">     context.fill();</span><br><span class="line">     context.restore();</span><br><span class="line">     // 开始绘制文字</span><br><span class="line">     context.save();</span><br><span class="line">     //设置文字颜色</span><br><span class="line">     context.fillStyle = &apos;#f00&apos;;</span><br><span class="line">     //设置文字样式</span><br><span class="line">     context.font = &quot;18px Arial&quot;;</span><br><span class="line">     // 改变canvas原点的位置,简单来说,translate到哪个坐标点,那么那个坐标点就将变为坐标(0, 0)</span><br><span class="line">     context.translate(</span><br><span class="line">       211 + Math.cos(startRadian + RadianGap / 2) * 201,</span><br><span class="line">       211 + Math.sin(startRadian + RadianGap / 2) * 201</span><br><span class="line">     );</span><br><span class="line">     // 旋转角度,这个旋转是相对于原点进行旋转的.</span><br><span class="line">     context.rotate(startRadian + RadianGap / 2 + Math.PI / 2);</span><br><span class="line">     // 这里就是根据获取的各行的文字进行绘制,maxLineWidth取70,相当与一行最多展示5个文字</span><br><span class="line">     this.getLineTextList(context, awards[i].name, 70).forEach((line, index) =&gt; &#123;</span><br><span class="line">       // 绘制文字的方法,三个参数分别带:要绘制的文字,开始绘制的x坐标,开始绘制的y坐标</span><br><span class="line">       context.fillText(line, -context.measureText(line).width / 2, ++index * 25)</span><br><span class="line">     &#125;);</span><br><span class="line">     context.restore();</span><br><span class="line">     // 每个奖品色块绘制完后,下个奖品的弧度会递增</span><br><span class="line">     startRadian += RadianGap;</span><br><span class="line">     endRadian += RadianGap;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//绘制文字，文字过长进行换行，防止文字溢出</span><br><span class="line">  getLineTextList(context, text, maxLineWidth) &#123;</span><br><span class="line">    let wordList = text.split(&apos;&apos;), tempLine = &apos;&apos;, lineList = [];</span><br><span class="line">    for (let i = 0; i &lt; wordList.length; i++) &#123;</span><br><span class="line">      if (context.measureText(tempLine).width &gt;= maxLineWidth) &#123;</span><br><span class="line">        lineList.push(tempLine);</span><br><span class="line">        maxLineWidth -= context.measureText(text[0]).width;</span><br><span class="line">        tempLine = &apos;&apos;</span><br><span class="line">      &#125;</span><br><span class="line">      tempLine += wordList[i]</span><br><span class="line">    &#125;</span><br><span class="line">    lineList.push(tempLine);</span><br><span class="line">    return lineList</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p><img src="/2019/06/22/react实现抽奖大转盘/03.jpg" alt=""><br>3、绘制中间的小圆<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//下面是画中间的小圆</span><br><span class="line">   context.save();</span><br><span class="line">   // 新建一个路径,画笔的位置回到默认的坐标(0,0)的位置</span><br><span class="line">   // 保证了当前的绘制不会影响到之前的绘制</span><br><span class="line">   context.beginPath();</span><br><span class="line">   // 设置填充转盘用的颜色,fill是填充而不是绘制</span><br><span class="line">   context.fillStyle = &apos;#fff&apos;;</span><br><span class="line">   // 绘制一个圆,有六个参数,分别表示:圆心的x坐标,圆心的y坐标,圆的半径,开始绘制的角度,结束的角度,绘制方向(false表示顺时针)</span><br><span class="line">   context.arc(211, 211, 70, startRadian, Math.PI * 2 + startRadian, false);</span><br><span class="line">   // 将设置的颜色填充到圆中,这里不用closePath是因为closePath对fill无效.</span><br><span class="line">   context.fill();</span><br><span class="line">   // 将画布的状态恢复到上一次save()时的状态</span><br><span class="line">   context.restore();</span><br></pre></td></tr></table></figure></p><p><img src="/2019/06/22/react实现抽奖大转盘/04.jpg" alt=""><br>4、添加中间的按钮和转盘边框<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//html</span><br><span class="line">&lt;img className=&quot;wheel-circle&quot; src=&quot;https://wp.touty.io/api/file/5d0c51ff2ab79c000897ecac.image&quot;/&gt;</span><br><span class="line">          &lt;canvas className=&quot;item&quot; id=&quot;wheelcanvas&quot; height=&#123;422&#125; width=&#123;422&#125;/&gt;</span><br><span class="line">          &lt;img onClick=&#123;this.draw.bind(this)&#125; className=&quot;pointer&quot; src=&quot;https://wp.touty.io/api/file/5d0c51c02ab79c000897ecaa.image&quot;/&gt;</span><br></pre></td></tr></table></figure></p><p>这样一个静态的大转盘就完成了，下面是让转盘转动起来<br><img src="/2019/06/22/react实现抽奖大转盘/05.jpg" alt=""><br>5、点击抽奖让转盘转起来<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//点击抽奖让转盘转起来</span><br><span class="line">draw(e) &#123;</span><br><span class="line">  const &#123;canvas, context&#125; = this.state;</span><br><span class="line">  // 只要抽奖没有结束，就不让再次抽奖</span><br><span class="line">  if (!this.state.canBeClick) return;</span><br><span class="line">  this.state.canBeClick = false;</span><br><span class="line">  // 每次点击抽奖，都将初始化角度重置</span><br><span class="line">  this.state.startRadian = 0;</span><br><span class="line">  const distance = this.distanceToStop();</span><br><span class="line">  this.rotatePanel(distance);//调用处理旋转的方法</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>得出最后停留的地方<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">distanceToStop() &#123;</span><br><span class="line">    // middleDegrees为奖品块的中间角度（最终停留都是以中间角度进行计算的）距离初始的startRadian的距离，distance就是当前奖品跑到指针位置要转动的距离。</span><br><span class="line">    let middleDegrees = 0, distance = 0;</span><br><span class="line">    // 映射出每个奖品的middleDegrees</span><br><span class="line">    let awardsToDegreesList = this.state.awards.map((data, index) =&gt; &#123;</span><br><span class="line">      let awardRadian = (Math.PI * 2) / this.state.awards.length;</span><br><span class="line">      return awardRadian * index + (awardRadian * (index + 1) - awardRadian * index) / 2</span><br><span class="line">    &#125;);</span><br><span class="line">    // 随机生成一个索引值，来表示此次抽奖应该中的奖品</span><br><span class="line">    const currentPrizeIndex = Math.floor(Math.random() * this.state.awards.length);</span><br><span class="line">    console.log(&apos;当前奖品应该中的奖品是：&apos; + this.state.awards[currentPrizeIndex].name);</span><br><span class="line">    middleDegrees = awardsToDegreesList[currentPrizeIndex];</span><br><span class="line">    // 因为指针是垂直向上的，相当坐标系的Math.PI/2,所以这里要进行判断来移动角度</span><br><span class="line">    distance = Math.PI * 3 / 2 - middleDegrees;</span><br><span class="line">    distance = distance &gt; 0 ? distance : Math.PI * 2 + distance;</span><br><span class="line">    // 这里额外加上后面的值，是为了让转盘多转动几圈，看上去更像是在抽奖</span><br><span class="line">    return distance + Math.PI * 10;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p><p>让转盘转动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// 处理旋转的关键方法</span><br><span class="line">  rotatePanel(distance) &#123;</span><br><span class="line">    // 这里用一个很简单的缓动函数来计算每次绘制需要改变的角度，这样可以达到一个转盘从块到慢的渐变的过程</span><br><span class="line">    let changeRadian = (distance - this.state.startRadian) / 20;</span><br><span class="line">    this.state.startRadian += changeRadian;</span><br><span class="line">    // 当最后的目标距离与startRadian之间的差距低于0.0001时，就默认奖品抽完了，可以继续抽下一个了。</span><br><span class="line">    if (distance - this.state.startRadian &lt;= 0.001) &#123;</span><br><span class="line">      this.state.canBeClick = true;</span><br><span class="line">      return</span><br><span class="line">    &#125; ;</span><br><span class="line">    // 初始角度改变后，需要重新绘制</span><br><span class="line">    this.onLoadPage(this.state.awards);</span><br><span class="line">    // 循环调用rotatePanel函数，使得转盘的绘制连续，造成旋转的视觉效果</span><br><span class="line">    window.requestAnimationFrame(this.rotatePanel.bind(this, distance));</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p><p>这样我们就得到了最终的效果图<br><img src="/2019/06/22/react实现抽奖大转盘/01.gif" alt=""><br>完整代码查看：<a href="https://codepen.io/fuzhen/project/editor/XEyRdE" target="_blank" rel="noopener">codePen</a></p>]]></content>
      
      <categories>
          
          <category> react </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>中国窗棂与css(Chinese Window Lattice And CSS)</title>
      <link href="/2019/06/19/%E4%B8%AD%E5%9B%BD%E7%AA%97%E6%A3%82%E4%B8%8Ecss-Chinese-Window-Lattice-And-CSS/"/>
      <url>/2019/06/19/%E4%B8%AD%E5%9B%BD%E7%AA%97%E6%A3%82%E4%B8%8Ecss-Chinese-Window-Lattice-And-CSS/</url>
      <content type="html"><![CDATA[<p>本文出处<a href="https://yuanchuan.dev/2019/05/15/window-lattice-and-css.html" target="_blank" rel="noopener">(Chinese Window Lattice And CSS)</a></p><blockquote><p>谁向云端着此亭，檐前树木映窗棂。<br>– 释绍嵩《陪赵知府登桃岭山亭》</p></blockquote><p><img src="/2019/06/19/中国窗棂与css-Chinese-Window-Lattice-And-CSS/01.png" alt="01"></p><a id="more"></a><p>中国传统窗格具有对称美，还有一个非常美丽的正式名称——窗棂<br>作为一个css爱好者，我一直想用css绘制出它们。但这从来都不容易。我想使用SVG可能简单易懂知道我学习了如何使用 -webkit-box-reflect 属性。</p><h1 id="属性-The-property"><a href="#属性-The-property" class="headerlink" title="属性(The property)"></a>属性(The property)</h1><p>不幸的是，-webkit-box-reflect 是非标准的。标准的方式是使用element()函数，该函数已经在firefox中实现。<br>老实说-webkit-box-reflect属性在我看来是非常简洁的，应为它有很好的命名和它不依赖于额外的id像element()。我不知道为什么css工作组不接受它。<br>这是一篇关于css中反射的详细文章，以及Ana Tudor从2016年开始的几个演示。</p><h1 id="趋势-Directions"><a href="#趋势-Directions" class="headerlink" title="趋势(Directions)"></a>趋势(Directions)</h1><p>这个-webkit-box-reflect属性提供四个反射方向：上、下、左和右。如何使用它:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.bos&#123;</span><br><span class="line">    -webkit-box-reflect:above|below|left|right;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>也许因为从一开始它这是一个实验性的属性，所以还没有办法同时给一个元素增加多个反射。</p><p><img src="/2019/06/19/中国窗棂与css-Chinese-Window-Lattice-And-CSS/02.png" alt=""></p><p>我认为不同成俗的多次反射比只有4次反射的反射要酷的多！</p><p>它令人兴奋<br>让我们开始使用一个单一的div元素和它在右边的反射。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;△&lt;/div&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    div&#123;</span><br><span class="line">        -webkit-box-reflect:right;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p><p><img src="/2019/06/19/中国窗棂与css-Chinese-Window-Lattice-And-CSS/03.png" alt=""></p><h1 id="如何增加其他的反射？-How-to-add-another-reflection"><a href="#如何增加其他的反射？-How-to-add-another-reflection" class="headerlink" title="如何增加其他的反射？(How to add another reflection?)"></a>如何增加其他的反射？(How to add another reflection?)</h1><p>不久前，ChrisCoyier在本文中介绍了一个技巧，通过应用放置阴影于父节点，将阴影添加到剪裁元素中。<br>我们可以通过添加父节点并对其设置反射来做类似的事情。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;parent&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;box&quot;&gt;△&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .box &#123;</span><br><span class="line">    -webkit-box-reflect: right;</span><br><span class="line">  &#125;</span><br><span class="line">  .parent &#123;</span><br><span class="line">    -webkit-box-reflect: below;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p><p><img src="/2019/06/19/中国窗棂与css-Chinese-Window-Lattice-And-CSS/04.png" alt=""></p><p>它像一张展开的纸，首先分成两半从左到右，然后从上到下。但是，顺序并不重要。<br>尽管没有得到我们想要的精确的结果，找到一种添加多种反射的方式也令我们兴奋。</p><h1 id="继续深入-Going-deep"><a href="#继续深入-Going-deep" class="headerlink" title="继续深入(Going deep)"></a>继续深入(Going deep)</h1><p>这个总数程指数形式增长，这取决于嵌套div的深度。<br>因此像上面有2个嵌套的div，它们将得到2^2=4个元素（包括所有的反射）。有7个它们将是2^7=128个元素。</p><p><img src="/2019/06/19/中国窗棂与css-Chinese-Window-Lattice-And-CSS/05.png" alt=""></p><h1 id="起源-Seed"><a href="#起源-Seed" class="headerlink" title="起源(Seed)"></a>起源(Seed)</h1><p>最深处的div作为起源。因为由反射组成的整个图形将随它而改变。<br>举个例子，旋转-45度：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;div class=&quot;seed&quot;&gt;△&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  /* ... */</span><br><span class="line">  .seed &#123;</span><br><span class="line">    /* ... */</span><br><span class="line">    transform: rotate(-45deg);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p><p><img src="/2019/06/19/中国窗棂与css-Chinese-Window-Lattice-And-CSS/06.png" alt=""></p><p>或结合一个其他属性及旧方法。这似乎也是另外一种构建Unicode模式不同的方法。</p><p><img src="/2019/06/19/中国窗棂与css-Chinese-Window-Lattice-And-CSS/07.png" alt=""></p><p><img src="/2019/06/19/中国窗棂与css-Chinese-Window-Lattice-And-CSS/08.png" alt=""></p><h1 id="中国窗棂-Chinese-Window-Lattice"><a href="#中国窗棂-Chinese-Window-Lattice" class="headerlink" title="中国窗棂(Chinese Window Lattice)"></a>中国窗棂(Chinese Window Lattice)</h1><p>因此，使用-weblit-box-reflect属性和上述描述的技术，我们可以使用很少的代码在css中画出这些对称的窗棂。<br>我想以本文的开始图片为例，让我们看看如何一步一步的画出它们。</p><h2 id="1、元素的起源-The-seed-element"><a href="#1、元素的起源-The-seed-element" class="headerlink" title="1、元素的起源(The seed element)"></a>1、元素的起源(The seed element)</h2><p>首先，找出最小的元素不能进行分割，这里我们从左上角的部分作为起点。</p><p><img src="/2019/06/19/中国窗棂与css-Chinese-Window-Lattice-And-CSS/09.png" alt=""></p><p>然后用 background linear-gradient 绘制这些线。为简单起见，使用空选择器作为种子元素。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  div:empty &#123;</span><br><span class="line">    width: 72px; height: 72px;</span><br><span class="line">    --g: linear-gradient(#000, #000);</span><br><span class="line">    --gs: linear-gradient(-45deg,</span><br><span class="line">      transparent calc(50% - 1px), #000 calc(50% - 1px),</span><br><span class="line">      #000 calc(50% + 1px), transparent calc(50% + 1px)</span><br><span class="line">    );</span><br><span class="line">    background:</span><br><span class="line">      var(--g) 0 0 / 100% 2px,       var(--g) 100% 0 / 2px 48px,</span><br><span class="line">      var(--g) 100% 48px / 24px 2px, var(--g) 48px 100% / 2px 24px,</span><br><span class="line">      var(--g) 0 100% / 48px 2px,    var(--g) 0 0 / 2px 100%,</span><br><span class="line">      var(--g) 0 46px / 24px 2px,    var(--g) 24px 100% / 2px 26px,</span><br><span class="line">      var(--g) 100% 24px / 26px 2px, var(--g) 46px 0 / 2px 24px,</span><br><span class="line">      var(--gs) 50% 50% / 24px 24px, var(--gs) 0 0 / 40px 40px;</span><br><span class="line">    background-repeat: no-repeat;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p><h2 id="2-添加反射-Add-reflection"><a href="#2-添加反射-Add-reflection" class="headerlink" title="2. 添加反射(Add reflection)"></a>2. 添加反射(Add reflection)</h2><p>反射从种子元素本身开始。我们选择“右边”作为初始方向，并使用自定义属性使其更直观。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;--reflect: right -3px&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">  div &#123;</span><br><span class="line">     width: 72px;  height: 72px;</span><br><span class="line">    -webkit-box-reflect: var(--reflect);</span><br><span class="line">  &#125;</span><br><span class="line">  div:empty &#123;</span><br><span class="line">    /* ... */</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p><p><img src="/2019/06/19/中国窗棂与css-Chinese-Window-Lattice-And-CSS/10.png" alt=""></p><h2 id="3-继续展开-Continue-unfolding"><a href="#3-继续展开-Continue-unfolding" class="headerlink" title="3. 继续展开(Continue unfolding)"></a>3. 继续展开(Continue unfolding)</h2><p>所以我们要添加父节点来进行更多的反射。如果你把它看成是展开一张纸，那就真的有助于理解。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;--reflect: below -2px&quot;&gt;</span><br><span class="line">  &lt;div style=&quot;--reflect: right -3px&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p><img src="/2019/06/19/中国窗棂与css-Chinese-Window-Lattice-And-CSS/11.png" alt=""></p><h1 id="再加一个-Add-another-one"><a href="#再加一个-Add-another-one" class="headerlink" title="再加一个(Add another one.)"></a>再加一个(Add another one.)</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;--reflect: below calc(200% - 6px)&quot;&gt;</span><br><span class="line">  &lt;div style=&quot;--reflect: below -2px&quot;&gt;</span><br><span class="line">    &lt;div style=&quot;--reflect: right -3px&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p><img src="/2019/06/19/中国窗棂与css-Chinese-Window-Lattice-And-CSS/12.png" alt=""></p><p>重复这个过程直到我们得到想要的结果。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;--reflect: right calc(600% - 14px)&quot;&gt;</span><br><span class="line">  &lt;div style=&quot;--reflect: right calc(200% - 6px)&quot;&gt;</span><br><span class="line">    &lt;div style=&quot;--reflect: below calc(400% - 10px)&quot;&gt;</span><br><span class="line">      &lt;div style=&quot;--reflect: below calc(200% - 6px)&quot;&gt;</span><br><span class="line">        &lt;div style=&quot;--reflect: below -2px&quot;&gt;</span><br><span class="line">          &lt;div style=&quot;--reflect: right -2px&quot;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p><img src="/2019/06/19/中国窗棂与css-Chinese-Window-Lattice-And-CSS/13.png" alt=""></p><p>That’s it.<br>您可以在<a href="https://codepen.io/fuzhen/pen/RzGzEM" target="_blank" rel="noopener">CodePen</a>上看到结果和完整的源代码。但它只在Chrome和Safari中有效。</p><h1 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h1><p>使用-webkit box reflect属性的解决方案在某种程度上很漂亮。我真希望它能被接受为一个标准，甚至能在各个方面做反射。这样就有可能在CSS中做剪纸（中国剪纸艺术）。</p>]]></content>
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>前端面试题深入解析-01</title>
      <link href="/2019/06/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-01/"/>
      <url>/2019/06/04/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98%E6%B7%B1%E5%85%A5%E8%A7%A3%E6%9E%90-01/</url>
      <content type="html"><![CDATA[<blockquote><p>本周面试题一览:</p></blockquote><ul><li>节流(throttle)函数的作用是什么？有哪些应用场景，请实现一个节流函数</li><li>说一说你对JS执行上下文栈和作用域链的理解？</li><li>什么是BFC？BFC的布局规则是什么？如何创建BFC？</li><li>let、const、var 的区别有哪些？</li><li>深拷贝和浅拷贝的区别是什么？如何实现一个深拷贝？</li></ul><a id="more"></a><h1 id="节流-throttle-函数的作用是什么？有哪些应用场景，请实现一个节流函数。"><a href="#节流-throttle-函数的作用是什么？有哪些应用场景，请实现一个节流函数。" class="headerlink" title="节流(throttle)函数的作用是什么？有哪些应用场景，请实现一个节流函数。"></a>节流(throttle)函数的作用是什么？有哪些应用场景，请实现一个节流函数。</h1><h2 id="节流函数的作用"><a href="#节流函数的作用" class="headerlink" title="节流函数的作用"></a>节流函数的作用</h2><p>节流函数的作用是规定一个单位时间，在这个单位时间内最多只能触发一次函数执行，如果这个单位时间内多次触发函数，只有一次生效！</p><p>举例说明：小明的妈妈和小明约定好，如果小明在周考中取得满分，那么当月可以带他去游乐场玩，但是一个月最多只能去一次。</p><p>这其实就是一个节流的例子，在一个月的时间内，这个时间周期内，小明取得多次满分，去游乐场最多只能触发一次。</p><h2 id="节流应用场景"><a href="#节流应用场景" class="headerlink" title="节流应用场景"></a>节流应用场景</h2><p>1、按钮点击事件<br>2、拖拽事件<br>3、onScroll<br>4、计算鼠标移动的距离（mousemove）</p><h2 id="节流函数实现"><a href="#节流函数实现" class="headerlink" title="节流函数实现"></a>节流函数实现</h2><blockquote><p>利用时间戳实现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function throttle(func, delay) &#123;</span><br><span class="line">    var lastTime = 0;</span><br><span class="line">    function throttled() &#123;</span><br><span class="line">        var context = this;</span><br><span class="line">        var args = arguments;</span><br><span class="line">        var nowTime = Date.now();</span><br><span class="line">        if (nowTime &gt; lastTime + delay) &#123;</span><br><span class="line">            func.apply(context, args);</span><br><span class="line">            lastTime = nowTime;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">//防抖函数最终返回的是一个函数</span><br><span class="line">    return throttled;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>利用定时器实现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function throttle(func, delay) &#123;</span><br><span class="line">    var timeout = null;</span><br><span class="line">    function throttled() &#123;</span><br><span class="line">        var context = this;</span><br><span class="line">        var args = arguments;</span><br><span class="line">        if (!timeout) &#123;</span><br><span class="line">            timeout = setTimeout(()=&gt;&#123;</span><br><span class="line">                func.apply(context, args);</span><br><span class="line">                clearTimeout(timeout);</span><br><span class="line">                timeout = null</span><br><span class="line">                &#125;, delay);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return throttled;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></blockquote><p>时间戳和定时器的方式都没有考虑最后一次执行的问题，比如有个按钮点击事件，设置的间隔时间是1S，在第0.5S，1.8S，2.2S点击，那么只有0.5S和1.8S的两次点击能够触发函数执行，而最后一次的2.2S会被忽略。</p><blockquote><p>组合实现，允许设置第一次或者最后一次是否触发函数执行</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">function throttle(func, wait, options) &#123;</span><br><span class="line">    var timeout, context, args, result;</span><br><span class="line">    var previous = 0;</span><br><span class="line">    if (!options) options = &#123;&#125;;</span><br><span class="line">    var later = function () &#123;</span><br><span class="line">        previous = options.leading === false ? 0 : Date.now() || new Date().getTime();</span><br><span class="line">        timeout = null;</span><br><span class="line">        result = func.apply(context, args);</span><br><span class="line">        if (!timeout) context = args = null;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    var throttled = function () &#123;</span><br><span class="line">        var now = Date.now() || new Date().getTime();</span><br><span class="line">        if (!previous &amp;&amp; options.leading === false) previous = now;</span><br><span class="line">        var remaining = wait - (now - previous);</span><br><span class="line">        context = this;</span><br><span class="line">        args = arguments;</span><br><span class="line">        if (remaining &lt;= 0 || remaining &gt; wait) &#123;</span><br><span class="line">            if (timeout) &#123;</span><br><span class="line">                clearTimeout(timeout);</span><br><span class="line">                timeout = null;</span><br><span class="line">            &#125;</span><br><span class="line">            previous = now;</span><br><span class="line">            result = func.apply(context, args);</span><br><span class="line">            if (!timeout) context = args = null;</span><br><span class="line">        &#125; else if (!timeout &amp;&amp; options.trailing !== false) &#123;</span><br><span class="line">// 判断是否设置了定时器和 trailing</span><br><span class="line">            timeout = setTimeout(later, remaining);</span><br><span class="line">        &#125;</span><br><span class="line">        return result;</span><br><span class="line">    &#125;;</span><br><span class="line">    throttled.cancel = function () &#123;</span><br><span class="line">            clearTimeout(timeout);</span><br><span class="line">            previous = 0;</span><br><span class="line">            timeout = context = args = null;</span><br><span class="line">    &#125;;</span><br><span class="line">    return throttled;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>使用简单:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">btn . onclick = throttle(handle ,1000,&#123;leading:true ,trailing:true&#125;);</span><br></pre></td></tr></table></figure></p></blockquote><h1 id="说一说你对JS执行上下文栈和作用域链的理解？"><a href="#说一说你对JS执行上下文栈和作用域链的理解？" class="headerlink" title="说一说你对JS执行上下文栈和作用域链的理解？"></a>说一说你对JS执行上下文栈和作用域链的理解？</h1><p>在开始说明JS上下文栈和作用域之前，我们先说明下JS上下文以及作用域的概念。</p><h2 id="JS执行上下文"><a href="#JS执行上下文" class="headerlink" title="JS执行上下文"></a>JS执行上下文</h2><p>执行上下文就是当前 JavaScript 代码被解析和执行时所在环境的抽象概念， JavaScript 中运行任何的代码都是在执行上下文中运行。</p><blockquote><p>执行上下文类型分为：</p><ul><li>全局执行上下文</li><li>函数执行上下文</li><li>eval函数执行上下文(不被推荐)</li></ul></blockquote><p>执行上下文创建过程中，需要做以下几件事:<br>    1、创建变量对象：首先初始化函数的参数arguments，提升函数声明和变量声明。<br>    2、创建作用域链（Scope Chain）：在执行期上下文的创建阶段，作用域链是在变量对象之后创建的。<br>    3、确定this的值，即 ResolveThisBinding</p><h2 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h2><p>作用域负责收集和维护由所有声明的标识符（变量）组成的一系列查询，并实施一套非常严格的规则，确定当前执行的代码对这些标识符的访问权限。—— 摘录自《你不知道的JavaScript》(上卷)</p><p>作用域有两种工作模型：词法作用域和动态作用域，JS采用的是词法作用域工作模型，词法作用域意味着作用域是由书写代码时变量和函数声明的位置决定的。( with 和 eval 能够修改词法作用域，但是不推荐使用，对此不做特别说明)</p><blockquote><p>作用域分为：</p><ul><li>全局作用域</li><li>函数作用域</li><li>块级作用域</li></ul></blockquote><h2 id="JS执行上下文栈-后面简称执行栈"><a href="#JS执行上下文栈-后面简称执行栈" class="headerlink" title="JS执行上下文栈(后面简称执行栈)"></a>JS执行上下文栈(后面简称执行栈)</h2><p>执行栈，也叫做调用栈，具有 LIFO (后进先出) 结构，用于存储在代码执行期间创建的所有执行上下文。</p><blockquote><p>规则如下：</p><ul><li>首次运行JavaScript代码的时候,会创建一个全局执行的上下文并Push到当前的执行栈中，每当发生函数调用，引擎都会为该函数创建一个新的函数执行上下文并Push当前执行栈的栈顶。</li><li>当栈顶的函数运行完成后，其对应的函数执行上下文将会从执行栈中Pop出，上下文的控制权将移动到当前执行栈的下一个执行上下文。</li></ul></blockquote><p>以一段代码具体说明：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function fun3() &#123;</span><br><span class="line">    console.log(&apos;fun3&apos;)</span><br><span class="line">&#125;</span><br><span class="line">function fun2() &#123;</span><br><span class="line">    fun3();</span><br><span class="line">&#125;</span><br><span class="line">function fun1() &#123;</span><br><span class="line">    fun2();</span><br><span class="line">&#125;</span><br><span class="line">fun1();</span><br></pre></td></tr></table></figure></p><p>GlobalExecutionContext (即全局执行上下文)首先入栈，过程如下：<br><img src="/2019/06/04/前端面试题深入解析-01/01.webp" alt="01"></p><p>伪代码:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//全局执行上下文首先入栈</span><br><span class="line">ECStack.push (     globalContext );</span><br><span class="line">//执行fun1();</span><br><span class="line">ECStack. push (&lt;     fun1 &gt;     functionContext     ); </span><br><span class="line">//fun1中又调用了fun2;</span><br><span class="line">ECStack . push (&lt;fun2&gt;functionContext );</span><br><span class="line">//fun2中又调用了fun3;</span><br><span class="line">ECStack . push (&lt;fun3&gt;functionContext ); </span><br><span class="line">//fun3执行完毕</span><br><span class="line">ECStack . pop ();</span><br><span class="line">//fun2执行完毕</span><br><span class="line">ECStack . pop ();</span><br><span class="line">//fun1执行完毕</span><br><span class="line">ECStack . pop (); </span><br><span class="line">//javascript继续顺序执行下面的代码，但ECStack底部始终有一个 全局上下文（globalContext）;</span><br></pre></td></tr></table></figure></p><h2 id="作用域链"><a href="#作用域链" class="headerlink" title="作用域链"></a>作用域链</h2><p>作用域链就是从当前作用域开始一层一层向上寻找某个变量，直到找到全局作用域还是没找到，就宣布放弃。这种一层一层的关系，就是作用域链。</p><p>如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var a = 10;</span><br><span class="line">function fn1() &#123;</span><br><span class="line">    var b = 20;</span><br><span class="line">    console.log(fn2)</span><br><span class="line">    function fn2() &#123;</span><br><span class="line">        a = 20</span><br><span class="line">    &#125;</span><br><span class="line">    return fn2;</span><br><span class="line">&#125;</span><br><span class="line">fn1()();</span><br></pre></td></tr></table></figure></p><p>fn2作用域链 = [fn2作用域, fn1作用域，全局作用域]<br><img src="/2019/06/04/前端面试题深入解析-01/02.webp" alt="02"></p><h1 id="什么是BFC？BFC的布局规则是什么？如何创建BFC？"><a href="#什么是BFC？BFC的布局规则是什么？如何创建BFC？" class="headerlink" title="什么是BFC？BFC的布局规则是什么？如何创建BFC？"></a>什么是BFC？BFC的布局规则是什么？如何创建BFC？</h1><h2 id="什么是BFC？"><a href="#什么是BFC？" class="headerlink" title="什么是BFC？"></a>什么是BFC？</h2><p>BFC 是 Block Formatting Context 的缩写，即块格式化上下文。我们来看一下CSS2.1规范中对 BFC 的说明。</p><blockquote><p>Floats, absolutely positioned elements, block containers (such as inline-blocks, table-cells, and table-captions) that are not block boxes, and block boxes with ‘overflow’ other than ‘visible’ (except when that value has been propagated to the viewport) establish new block formatting contexts for their contents.<br>  浮动、绝对定位的元素、非块级盒子的块容器（如inline-blocks、table-cells 和 table-captions），以及 overflow的值不为 visible（该值已传播到视区时除外）为其内容建立新的块格式上下文。</p></blockquote><p>因此，如果想要深入的理解BFC，我们需要了解以下两个概念：</p><blockquote><p>1.Box<br>  2.Formatting Context</p></blockquote><h2 id="Box"><a href="#Box" class="headerlink" title="Box"></a>Box</h2><p>Box 是 CSS 布局的对象和基本单位，页面是由若干个Box组成的。</p><p>元素的类型 和 display 属性，决定了这个 Box 的类型。不同类型的 Box 会参与不同的 Formatting Context。</p><h2 id="Formatting-Context"><a href="#Formatting-Context" class="headerlink" title="Formatting Context"></a>Formatting Context</h2><p>Formatting Context 是页面的一块渲染区域，并且有一套渲染规则，决定了其子元素将如何定位，以及和其它元素的关系和相互作用。</p><p>Formatting Context 有 BFC (Block formatting context)，IFC (Inline formatting context)，FFC (Flex formatting context) 和 GFC (Grid formatting context)。FFC 和 GFC 为 CC3 中新增。</p><h2 id="BFC布局规则"><a href="#BFC布局规则" class="headerlink" title="BFC布局规则"></a>BFC布局规则</h2><ul><li>BFC内，盒子依次垂直排列。</li><li>BFC内，两个盒子的垂直距离由 margin 属性决定。属于同一个BFC的两个相邻Box的margin会发生重叠【符合合并原则的margin合并后是使用大的margin】</li><li>BFC内，每个盒子的左外边缘接触内部盒子的左边缘（对于从右到左的格式，右边缘接触）。即使在存在浮动的情况下也是如此。除非创建新的BFC。</li><li>BFC的区域不会与float box重叠。</li><li>BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素。反之也如此。</li><li>计算BFC的高度时，浮动元素也参与计算。</li></ul><h2 id="如何创建BFC"><a href="#如何创建BFC" class="headerlink" title="如何创建BFC"></a>如何创建BFC</h2><p>根元素</p><ul><li>浮动元素（float 属性不为 none）</li><li>position 为 absolute 或 relative</li><li>overflow 不为 visible 的块元素</li><li>display 为 inline-block, table-cell, table-caption</li></ul><h2 id="BFC的应用"><a href="#BFC的应用" class="headerlink" title="BFC的应用"></a>BFC的应用</h2><p>1.防止 margin 重叠<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    . a&#123;</span><br><span class="line">    height:100px;</span><br><span class="line">    width:100px;</span><br><span class="line">    margin:50px;</span><br><span class="line">    background:pink;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt; body &gt;</span><br><span class="line">&lt;div className=&quot;a&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div className=&quot;a&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt; /body&gt;</span><br></pre></td></tr></table></figure></p><p>两个div直接的 margin 是50px，发生了 margin 的重叠。<br><img src="/2019/06/04/前端面试题深入解析-01/03.jpg" alt="03"></p><blockquote><p>根据BFC规则，同一个BFC内的两个两个相邻Box的 margin 会发生重叠，因此我们可以在div外面再嵌套一层容器，并且触发该容器生成一个 BFC，这样 &lt;divclass=”a”&gt; 就会属于两个 BFC，自然也就不会再发生 margin 重叠</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    . a&#123;</span><br><span class="line">    height:100px;</span><br><span class="line">    width:100px;</span><br><span class="line">    margin:50px;</span><br><span class="line">    background:pink;</span><br><span class="line">    &#125;</span><br><span class="line">    .container&#123;</span><br><span class="line">    overflow:auto;/*触发生成BFC*/</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt; body &gt;</span><br><span class="line">&lt;div className=&quot;container&quot;&gt;</span><br><span class="line">    &lt; div className = &quot;a&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div className=&quot;a&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt; /body&gt;</span><br></pre></td></tr></table></figure><p><img src="/2019/06/04/前端面试题深入解析-01/04.png" alt="04"></p><p>2.清除内部浮动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">   . a&#123;</span><br><span class="line">   height:100px;</span><br><span class="line">   width:100px;</span><br><span class="line">   margin:5px;</span><br><span class="line">   background:pink;</span><br><span class="line">   float: left;</span><br><span class="line">   &#125;</span><br><span class="line">   .container&#123;</span><br><span class="line">       width: 120px;</span><br><span class="line">       border: 2px solid black;</span><br><span class="line">   &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt; body &gt;</span><br><span class="line">    &lt;div className=&quot;container&quot;&gt;</span><br><span class="line">       &lt; div className = &quot;a&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt; /body&gt;</span><br></pre></td></tr></table></figure></p><p><img src="/2019/06/04/前端面试题深入解析-01/05.jpg" alt="05"></p><blockquote><p>container 的高度没有被撑开，如果我们希望 container 的高度能够包含浮动元素，那么可以创建一个新的 BFC，因为根据 BFC 的规则，计算 BFC 的高度时，浮动元素也参与计算。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">   . a&#123;</span><br><span class="line">   height:100px;</span><br><span class="line">   width:100px;</span><br><span class="line">   margin:50px;</span><br><span class="line">   background:pink;</span><br><span class="line">   float: left;</span><br><span class="line">   &#125;</span><br><span class="line">   .container&#123;</span><br><span class="line">       display: inline-block;/*触发生成BFC*/</span><br><span class="line">       border: 2px solid black;</span><br><span class="line">   &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p></blockquote><p><img src="/2019/06/04/前端面试题深入解析-01/06.jpg" alt="06"></p><p>3.自适应多栏布局<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    body&#123;</span><br><span class="line">    width: 500px;</span><br><span class="line">    &#125;</span><br><span class="line">   . a&#123;</span><br><span class="line">   height:150px;</span><br><span class="line">   width:100px;</span><br><span class="line">   background:pink;</span><br><span class="line">   float: left;</span><br><span class="line">   &#125;</span><br><span class="line">   .b&#123;</span><br><span class="line">       height: 200px;</span><br><span class="line">       background:blue;</span><br><span class="line">   &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div className = &quot;a&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div className = &quot;b&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt; /body&gt;</span><br></pre></td></tr></table></figure></p><p><img src="/2019/06/04/前端面试题深入解析-01/07.jpg" alt="07"></p><blockquote><p>根据规则，BFC的区域不会与float box重叠。因此，可以触发生成一个新的BFC，如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">   .b&#123;</span><br><span class="line">       height: 200px;</span><br><span class="line">       overflow: hidden;/*触发生成BFC*/</span><br><span class="line">       background:blue;</span><br><span class="line">   &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p></blockquote><p><img src="/2019/06/04/前端面试题深入解析-01/08.jpg" alt="08"></p><h1 id="4-let、const、var-的区别有哪些？"><a href="#4-let、const、var-的区别有哪些？" class="headerlink" title="4. let、const、var 的区别有哪些？"></a>4. let、const、var 的区别有哪些？</h1><table><thead><tr><th style="text-align:center">声明方式</th><th style="text-align:center">变量提升</th><th style="text-align:center">暂时性死区</th><th style="text-align:center">重复声明</th><th style="text-align:center">块作用域有效</th><th style="text-align:center">初始值</th><th style="text-align:center">重新赋值</th></tr></thead><tbody><tr><td style="text-align:center">var</td><td style="text-align:center">会</td><td style="text-align:center">不存在</td><td style="text-align:center">允许</td><td style="text-align:center">不是</td><td style="text-align:center">非必须</td><td style="text-align:center">允许</td></tr><tr><td style="text-align:center">let</td><td style="text-align:center">不会</td><td style="text-align:center">存在</td><td style="text-align:center">不允许</td><td style="text-align:center">是</td><td style="text-align:center">非必须</td><td style="text-align:center">允许</td></tr><tr><td style="text-align:center">const</td><td style="text-align:center">不会</td><td style="text-align:center">存在</td><td style="text-align:center">不允许</td><td style="text-align:center">是</td><td style="text-align:center">必须</td><td style="text-align:center">不允许</td></tr></tbody></table><h2 id="1-let-const-定义的变量不会出现变量提升，而-var-定义的变量会提升。"><a href="#1-let-const-定义的变量不会出现变量提升，而-var-定义的变量会提升。" class="headerlink" title="1.let/const 定义的变量不会出现变量提升，而 var 定义的变量会提升。"></a>1.let/const 定义的变量不会出现变量提升，而 var 定义的变量会提升。</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a =10;</span><br><span class="line">var a;//正常</span><br><span class="line"></span><br><span class="line">a =10;</span><br><span class="line">let a; //ReferenceError</span><br></pre></td></tr></table></figure><h2 id="2-相同作用域中，let-和-const-不允许重复声明，var-允许重复声明。"><a href="#2-相同作用域中，let-和-const-不允许重复声明，var-允许重复声明。" class="headerlink" title="2.相同作用域中，let 和 const 不允许重复声明，var 允许重复声明。"></a>2.相同作用域中，let 和 const 不允许重复声明，var 允许重复声明。</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let a =10;</span><br><span class="line">var a= 20;</span><br><span class="line">//抛出异常:SyntaxError:Identifier &apos;a&apos; has already been declared</span><br></pre></td></tr></table></figure><h2 id="3-const-声明变量时必须设置初始值"><a href="#3-const-声明变量时必须设置初始值" class="headerlink" title="3.const 声明变量时必须设置初始值"></a>3.const 声明变量时必须设置初始值</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const a;//SyntaxError: Missing initializer in const declaration</span><br></pre></td></tr></table></figure><h2 id="4-const-声明一个只读的常量，这个常量不可改变。"><a href="#4-const-声明一个只读的常量，这个常量不可改变。" class="headerlink" title="4.const 声明一个只读的常量，这个常量不可改变。"></a>4.const 声明一个只读的常量，这个常量不可改变。</h2><p>这里有一个非常重要的点即是：复杂数据类型，存储在栈中的是堆内存的地址，存在栈中的这个地址是不变的，但是存在堆中的值是可以变得。有没有相当常量指针/指针常量~</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const a = 10;</span><br><span class="line">const b =&#123;</span><br><span class="line">    age: 18,</span><br><span class="line">    star: 500</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>一图胜万言，如下图所示，不变的是栈内存中 a 存储的 10，和 b 中存储的 0x0012ff21（瞎编的一个数字）。而 {age: 18, star: 200} 是可变的。思考下如果想希望一个对象是不可变的，应该用什么方法？<br><img src="/2019/06/04/前端面试题深入解析-01/09.webp" alt="09"></p><h2 id="5-let-const-声明的变量仅在块级作用域中有效。而-var-声明的变量在块级作用域外仍能访问到。"><a href="#5-let-const-声明的变量仅在块级作用域中有效。而-var-声明的变量在块级作用域外仍能访问到。" class="headerlink" title="5.let/const 声明的变量仅在块级作用域中有效。而 var 声明的变量在块级作用域外仍能访问到。"></a>5.let/const 声明的变量仅在块级作用域中有效。而 var 声明的变量在块级作用域外仍能访问到。</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">let a = 10;</span><br><span class="line">const b =20;</span><br><span class="line">var c = 30;</span><br><span class="line">&#125;</span><br><span class="line">console.log(a);//ReferenceError</span><br><span class="line">console.log(b);//ReferenceError</span><br><span class="line">console.log(c);//30</span><br></pre></td></tr></table></figure><p>在 let/const 之前，最早学习JS的时候，也曾被下面这个问题困扰：<br>期望： a【0】()输出0,a【1】()输出1,a【2】()输出2,…<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var a = [];</span><br><span class="line">for(var i =0; i&lt;10;i++)&#123;</span><br><span class="line">    a[i]= function()&#123;</span><br><span class="line">        console.log(i);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line">a[6]();//10</span><br></pre></td></tr></table></figure></p><p><img src="/2019/06/04/前端面试题深入解析-01/10.webp" alt="10"></p><p>虽然后来知道了为什么，但是想要得到自己需要的结果，还得整个闭包，我…我做错了什么，要这么对我…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var a = [];</span><br><span class="line">   for(var i =0; i&lt;10;i++)&#123;</span><br><span class="line">       a[i]= (function(j)&#123;</span><br><span class="line">        return function()&#123;</span><br><span class="line">            console.log(j);</span><br><span class="line">        &#125;   </span><br><span class="line">      &#125;)(i);</span><br><span class="line">   &#125;</span><br><span class="line">   a[6]();//10</span><br></pre></td></tr></table></figure><p>有了 let 之后，终于不要这么麻烦了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var a = [];</span><br><span class="line">for(let i =0; i&lt;10;i++)&#123;</span><br><span class="line">    a[i]= function()&#123;</span><br><span class="line">        console.log(i);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line">a[6]();//10</span><br></pre></td></tr></table></figure></p><p>美滋滋，有没有~</p><p>美是美了，但是总得问自己为什么吧~</p><p>vari 为什么输出的是 10，这是因为 i 在全局范围内都是有效的，相当于只有一个变量 i，等执行到 a【6】() 的时候，这个 i 的值是什么？请大声说出来。</p><p>再看 let , 我们说 let 声明的变量仅在块级作用域内有效，变量i是let声明的，当前的 i 只在本轮循环有效，所以每一次循环的 i 其实都是一个新的变量。有兴趣的小伙伴可以查看 babel 编译后的代码。</p><h2 id="6、顶层作用域中-var-声明的变量挂在window上-浏览器环境"><a href="#6、顶层作用域中-var-声明的变量挂在window上-浏览器环境" class="headerlink" title="6、顶层作用域中 var 声明的变量挂在window上(浏览器环境)"></a>6、顶层作用域中 var 声明的变量挂在window上(浏览器环境)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var a = 10;</span><br><span class="line">consle.log(window.a);//10</span><br></pre></td></tr></table></figure><h2 id="7、let-const有暂时性死区的问题，即let-const-声明的变量，在定义之前都是不可用的。如果使用会抛出错误。"><a href="#7、let-const有暂时性死区的问题，即let-const-声明的变量，在定义之前都是不可用的。如果使用会抛出错误。" class="headerlink" title="7、let/const有暂时性死区的问题，即let/const 声明的变量，在定义之前都是不可用的。如果使用会抛出错误。"></a>7、let/const有暂时性死区的问题，即let/const 声明的变量，在定义之前都是不可用的。如果使用会抛出错误。</h2><p>只要块级作用域内存在let命令，它所声明的变量就“绑定”（binding）这个区域，不再受外部的影响。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var a= 10;</span><br><span class="line">if(true)&#123;</span><br><span class="line">    a = 20;//ReferenceError</span><br><span class="line">    let a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在代码块内，使用 let/const 命令声明变量之前，该变量都是不可用的，也就意味着 typeof 不再是一个百分百安全的操作。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">console.log(typeof b);//undefined</span><br><span class="line">console.log(a);ReferenceError</span><br><span class="line">let a = 10;</span><br></pre></td></tr></table></figure><h1 id="5、深拷贝和浅拷贝的区别是什么？如何实现一个深拷贝？"><a href="#5、深拷贝和浅拷贝的区别是什么？如何实现一个深拷贝？" class="headerlink" title="5、深拷贝和浅拷贝的区别是什么？如何实现一个深拷贝？"></a>5、深拷贝和浅拷贝的区别是什么？如何实现一个深拷贝？</h1><p>深拷贝和浅拷贝是针对复杂数据类型来说的。</p><h2 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h2><blockquote><p>深拷贝复制变量值，对于非基本类型的变量，则递归至基本类型变量后，再复制。 深拷贝后的对象与原来的对象是完全隔离的，互不影响，对一个对象的修改并不会影响另一个对象。</p></blockquote><h2 id="浅拷贝"><a href="#浅拷贝" class="headerlink" title="浅拷贝"></a>浅拷贝</h2><blockquote><p>浅拷贝是会将对象的每个属性进行依次复制，但是当对象的属性值是引用类型时，实质复制的是其引用，当引用指向的值改变时也会跟着变化。</p></blockquote><p>可以使用 for in、 Object.assign、 扩展运算符 … 、 Array.prototype.slice()、 Array.prototype.concat() 等，例如:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123;</span><br><span class="line">    name: &apos;Yvette&apos;,</span><br><span class="line">    age: 18,</span><br><span class="line">    hobbies: [&apos;reading&apos;, &apos;photography&apos;]</span><br><span class="line">&#125;;</span><br><span class="line">let obj2 = Object.assign(&#123;&#125;, obj);</span><br><span class="line">let obj3 = &#123;...obj&#125;;</span><br><span class="line">obj.name = &apos;Jack&apos;;</span><br><span class="line">obj.hobbies.push(&apos;coding&apos;);</span><br><span class="line">console.log(obj);//&#123; name: &apos;Jack&apos;, age: 18,hobbies: [ &apos;reading&apos;, &apos;photography&apos;, &apos;coding&apos; ] &#125;</span><br><span class="line">console.log(obj2);//&#123; name: &apos;Yvette&apos;, age: 18,hobbies: [ &apos;reading&apos;, &apos;photography&apos;, &apos;coding&apos; ] &#125;</span><br><span class="line">console.log(obj3);//&#123; name: &apos;Yvette&apos;, age: 18,hobbies: [ &apos;reading&apos;, &apos;photography&apos;, &apos;coding&apos; ] &#125;</span><br></pre></td></tr></table></figure></p><p>可以看出浅拷贝只最第一层属性进行了拷贝，当第一层的属性值是基本数据类型时，新的对象和原对象互不影响，但是如果第一层的属性值是复杂数据类型，那么新对象和原对象的属性值其指向的是同一块内存地址。来看一下使用 forin 实现浅拷贝。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123;</span><br><span class="line">    name: &apos;Yvette&apos;,</span><br><span class="line">    age: 18,</span><br><span class="line">    hobbies: [&apos;reading&apos;, &apos;photography&apos;]</span><br><span class="line">&#125;</span><br><span class="line">let newObj = &#123;&#125;;</span><br><span class="line">for (let key in obj)&#123;</span><br><span class="line">    newObj[key] = obj[key];//这一步不需要多说吧，复杂数据类型栈中存的是对应的地址，因此赋值操作，相当于两个属性值指向同一个内存空间</span><br><span class="line">&#125;</span><br><span class="line">console.log(newObj);//&#123; name: &apos;Yvette&apos;, age: 18, hobbies: [ &apos;reading&apos;, &apos;photography&apos; ] &#125;</span><br><span class="line">obj.age = 20;</span><br><span class="line">obj.hobbies.pop();</span><br><span class="line">console.log(newObj);//&#123; name: &apos;Yvette&apos;, age: 18, hobbies: [ &apos;reading&apos; ] &#125;</span><br></pre></td></tr></table></figure><h2 id="深拷贝实现"><a href="#深拷贝实现" class="headerlink" title="深拷贝实现"></a>深拷贝实现</h2><blockquote><p>1.深拷贝最简单的实现是: JSON.parse(JSON.stringify(obj))</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123;</span><br><span class="line">    name: &apos;Yvette&apos;,</span><br><span class="line">    age: 18,</span><br><span class="line">    hobbies: [&apos;reading&apos;, &apos;photography&apos;]</span><br><span class="line">&#125;;</span><br><span class="line">let newObj = JSON.parse(JSON.stringify(obj));//newObj和obj互不影响</span><br><span class="line">obj.hobbies.push(&apos;coding&apos;);</span><br><span class="line">console.log(newObj);//&#123; name: &apos;Yvette&apos;, age: 18, hobbies: [ &apos;reading&apos;, &apos;photography&apos; ] &#125;</span><br></pre></td></tr></table></figure><p>JSON.parse(JSON.stringify(obj)) 是最简单的实现方式，但是有一点缺陷：</p><p>1.对象的属性值是函数时，无法拷贝。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123;</span><br><span class="line">    name: &apos;Yvette&apos;,</span><br><span class="line">    age: 18,</span><br><span class="line">    hobbies: [&apos;reading&apos;, &apos;photography&apos;],</span><br><span class="line">    sayHi: function () &#123;</span><br><span class="line">        console.log(sayHi);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">let newObj = JSON.parse(JSON.stringify(obj));</span><br><span class="line">console.log(newObj);//&#123; name: &apos;Yvette&apos;, age: 18, hobbies: [ &apos;reading&apos;, &apos;photography&apos; ] &#125;</span><br></pre></td></tr></table></figure><p>2.原型链上的属性无法获取</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function Super() &#123;&#125;</span><br><span class="line">Super.prototype.location = &apos;NanJing&apos;;</span><br><span class="line">function Child(name, age, hobbies) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">    this.age = age;</span><br><span class="line">&#125;;</span><br><span class="line">Child.prototype = new Super();</span><br><span class="line">let obj = new Child(&apos;Yvette&apos;, 18);</span><br><span class="line">console.log(obj.location);</span><br><span class="line">//NanJing</span><br><span class="line">let newObj = JSON.parse(JSON.stringify(obj));</span><br><span class="line">console.log(newObj);//&#123; name: &apos;Yvette&apos;, age: 18&#125;</span><br><span class="line">console.log(newObj.location);//undefined;原型链上的属性无法获取</span><br></pre></td></tr></table></figure><p>3.不能正确的处理 Date 类型的数据</p><p>4.不能处理 RegExp</p><p>5.会忽略 symbol</p><p>6.会忽略 undefined</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let obj = &#123;</span><br><span class="line">    time: new Date(),</span><br><span class="line">    reg: /\d&#123;3&#125;/,</span><br><span class="line">    sym: Symbol(10),</span><br><span class="line">    name: undefined</span><br><span class="line">&#125;;</span><br><span class="line">let obj2 = JSON.parse(JSON.stringify(obj));</span><br><span class="line">console.log(obj2);//&#123; time: &apos;2019-06-02T08:16:44.625Z&apos;, reg: &#123;&#125; &#125;</span><br></pre></td></tr></table></figure><blockquote><p>2.实现一个 deepClone 函数</p></blockquote><pre><code>1、如果是基本数据类型，直接返回2、如果是 RegExp 或者 Date 类型，返回对应类型3、如果是复杂数据类型，递归拷贝。</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">function deepClone(obj) &#123;//递归拷贝</span><br><span class="line">    if (obj instanceof RegExp) returnnewRegExp(obj);</span><br><span class="line">    if (obj instanceof Date) return new Date(obj);</span><br><span class="line">    if (obj === null || typeof obj !== &apos;object&apos;) &#123;//如果不是复杂数据类型，直接返回</span><br><span class="line">        return obj;</span><br><span class="line">    &#125;</span><br><span class="line">    /**</span><br><span class="line">     * 如果obj是数组，那么 obj.constructor 是 [Function: Array]</span><br><span class="line">     * 如果obj是对象，那么 obj.constructor 是 [Function: Object]</span><br><span class="line">     */</span><br><span class="line">    let t = new obj.constructor();</span><br><span class="line">    for (let key in obj) &#123;//如果 obj[key] 是复杂数据类型，递归</span><br><span class="line">        if (obj.hasOwnProperty(key))&#123;//是否是自身的属性</span><br><span class="line">            t[key] = deepClone(obj[key]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    return t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> 前端面试题 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>关于移动端适配，你必须要知道的</title>
      <link href="/2019/06/03/%E5%85%B3%E4%BA%8E%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D%EF%BC%8C%E4%BD%A0%E5%BF%85%E9%A1%BB%E8%A6%81%E7%9F%A5%E9%81%93%E7%9A%84/"/>
      <url>/2019/06/03/%E5%85%B3%E4%BA%8E%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D%EF%BC%8C%E4%BD%A0%E5%BF%85%E9%A1%BB%E8%A6%81%E7%9F%A5%E9%81%93%E7%9A%84/</url>
      <content type="html"><![CDATA[<p>本文转自 <a href="https://mp.weixin.qq.com/s?__biz=MzI4NDYxNTM0OQ==&amp;mid=2247483747&amp;idx=1&amp;sn=90cb7d69ca1b996809dd02a32078cd5d&amp;chksm=ebf9f6b9dc8e7faf867e5ec22339e65efdb0002bc7d9f1867a53edb8c5318a94a8d13737a269&amp;mpshare=1&amp;scene=1&amp;srcid=&amp;key=47a58d19edbb3f926e528c56a70e589ae4e1cf407b6c9c8b6d9a12d873ac30d5305221e22dec0e82151432be214eab8486154ff64e20d56ad7cdcb461faaebe75242d05895b2e35d5cc7ed48027ebeee&amp;ascene=1&amp;uin=Mjk1MDEwMzIwNw%3D%3D&amp;devicetype=Windows+10&amp;version=62060739&amp;lang=en&amp;pass_ticket=Kg%2BuI6pXTVeQSCOOiejokLvubZ6zl%2FsBhrz7K%2B4cm%2B%2FtjWT1MFYKGhT2efwdnKdG" target="_blank" rel="noopener">code秘密花园</a>.</p><p>本文有点长，耐心阅读！<br><img src="/2019/06/03/关于移动端适配，你必须要知道的/view.jpg" alt="view"><br><a id="more"></a><br><strong>导读</strong></p><p>移动端适配，是我们在开发中经常会遇到的，这里面可能会遇到非常多的问题：</p><ul><li>1px问题</li><li>UI图完美适配方案</li><li>iPhoneX适配方案</li><li>横屏适配</li><li>高清图片模糊问题</li><li>…<br>上面这些问题可能我们在开发中已经知道如何解决，但是问题产生的原理，以及解决方案的原理可能会模糊不清。在解决这些问题的过程中，我们往往会遇到非常多的概念：像素、分辨率、PPI、DPI、DP、DIP、DPR、视口等等，你真的能分清这些概念的意义吗？</li></ul><p>本文将从移动端适配的基础概念出发，探究移动端适配各种问题的解决方案和实现原理。</p><h1 id="一、英寸"><a href="#一、英寸" class="headerlink" title="一、英寸"></a>一、英寸</h1><p>一般用英寸描述屏幕的物理大小，如电脑显示器的17、22，手机显示器的4.8、5.7等使用的单位都是英寸。</p><p>需要注意，上面尺寸都是屏幕对角线的长度：</p><p><img src="/2019/06/03/关于移动端适配，你必须要知道的/01.webp" alt="01"></p><p>英寸（inch，缩写为in）在荷兰语中的本意是大拇指，一英寸就是普通人拇指的宽度。<br>英寸与厘米的换算：1英寸 = 2.54厘米</p><h1 id="二、分辨率"><a href="#二、分辨率" class="headerlink" title="二、分辨率"></a>二、分辨率</h1><h2 id="2-1-像素"><a href="#2-1-像素" class="headerlink" title="2.1 像素"></a>2.1 像素</h2><p>像素即一个小方块，它具有特定的位置和颜色。<br>图片、电子屏幕（手机、电脑）就是由无数个具有特定颜色和特定位置的小方块拼接而成。<br>像素可以作为图片或电子屏幕的最小组成单位。</p><p>下面我们使用ps打开一张图片：<br><img src="/2019/06/03/关于移动端适配，你必须要知道的/02.jpg" alt="02"></p><p>将这个图片放大即可看到这些像素点<br><img src="/2019/06/03/关于移动端适配，你必须要知道的/03.jpg" alt="03"></p><p>通常我们所说的分辨率有两种，屏幕分辨率和图像分辨率</p><h2 id="2-2-屏幕分辨率"><a href="#2-2-屏幕分辨率" class="headerlink" title="2.2 屏幕分辨率"></a>2.2 屏幕分辨率</h2><p>屏幕分辨率指一个屏幕具体由多少个像素点组成。<br>下面是apple官网上对手机分辨率的描述：<br><img src="/2019/06/03/关于移动端适配，你必须要知道的/04.webp" alt="04"><br>iPhone XS Max和iPhone SE的分辨率分别为2688 X 1242和1136 X 640.这表示手机分别在垂直和水平上所具有的像素点数。</p><p>当然分辨率高不代表屏幕就清晰，屏幕的清晰程度还与尺寸有关。</p><h2 id="2-3-图像分辨率"><a href="#2-3-图像分辨率" class="headerlink" title="2.3 图像分辨率"></a>2.3 图像分辨率</h2><p>我们通常所说的图片分辨率其实是指图片含有的像素数，比如一张图片的分辨率是800 X 400 。这表示图片分别在垂直和水平上所具有的像素点数为800和400.</p><p>同一尺寸的图片，分辨率越高，图片越清晰。</p><p><img src="/2019/06/03/关于移动端适配，你必须要知道的/05.webp" alt="05"></p><h2 id="2-4-PPI"><a href="#2-4-PPI" class="headerlink" title="2.4 PPI"></a>2.4 PPI</h2><p>PPI(Pixel Per Inch)：每英寸包含的像素数。<br>PPI可以用于描述屏幕的清晰度以及一张图片的质量。<br>使用PPI描述图片时，PPI越高图片质量越高。使用PPI描述屏幕时，PPI越高，屏幕越清晰。<br>在上面描述手机分辨率的图片中，我们可以看到： iPhone XSMax 和 iPhone SE的 PPI分别为458和326，这足以证明前者的屏幕更清晰。<br>由于手机尺寸为手机对角线的长度，我们通常使用如下的方法计算 PPI:<br><img src="/2019/06/03/关于移动端适配，你必须要知道的/PPI.jpg" alt="PPI"></p><p>iPhone6的 PPI为 √（1334^2+750^2）/4.7=325.6，那它每英寸约含有 326个物理像素点。</p><h2 id="2-5-DPI"><a href="#2-5-DPI" class="headerlink" title="2.5 DPI"></a>2.5 DPI</h2><p>DPI（Dot Per Inch）:及每英寸包括的点数。<br>这里的点是一个抽象的单位，它可以是屏幕像素点、图片像素点也可以是打印机的墨点。<br>平时你可能会看到使用DPI来描述图片和屏幕，这时的DPI应该和PPI是等价的，DPI最常用的是用户描述打印机，表示打印机每英寸可以打印的点数。</p><p>一张图片在屏幕上显示，它的像素点数是规则排列的，每个像素点都有固定的位置和颜色。</p><p>当使用打印机进行打印时，打印机可能不会规则的将这些点打印出来，而是使用一个个打印点来呈现这张图像，这些打印点之间会有一定的空隙，这就是DPI所描述的：打印点的密度。<br><img src="/2019/06/03/关于移动端适配，你必须要知道的/06.webp" alt="06"></p><p>在上面的图像中我们可以清晰的看到，打印机时如何使用墨点来打印一张图像。<br>所以打印机的DPI越高，打印图像的精细程度就越高，同时这也会消耗更多的墨点和时间。</p><h1 id="三、设备独立像素"><a href="#三、设备独立像素" class="headerlink" title="三、设备独立像素"></a>三、设备独立像素</h1><p>实际上，上面我们所描述的像素都是物理像素，即设备上真实的物理单元。<br>下面我们来看看设备独立像素究竟是如何产生的：<br>智能手机发展非常之快，在几年之前，我们还用着分辨率非常低的手机，比如下面左侧的白色手机，它的分辨率是320X480，我们可以在上面浏览正常的文字、图片等等。<br>但是，随着科技的发展，低分辨率的手机已经不能满足我们的需求了。很快，更高分辨率的屏幕诞生了，比如下面的黑色手机，它的分辨率是640X940，正好是白色手机的两倍。<br>理论上来讲，在白色手机上相同文字大小的图片和文字，在黑色手机上会被缩放一倍，因为它的分辨率提高了一倍。这样，岂不是后面出现更高分辨率的手机，页面元素会变得越来越小吗？<br><img src="/2019/06/03/关于移动端适配，你必须要知道的/07.webp" alt="07"><br>然而事实并不是这样的，我们现在使用的智能手机，不管分辨率多高，他们所展示的界面比例都是基本类似的。乔布斯在 iPhone4的发布会上首次提出了 RetinaDisplay(视网膜屏幕)的概念，它正是解决了上面的问题，这也使它成为一款跨时代的手机。</p><p><img src="/2019/06/03/关于移动端适配，你必须要知道的/08.webp" alt="08"></p><p>在 iPhone4使用的视网膜屏幕中，把 2x2个像素当 1个像素使用，这样让屏幕看起来更精致，但是元素的大小却不会改变。</p><p><img src="/2019/06/03/关于移动端适配，你必须要知道的/09.webp" alt="09"></p><p>如果黑色手机使用了视网膜屏幕的技术，那么显示结果应该是下面的情况，比如列表的宽度为 300个像素，那么在一条水平线上，白色手机会用 300个物理像素去渲染它，而黑色手机实际上会用 600个物理像素去渲染它。</p><p>我们必须用一种单位来同时告诉不同分辨率的手机，它们在界面上显示元素的大小是多少，这个单位就是设备独立像素( DeviceIndependentPixels)简称 DIP或 DP。上面我们说，列表的宽度为 300个像素，实际上我们可以说：列表的宽度为 300个设备独立像素。</p><p><img src="/2019/06/03/关于移动端适配，你必须要知道的/10.webp" alt="10"></p><p>打开 chrome的开发者工具，我们可以模拟各个手机型号的显示情况，每种型号上面会显示一个尺寸，比如 iPhone X显示的尺寸是 375x812，实际 iPhone X的分辨率会比这高很多，这里显示的就是设备独立像素。</p><p><img src="/2019/06/03/关于移动端适配，你必须要知道的/11.webp" alt="11"></p><h2 id="3-1-设备像素比"><a href="#3-1-设备像素比" class="headerlink" title="3.1 设备像素比"></a>3.1 设备像素比</h2><p>设备像素比 device pixel ratio简称 dpr，即物理像素和设备独立像素的比值。<br>在 web中，浏览器为我们提供了 window.devicePixelRatio来帮助我们获取 dpr。<br>在 css中，可以使用媒体查询 min-device-pixel-ratio，区分 dpr：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@media(-webkit-min-device-pixel-ratio: 2),(min-device-pixel-ratio: 2)&#123; &#125;</span><br></pre></td></tr></table></figure></p><p>在 ReactNative中，我们也可以使用 PixelRatio.get()来获取 DPR。</p><p>当然，上面的规则也有例外， iPhone6、7、8Plus的实际物理像素是 1080x1920，在开发者工具中我们可以看到：它的设备独立像素是 414x736，设备像素比为 3，设备独立像素和设备像素比的乘积并不等于 1080x1920，而是等于 1242x2208。</p><p>实际上，手机会自动把 1242x2208个像素点塞进 1080*1920个物理像素点来渲染，我们不用关心这个过程，而 1242x2208被称为屏幕的设计像素。我们开发过程中也是以这个设计像素为准。</p><p>实际上，从苹果提出视网膜屏幕开始，才出现设备像素比这个概念，因为在这之前，移动设备都是直接使用物理像素来进行展示。</p><p>紧接着， Android同样使用了其他的技术方案来实现 DPR大于 1的屏幕，不过原理是类似的。由于 Android屏幕尺寸非常多、分辨率高低跨度非常大，不像苹果只有它自己的几款固定设备、尺寸。所以，为了保证各种设备的显示效果， Android按照设备的像素密度将设备分成了几个区间：<br><img src="/2019/06/03/关于移动端适配，你必须要知道的/12.webp" alt="12"><br>当然，所有的 Android设备不一定严格按照上面的分辨率，每个类型可能对应几种不同分辨率，所以，每个 Android手机都能根据给定的区间范围，确定自己的 DPR，从而拥有类似的显示。当然，仅仅是类似，由于各个设备的尺寸、分辨率上的差异，设备独立像素也不会完全相等，所以各种 Android设备仍然不能做到在展示上完全相等。</p><h2 id="3-2-移动端开发"><a href="#3-2-移动端开发" class="headerlink" title="3.2 移动端开发"></a>3.2 移动端开发</h2><p>在 iOS、Android和ReactNative开发中样式单位其实都使用的是设备独立像素。</p><p>iOS的尺寸单位为pt， Android的尺寸单位为dp，ReactNative中没有指定明确的单位，它们其实都是设备独立像素dp。<br>在使用ReactNative开发App时，UI给我们的原型图一般是基于iphone6的像素给定的。</p><p>为了适配所有机型，我们在写样式时需要把物理像素转换为设备独立像素：例如：如果给定一个元素的高度为200px(这里的 px指物理像素，非 CSS像素)，iphone6的设备像素比为2，我们给定的height应为200px/2=100dp。</p><p>当然，最好的是，你可以和设计沟通好，所有的UI图都按照设备独立像素来出。</p><p>我们还可以在代码( ReactNative)中进行 px和 dp的转换：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import &#123;PixelRatio &#125; from &apos;react-native&apos;;</span><br><span class="line">    const dpr = PixelRatio.get();</span><br><span class="line">/**</span><br><span class="line"> * px转换为dp</span><br><span class="line"> */</span><br><span class="line">export function pxConvertTodp(px) &#123;  </span><br><span class="line">    return px / dpr;</span><br><span class="line">&#125;</span><br><span class="line">/**</span><br><span class="line"> * dp转换为px</span><br><span class="line"> */</span><br><span class="line">export function dpConvertTopx(dp) &#123;</span><br><span class="line">    return PixelRatio.getPixelSizeForLayoutSize(dp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="3-3-WEB端开发"><a href="#3-3-WEB端开发" class="headerlink" title="3.3 WEB端开发"></a>3.3 WEB端开发</h2><p>在写CSS时，我们用到最多的单位是px，即CSS像素，当页面缩放比例为100%时，一个CSS像素等于一个设备独立像素。</p><p>但是CSS像素是很容易被改变的，当用户对浏览器进行了放大，CSS像素会被放大，这时一个CSS像素会跨越更多的物理像素。</p><p>页面的缩放系数=CSS像素/设备独立像素。</p><h2 id="3-4-关于屏幕"><a href="#3-4-关于屏幕" class="headerlink" title="3.4 关于屏幕"></a>3.4 关于屏幕</h2><p>这里多说两句 Retina屏幕，因为我在很多文章中看到对 Retina屏幕的误解。</p><p>Retina屏幕只是苹果提出的一个营销术语：</p><blockquote><p>在普通的使用距离下，人的肉眼无法分辨单个的像素点。</p></blockquote><p>为什么强调 普通的使用距离下呢？我们来看一下它的计算公式：</p><p>$$ a=2arctan(h/2d) $$</p><p>a代表人眼视角，h代表像素间距，d代表肉眼与屏幕的距离，符合以上条件的屏幕可以使肉眼看不见单个物理像素点。</p><p>它不能单纯的表达分辨率和PPI，只能一种表达视觉效果。</p><p>让多个物理像素渲染一个独立像素只是Retina屏幕为了达到效果而使用的一种技术。而不是所有DPR&gt;1的屏幕就是Retina屏幕。</p><p>比如：给你一块超大尺寸的屏幕，即使它的PPI很高，DPR也很高，在近距离你也能看清它的像素点，这就不算Retina屏幕。<br><img src="/2019/06/03/关于移动端适配，你必须要知道的/13.webp" alt="13"><br>我们经常见到用K和P这个单位来形容屏幕：</p><p>P代表的就是屏幕纵向的像素个数，1080P即纵向有1080个像素，分辨率为1920X1080的屏幕就属于1080P屏幕。</p><p>我们平时所说的高清屏其实就是屏幕的物理分辨率达到或超过1920X1080的屏幕。</p><p>K代表屏幕横向有几个1024个像素，一般来讲横向像素超过2048就属于 2K屏，横向像素超过4096就属于4K屏。</p><h1 id="四、视口"><a href="#四、视口" class="headerlink" title="四、视口"></a>四、视口</h1><p>视口(viewport)代表当前可见的计算机图形区域。在Web浏览器术语中，通常与浏览器窗口相同，但不包括浏览器的UI， 菜单栏等——即指你正在浏览的文档的那一部分。</p><p>一般我们所说的视口共包括三种：布局视口、视觉视口和理想视口，它们在屏幕适配中起着非常重要的作用。</p><h2 id="4-1-布局视口"><a href="#4-1-布局视口" class="headerlink" title="4.1 布局视口"></a>4.1 布局视口</h2><p><img src="/2019/06/03/关于移动端适配，你必须要知道的/14.webp" alt="14"><br>布局视口(layout viewport)：当我们以百分比来指定一个元素的大小时，它的计算值是由这个元素的包含块计算而来的。当这个元素是最顶级的元素时，它就是基于布局视口来计算的。</p><p>所以，布局视口是网页布局的基准窗口，在PC浏览器上，布局视口就等于当前浏览器的窗口大小（不包括borders 、margins、滚动条）。</p><p>在移动端，布局视口被赋予一个默认值，大部分为980px，这保证PC的网页可以在手机浏览器上呈现，但是非常小，用户可以手动对网页进行放大。</p><p>我们可以通过调用 document.documentElement.clientWidth/clientHeight 来获取布局视口大小。</p><h2 id="4-2-视觉视口"><a href="#4-2-视觉视口" class="headerlink" title="4.2 视觉视口"></a>4.2 视觉视口</h2><p><img src="/2019/06/03/关于移动端适配，你必须要知道的/15.webp" alt="15"><br>视觉视口( visual viewport)：用户通过屏幕真实看到的区域。</p><p>视觉视口默认等于当前浏览器的窗口大小（包括滚动条宽度）。</p><p>当用户对浏览器进行缩放时，不会改变布局视口的大小，所以页面布局是不变的，但是缩放会改变视觉视口的大小。</p><p>例如：用户将浏览器窗口放大了 200%，这时浏览器窗口中的 CSS像素会随着视觉视口的放大而放大，这时一个CSS像素会跨越更多的物理像素。</p><p>所以，布局视口会限制你的CSS布局而视觉视口决定用户具体能看到什么。</p><p>我们可以通过调用 window.innerWidth/innerHeight来获取视觉视口大小。</p><h2 id="4-3-理想视口"><a href="#4-3-理想视口" class="headerlink" title="4.3 理想视口"></a>4.3 理想视口</h2><p><img src="/2019/06/03/关于移动端适配，你必须要知道的/16.webp" alt="16"><br>布局视口在移动端展示的效果并不是一个理想的效果，所以理想视口(ideal viewport)就诞生了：网站页面在移动端展示的理想大小。</p><p>如上图，我们在描述设备独立像素时曾使用过这张图，在浏览器调试移动端时页面上给定的像素大小就是理想视口大小，它的单位正是设备独立像素。</p><p>上面在介绍CSS像素时曾经提到 页面的缩放系数=CSS像素/设备独立像素，实际上说 页面的缩放系数=理想视口宽度/视觉视口宽度更为准确。</p><p>所以，当页面缩放比例为100%时，CSS像素=设备独立像素， 理想视口=视觉视口。</p><p>我们可以通过调用 screen.width/height来获取理想视口大小。</p><h2 id="4-4-Meta-viewport"><a href="#4-4-Meta-viewport" class="headerlink" title="4.4 Meta viewport"></a>4.4 Meta viewport</h2><p><meta>元素表示那些不能由其它HTML元相关元素之一表示的任何元数据信息，它可以告诉浏览器如何解析页面。</p><p>我们可以借助<meta>元素的viewport来帮助我们设置视口、缩放等，从而让移动端得到更好的展示效果。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width; initial-scale=1; maximum-scale=1; minimum-scale=1; user-scalable=no;&quot;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure><p>上面是 viewport的一个配置，我们来看看它们的具体含义：</p><table><thead><tr><th style="text-align:center">Value</th><th style="text-align:center">可能值</th><th style="text-align:center">描述</th></tr></thead><tbody><tr><td style="text-align:center">width</td><td style="text-align:center">正整数或 device-width</td><td style="text-align:center">以 pixels（像素）为单位， 定义布局视口的宽度。 </td></tr><tr><td style="text-align:center">height</td><td style="text-align:center">正整数或 device-height</td><td style="text-align:center">以 pixels（像素）为单位， 定义布局视口的高度。</td></tr><tr><td style="text-align:center">initial-scale</td><td style="text-align:center">0.0-10.0</td><td style="text-align:center">定义页面初始缩放比率。</td></tr><tr><td style="text-align:center">minimum-scale</td><td style="text-align:center">0.0-10.0</td><td style="text-align:center">定义缩放的最小值；必须小于或等于 maximum-scale的值。</td></tr><tr><td style="text-align:center">maximum-scale</td><td style="text-align:center">0.0-10.0</td><td style="text-align:center">定义缩放的最大值；必须大于或等于 minimum-scale的值。</td></tr><tr><td style="text-align:center">user-scalable</td><td style="text-align:center">一个布尔值（ yes或者 no）</td><td style="text-align:center">如果设置为 no，用户将不能放大或缩小网页。默认值为 yes。</td></tr></tbody></table><h2 id="4-5-移动端适配"><a href="#4-5-移动端适配" class="headerlink" title="4.5 移动端适配"></a>4.5 移动端适配</h2><p>为了在移动端让页面获得更好的显示效果，我们必须让布局视口、视觉视口都尽可能等于理想视口。</p><p>device-width就等于理想视口的宽度，所以设置 width=device-width 就相当于让布局视口等于理想视口。</p><p>由于 initial-scale=理想视口宽度/视觉视口宽度，所以我们设置 initial-scale=1;就相当于让视觉视口等于理想视口。</p><p>这时，1个CSS像素就等于1个设备独立像素，而且我们也是基于理想视口来进行布局的，所以呈现出来的页面布局在各种设备上都能大致相似。</p><h2 id="4-6-缩放"><a href="#4-6-缩放" class="headerlink" title="4.6 缩放"></a>4.6 缩放</h2><p>上面提到 width可以决定布局视口的宽度，实际上它并不是布局视口的唯一决定性因素，设置initial-scale也有肯能影响到布局视口，因为布局视口宽度取的是 width和视觉视口宽度的最大值。</p><p>例如：若手机的理想视口宽度为 400px，设置 width=device-width， initial-scale=2，此时视觉视口宽度=理想视口宽度/initial-scale即 200px，布局视口取两者最大值即 device-width 400px。</p><p>若设置 width=device-width， initial-scale=0.5，此时视觉视口宽度=理想视口宽度/initial-scale即800px，布局视口取两者最大值即 800px。</p><h2 id="4-7-获取浏览器大小"><a href="#4-7-获取浏览器大小" class="headerlink" title="4.7 获取浏览器大小"></a>4.7 获取浏览器大小</h2><p>浏览器为我们提供的获取窗口大小的 API有很多，下面我们再来对比一下：<br><img src="/2019/06/03/关于移动端适配，你必须要知道的/17.webp" alt="17"></p><ul><li>window.innerHeight：获取浏览器视觉视口高度（包括垂直滚动条）。</li><li>window.outerHeight：获取浏览器窗口外部的高度。表示整个浏览器窗口的高度，包括侧边栏、窗口镶边和调正窗口大小的边框。</li><li>window.screen.Height：获取获屏幕取理想视口高度，这个数值是固定的， 设备的分辨率/设备像素比</li><li>window.screen.availHeight：浏览器窗口可用的高度。</li><li>document.documentElement.clientHeight：获取浏览器布局视口高度，包括内边距，但不包括垂直滚动条、边框和外边距。</li><li>document.documentElement.offsetHeight：包括内边距、滚动条、边框和外边距。</li><li>document.documentElement.scrollHeight：在不使用滚动条的情况下适合视口中的所有内容所需的最小宽度。测量方式与 clientHeight相同：它包含元素的内边距，但不包括边框，外边距或垂直滚动条。</li></ul><h1 id="五、1px问题"><a href="#五、1px问题" class="headerlink" title="五、1px问题"></a>五、1px问题</h1><p>为了适配各种屏幕，我们写代码时一般使用设备独立像素来对页面进行布局。</p><p>而在设备像素比大于1的屏幕上，我们写的1px实际上是被多个物理像素渲染，这就会出现1px在有些屏幕上看起来很粗的现象。</p><h2 id="5-1-border-image"><a href="#5-1-border-image" class="headerlink" title="5.1 border-image"></a>5.1 border-image</h2><p>基于 media查询判断不同的设备像素比给定不同的 border-image：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.border_1px&#123;</span><br><span class="line">      border-bottom: 1px solid #000;       </span><br><span class="line">       &#125;        </span><br><span class="line">       @media only screen and (-webkit-min-device-pixel-ratio:2)&#123;           </span><br><span class="line">        .border_1px&#123;</span><br><span class="line">              border-bottom: none;</span><br><span class="line">            border-width: 0 0 1px 0;</span><br><span class="line">            border-image: url(../img/1pxline.png) 0 0 2 0 stretch;            </span><br><span class="line">        &#125;        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="5-2-background-image"><a href="#5-2-background-image" class="headerlink" title="5.2 background-image"></a>5.2 background-image</h2><p>和 border-image类似，准备一张符合条件的边框背景图，模拟在背景上。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.border_1px&#123;</span><br><span class="line">          border-bottom: 1px solid #000;       </span><br><span class="line">       &#125;        </span><br><span class="line">       @media only screen and (-webkit-min-device-pixel-ratio:2)&#123;           </span><br><span class="line">        .border_1px&#123;</span><br><span class="line">            background: url(../img/1pxline.png) repeat-x left bottom;  </span><br><span class="line">            background-size: 100% 1px;          </span><br><span class="line">        &#125;        </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>上面两种都需要单独准备图片，而且圆角不是很好处理，但是可以应对大部分场景。</p><h2 id="5-3-伪类-transform"><a href="#5-3-伪类-transform" class="headerlink" title="5.3 伪类 + transform"></a>5.3 伪类 + transform</h2><p>基于 media查询判断不同的设备像素比对线条进行缩放：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">.border_1px:before&#123;</span><br><span class="line">            content:&quot;&quot; ;</span><br><span class="line">            position: absolute;</span><br><span class="line">            top: 0;</span><br><span class="line">            height: 1px;</span><br><span class="line">           width: 100%;</span><br><span class="line">           background-color: #000;</span><br><span class="line">           transform-origin: 50% 0%;</span><br><span class="line">          &#125;        </span><br><span class="line">          @media only screen and (-webkit-min-device-pixel-ratio:2)&#123;           </span><br><span class="line">           .border_1px:before&#123;</span><br><span class="line">               transeform: scaleY(0.5);        </span><br><span class="line">           &#125;        </span><br><span class="line">           @media only screen and (-webkit-min-device-pixel-ratio:3)&#123;           </span><br><span class="line">           .border_1px:before&#123;</span><br><span class="line">               transeform: scaleY(0.33);        </span><br><span class="line">           &#125;      </span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p><p>这种方式可以满足各种场景，如果需要满足圆角，只需要给伪类也加上 border-radius即可。</p><h2 id="5-4-svg"><a href="#5-4-svg" class="headerlink" title="5.4 svg"></a>5.4 svg</h2><p>上面我们 border-image和 background-image都可以模拟 1px边框，但是使用的都是位图，还需要外部引入。</p><p>借助 PostCSS的 postcss-write-svg我们能直接使用 border-image和 background-image创建 svg的 1px边框：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@svg border_1px &#123;</span><br><span class="line"> height:   2px ;</span><br><span class="line"> @rect&#123;</span><br><span class="line">     fill:var(--color,black);</span><br><span class="line">     width:100%;</span><br><span class="line">     height:50%;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">.example &#123;</span><br><span class="line"> border: 1px solid transparent;</span><br><span class="line"> border-image: svg(border_1px param(--color #00b1ff)) 2 2 stretch;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></p><p>编译后：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">. example &#123;</span><br><span class="line">border :1px solid transparent;</span><br><span class="line"> border -image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; height=&apos;2px&apos;%3E%3Crect fill=&apos;%2300b1ff&apos; width=&apos;100%25&apos; height=&apos;50%25&apos;/%3E%3C/svg%3E&quot;)</span><br></pre></td></tr></table></figure></p><p>上面的方案是大漠在他的文章中推荐使用的，基本可以满足所有场景，而且不需要外部引入，这是我个人比较喜欢的一种方案。</p><h2 id="5-5-viewport"><a href="#5-5-viewport" class="headerlink" title="5.5 viewport"></a>5.5 viewport</h2><p>通过设置缩放，让 CSS像素等于真正的物理像素。</p><p>例如：当设备像素比为 3时，我们将页面缩放 1/3倍，这时 1px等于一个真正的屏幕像素。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const scale = 1 / window.devicePixelRatio;</span><br><span class="line">const viewport = document.querySelector(&apos;meta[name=&quot;viewport&quot;]&apos;);</span><br><span class="line">if (!viewport) &#123;</span><br><span class="line">    viewport = document.createElement(&apos;meta&apos;);</span><br><span class="line">    viewport.setAttribute(&apos;name&apos;, &apos;viewport&apos;);</span><br><span class="line">    window.document.head.appendChild(viewport);</span><br><span class="line">&#125;</span><br><span class="line">viewport.setAttribute(&apos;content&apos;, &apos;width=device-width,user-scalable=no,initial-scale=&apos; + scale + &apos;,maximum-scale=&apos; + scale + &apos;,minimum-scale=&apos;+ scale);</span><br></pre></td></tr></table></figure></p><p>实际上，上面这种方案是早先 flexible采用的方案。</p><p>当然，这样做是要付出代价的，这意味着你页面上所有的布局都要按照物理像素来写。这显然是不现实的，这时，我们可以借助 flexible或 vw、vh来帮助我们进行适配。</p><h1 id="六、移动端适配方案"><a href="#六、移动端适配方案" class="headerlink" title="六、移动端适配方案"></a>六、移动端适配方案</h1><p>尽管我们可以使用设备独立像素来保证各个设备在不同手机上显示的效果类似，但这并不能保证它们显示完全一致，我们需要一种方案来让设计稿得到更完美的适配。</p><h2 id="6-1-flexible方案"><a href="#6-1-flexible方案" class="headerlink" title="6.1 flexible方案"></a>6.1 flexible方案</h2><p>flexible方案是阿里早期开源的一个移动端适配解决方案，引用 flexible后，我们在页面上统一使用 rem来布局。</p><p>它的核心代码非常简单：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// set 1rem = viewWidth / 10</span><br><span class="line">function setRemUnit () &#123;</span><br><span class="line">var rem =docEl  . clientWidth   / 10  docEl .style .ontSize = rem  +&apos;px&apos; &#125;</span><br><span class="line">setRemUnit();</span><br></pre></td></tr></table></figure></p><p>rem 是相对于 html节点的 font-size来做计算的。</p><p>我们通过设置 document.documentElement.style.fontSize就可以统一整个页面的布局标准。</p><p>上面的代码中，将 html节点的 font-size设置为页面 clientWidth(布局视口)的 1/10，即 1rem就等于页面布局视口的 1/10，这就意味着我们后面使用的 rem都是按照页面比例来计算的。</p><p>这时，我们只需要将 UI出的图转换为 rem即可。</p><p>以 iPhone6为例：布局视口为 375px，则 1rem=37.5px，这时 UI给定一个元素的宽为 75px（设备独立像素），我们只需要将它设置为 75/37.5=2rem。</p><p>当然，每个布局都要计算非常繁琐，我们可以借助 PostCSS的 px2rem插件来帮助我们完成这个过程。</p><p>下面的代码可以保证在页面大小变化时，布局可以自适应，当触发了 window的 resize和 pageShow事件之后自动调整 html的 fontSize大小。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// reset rem unit on page resize</span><br><span class="line">window.addEventListener(&apos;resize&apos;, setRemUnit)</span><br><span class="line">window.addEventListener(&apos;pageshow&apos;, function (e) &#123;</span><br><span class="line">    if (e.persisted) &#123;setRemUnit()&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>由于 viewport单位得到众多浏览器的兼容，上面这种方案现在已经被官方弃用：</p><blockquote><p>lib-flexible这个过渡方案已经可以放弃使用，不管是现在的版本还是以前的版本，都存有一定的问题。建议大家开始使用viewport来替代此方案。</p></blockquote><p>下面我们来看看现在最流行的 vh、vw方案。</p><h2 id="6-2-vh-vw方案"><a href="#6-2-vh-vw方案" class="headerlink" title="6.2 vh,vw方案"></a>6.2 vh,vw方案</h2><p>vh、vw方案即将视觉视口宽度 window.innerWidth和视觉视口高度 window.innerHeight 等分为 100 份。</p><p>上面的 flexible方案就是模仿这种方案，因为早些时候 vw还没有得到很好的兼容。</p><ul><li>vw(Viewport’s width)： 1vw等于视觉视口的 1%</li><li>vh(Viewport’s height) : 1vh 为视觉视口高度的 1%</li><li>vmin : vw 和 vh 中的较小值</li><li>vmax : 选取 vw 和 vh 中的较大值<br><img src="/2019/06/03/关于移动端适配，你必须要知道的/18.webp" alt="18"></li></ul><p>如果视觉视口为 375px，那么 1vw=3.75px，这时 UI给定一个元素的宽为 75px（设备独立像素），我们只需要将它设置为 75/3.75=20vw。</p><p>这里的比例关系我们也不用自己换算，我们可以使用 PostCSS的 postcss-px-to-viewport 插件帮我们完成这个过程。写代码时，我们只需要根据 UI给的设计图写 px单位即可。</p><p>当然，没有一种方案是十全十美的， vw同样有一定的缺陷：</p><ul><li>px转换成 vw不一定能完全整除，因此有一定的像素差。</li><li>比如当容器使用 vw， margin采用 px时，很容易造成整体宽度超过 100vw，从而影响布局效果。当然我们也是可以避免的，例如使用 padding代替 margin，结合 calc()函数使用等等…</li></ul><h1 id="七、适配iPhone-X"><a href="#七、适配iPhone-X" class="headerlink" title="七、适配iPhone X"></a>七、适配iPhone X</h1><p>iPhoneX的出现将手机的颜值带上了一个新的高度，它取消了物理按键，改成了底部的小黑条，但是这样的改动给开发者适配移动端又增加了难度。</p><h1 id="7-1-安全区域"><a href="#7-1-安全区域" class="headerlink" title="7.1 安全区域"></a>7.1 安全区域</h1><p>在 iPhoneX发布后，许多厂商相继推出了具有边缘屏幕的手机。</p><p><img src="/2019/06/03/关于移动端适配，你必须要知道的/19.webp" alt="19"></p><p>这些手机和普通手机在外观上无外乎做了三个改动：圆角（ corners）、刘海（ sensor housing）和小黑条（ HomeIndicator）。为了适配这些手机，安全区域这个概念变诞生了：安全区域就是一个不受上面三个效果的可视窗口范围。</p><p>为了保证页面的显示效果，我们必须把页面限制在安全范围内，但是不影响整体效果。</p><h2 id="7-2-viewport-fit"><a href="#7-2-viewport-fit" class="headerlink" title="7.2 viewport-fit"></a>7.2 viewport-fit</h2><p>viewport-fit是专门为了适配 iPhoneX而诞生的一个属性，它用于限制网页如何在安全区域内进行展示。</p><p><img src="/2019/06/03/关于移动端适配，你必须要知道的/20.webp" alt="20"></p><p>contain: 可视窗口完全包含网页内容</p><p>cover：网页内容完全覆盖可视窗口</p><p>默认情况下或者设置为 auto和 contain效果相同。</p><h2 id="7-3-env、constant"><a href="#7-3-env、constant" class="headerlink" title="7.3 env、constant"></a>7.3 env、constant</h2><p><img src="/2019/06/03/关于移动端适配，你必须要知道的/21.webp" alt="21"><br>我们需要将顶部和底部合理的摆放在安全区域内， iOS11新增了两个 CSS函数 env、constant，用于设定安全区域与边界的距离。</p><p>函数内部可以是四个常量：</p><ul><li>safe-area-inset-left：安全区域距离左边边界距离</li><li>safe-area-inset-right：安全区域距离右边边界距离</li><li>safe-area-inset-top：安全区域距离顶部边界距离</li><li>safe-area-inset-bottom：安全区域距离底部边界距离</li></ul><p>注意：我们必须指定 viweport-fit后才能使用这两个函数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;viewport-fit=cover&quot;&gt;</span><br></pre></td></tr></table></figure></p><p>constant在 iOS&lt;11.2的版本中生效， env在 iOS&gt;=11.2的版本中生效，这意味着我们往往要同时设置他们，将页面限制在安全区域内：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">body&#123;</span><br><span class="line">    padding - bottom:constant(safe - area - inset - bottom);</span><br><span class="line">    padding - bottom:env(safe - area - inset - bottom);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当使用底部固定导航栏时，我们要为他们设置 padding值：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    padding - bottom: constant(safe - area - inset - bottom);</span><br><span class="line">    padding - bottom: env(safe - area - inset - bottom);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="八、横屏适配"><a href="#八、横屏适配" class="headerlink" title="八、横屏适配"></a>八、横屏适配</h1><p><img src="/2019/06/03/关于移动端适配，你必须要知道的/22.webp" alt="22"></p><p>很多视口我们要对横屏和竖屏显示不同的布局，所以我们需要检测在不同的场景下给定不同的样式：</p><h2 id="8-1-JavaScript检测横屏"><a href="#8-1-JavaScript检测横屏" class="headerlink" title="8.1 JavaScript检测横屏"></a>8.1 JavaScript检测横屏</h2><p>window.orientation:获取屏幕旋转方向<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener (     &quot;resize&quot;     , ()=&gt;&#123;</span><br><span class="line">    if (window.orientation === 180 || window.orientation === 0) &#123;</span><br><span class="line">            // 正常方向或屏幕旋转180度</span><br><span class="line">        console.log(&apos;竖屏&apos;);</span><br><span class="line">    &#125;;</span><br><span class="line">    if (window.orientation === 90 || window.orientation === -90)&#123;</span><br><span class="line">        // 屏幕顺时钟旋转90度或屏幕逆时针旋转90度</span><br><span class="line">        console.log(&apos;横屏&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><h2 id="8-2-css检测横屏"><a href="#8-2-css检测横屏" class="headerlink" title="8.2 css检测横屏"></a>8.2 css检测横屏</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@mediascreen and(orientation:portrait)&#123;/*竖屏...*/&#125;</span><br><span class="line">@mediascreen and(orientation:landscape)&#123;/*横屏...*/&#125;</span><br></pre></td></tr></table></figure><h1 id="九、图片模糊问题"><a href="#九、图片模糊问题" class="headerlink" title="九、图片模糊问题"></a>九、图片模糊问题</h1><h2 id="9-1-产生原因"><a href="#9-1-产生原因" class="headerlink" title="9.1 产生原因"></a>9.1 产生原因</h2><p>我们平时使用的图片大多数都属于位图（ png、jpg…），位图由一个个像素点构成的，每个像素都具有特定的位置和颜色值：</p><p><img src="/2019/06/03/关于移动端适配，你必须要知道的/23.webp" alt="23"></p><p>理论上，位图的每个像素对应在屏幕上使用一个物理像素来渲染，才能达到最佳的显示效果。</p><p>而在 dpr&gt;1的屏幕上，位图的一个像素可能由多个物理像素来渲染，然而这些物理像素点并不能被准确的分配上对应位图像素的颜色，只能取近似值，所以相同的图片在 dpr&gt;1的屏幕上就会模糊:</p><p><img src="/2019/06/03/关于移动端适配，你必须要知道的/24.webp" alt="24"></p><h2 id="9-2-解决方案"><a href="#9-2-解决方案" class="headerlink" title="9.2 解决方案"></a>9.2 解决方案</h2><p>为了保证图片质量，我们应该尽可能让一个屏幕像素来渲染一个图片像素，所以，针对不同 DPR的屏幕，我们需要展示不同分辨率的图片。</p><p>如：在 dpr=2的屏幕上展示两倍图 (@2x)，在 dpr=3的屏幕上展示三倍图 (@3x)。<br><img src="/2019/06/03/关于移动端适配，你必须要知道的/25.webp" alt="25"></p><h2 id="9-3-media查询"><a href="#9-3-media查询" class="headerlink" title="9.3 media查询"></a>9.3 media查询</h2><p>使用 media查询判断不同的设备像素比来显示不同精度的图片：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.avatar&#123;</span><br><span class="line">    background - image:url(conardLi_1x         .         png);</span><br><span class="line">&#125;</span><br><span class="line">@mediaonly screenand(-webkit - min - device - pixel - ratio:2)&#123;</span><br><span class="line">.avatar&#123;</span><br><span class="line">        background - image:url(conardLi_2x.png);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">@mediaonly screenand(-webkit - min - device - pixel - ratio:3)&#123;</span><br><span class="line">.avatar&#123;</span><br><span class="line">    background - image:url(conardLi_3x.png);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>只适用于背景图</p></blockquote><h2 id="9-4-image-set"><a href="#9-4-image-set" class="headerlink" title="9.4 image-set"></a>9.4 image-set</h2><p>使用 image-set：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.avatar&#123;</span><br><span class="line">    background - image:-webkit - image - set(&quot;conardLi_1x.png&quot;1x, &quot;conardLi_2x.png&quot;2x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><blockquote><p>只适用于背景图</p></blockquote><h2 id="9-5-srcset"><a href="#9-5-srcset" class="headerlink" title="9.5 srcset"></a>9.5 srcset</h2><p>使用 img标签的 srcset属性，浏览器会自动根据像素密度匹配最佳显示图片：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;conardLi_1x.png&quot; srcSet=&quot; conardLi_2x.png 2x, conardLi_3x.png 3x&quot;&gt;</span><br></pre></td></tr></table></figure></p><h2 id="9-6-JavaScript拼接图片url"><a href="#9-6-JavaScript拼接图片url" class="headerlink" title="9.6 JavaScript拼接图片url"></a>9.6 JavaScript拼接图片url</h2><p>使用 window.devicePixelRatio获取设备像素比，遍历所有图片，替换图片地址：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const dpr = window.devicePixelRatio;</span><br><span class="line">const images = document.querySelectorAll(&apos;img&apos;);</span><br><span class="line">images.forEach((img)=&gt;&#123;</span><br><span class="line">        img.src.replace(&quot;.&quot;, `@$&#123;dpr&#125;x.`);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="9-7-使用svg"><a href="#9-7-使用svg" class="headerlink" title="9.7 使用svg"></a>9.7 使用svg</h2><p>SVG的全称是可缩放矢量图（ ScalableVectorGraphics）。不同于位图的基于像素， SVG 则是属于对图像的形状描述，所以它本质上是文本文件，体积较小，且不管放大多少倍都不会失真。</p><p><img src="/2019/06/03/关于移动端适配，你必须要知道的/26.webp" alt="26"><br>除了我们手动在代码中绘制 svg，我们还可以像使用位图一样使用 svg图片：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;conardLi.svg&quot;&gt;</span><br><span class="line">&lt;img src=&quot;data:image/svg+xml;base64,[data]&quot;&gt;</span><br><span class="line">.avatar&#123;</span><br><span class="line">    background:url(conardLi.svg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>学会这两件事，让你成为Git老司机</title>
      <link href="/2019/02/13/%E5%AD%A6%E4%BC%9A%E8%BF%99%E4%B8%A4%E4%BB%B6%E4%BA%8B%EF%BC%8C%E8%AE%A9%E4%BD%A0%E6%88%90%E4%B8%BAGit%E8%80%81%E5%8F%B8%E6%9C%BA/"/>
      <url>/2019/02/13/%E5%AD%A6%E4%BC%9A%E8%BF%99%E4%B8%A4%E4%BB%B6%E4%BA%8B%EF%BC%8C%E8%AE%A9%E4%BD%A0%E6%88%90%E4%B8%BAGit%E8%80%81%E5%8F%B8%E6%9C%BA/</url>
      <content type="html"><![CDATA[<p>学会这两件事，让你成为 Git 老司机(这个文章的原文我找不到了，没有办法给各位放上原文链接了)</p><p><img src="/2019/02/13/学会这两件事，让你成为Git老司机/00.jpg" alt="00"></p><p>我在提交中犯了个错误，我如何修正它？<br>我的提交历史一团糟，我该如何让它更整洁？</p><p>如果你曾经有上述问题，那么这篇文章很适合你。这篇文章介绍了一个让你成为 Git 老司机的清单。<br><a id="more"></a></p><blockquote><p>我在提交中犯了个错误，我该怎么办？</p></blockquote><p><img src="/2019/02/13/学会这两件事，让你成为Git老司机/error.jpg" alt="00"></p><h3 id="情景-1"><a href="#情景-1" class="headerlink" title="情景 1"></a>情景 1</h3><p>假设你已经提交了一堆文件，并发现输入的提交信息实际上并不清晰。现在你要更改提交消息。为此，你可以使用 git commit –amend：</p><p><code>git commit --amend -m “New commit message”</code></p><h3 id="场景-2"><a href="#场景-2" class="headerlink" title="场景 2"></a>场景 2</h3><p>假设你要提交六个文件，但你最终错误地只提交了五个文件。你可能认为可以创建新提交并将第六个文件添加到该提交。<br>这种方法没错。但是，为了保持整洁的提交历史，如果你可以以某种方式将此文件加入到你之前的提交本身，那岂不是更好？这也可以通过 git commit –amend 完成：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add file6</span><br><span class="line">git commit --amend --no-edit</span><br></pre></td></tr></table></figure><p>–no-edit 表示提交信息不会更改。</p><h3 id="场景-3"><a href="#场景-3" class="headerlink" title="场景 3"></a>场景 3</h3><p>无论你何时在 Git 进行提交，提交都会附上作者名称和作者电子邮箱。通常，当你第一次配置 Git 时，就需要设置作者和电子邮箱。你无需担心每次提交的作者详细信息。<br>也就是说，对于特定项目，你可能希望使用不同的电子邮箱 ID。你需要使用以下命令为该项目配置电子邮箱 ID：</p><p><code>git config user.email “your email id”</code></p><p>假设你忘记配置电子邮箱，并且已经完成了第一次提交。amend 命令也可以用于更改先前提交的作者消息。可以使用以下命令更改提交的作者信息：</p><p><code>git commit --amend --author &quot;Author Name &lt;Author Email&gt;&quot;</code></p><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><p>应该仅在本地仓库使用 amend 命令。在远端仓库使用 amend 命令会制造大量混乱。</p><blockquote><p>我的提交历史一团糟，我该如何处理？</p></blockquote><p>假设你正在处理一段代码。你知道代码大约需要十天完成。在这十天内，其他开发人员也将提交代码到远程仓库。<br>将本地仓库代码与远程仓库代码保持同步是个很好的做法。这在你拉取请求时会避免许多合并冲突的操作。因此，你应该每两天从远程仓库中拉取一个变更。<br>每次将代码从远程仓库拉取到本地仓库时，都会在本地操作中创建新的合并提交。这意味着你的本地历史提交记录会有大量的合并提交，这会让审阅人员头大。</p><p><img src="/2019/02/13/学会这两件事，让你成为Git老司机/01.jpg" alt="01"></p><p>上面是历史提交记录在本地仓库中的显示方式。</p><h4 id="如何让历史提交记录看起来更整洁？"><a href="#如何让历史提交记录看起来更整洁？" class="headerlink" title="如何让历史提交记录看起来更整洁？"></a>如何让历史提交记录看起来更整洁？</h4><p>这就需要用到 rebase 了。</p><p>什么是变基（rebase）？</p><h3 id="举个🌰"><a href="#举个🌰" class="headerlink" title="举个🌰"></a>举个🌰</h3><p><img src="/2019/02/13/学会这两件事，让你成为Git老司机/02.jpg" alt="02"></p><p>此图显示了发布（release）分支和功能（feature）分支中的提交。<br>1.发布分支有三个提交：Rcommit1、Rcommit2 和 Rcommit3。<br>2.你在发布分支中仅有一个提交（即 Rcommit1）时，创建了功能分支。<br>3.你已向功能分支添加了两个提交。它们是 Fcommit1 和 Fcommit2。<br>4.你希望从发布分支提交到功能分支中。<br>5.你可以使用变基来完成该操作。<br>6.让发布分支命名为 release，让功能分支命名为 feature。<br>7.可以使用以下命令进行变基：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout feature</span><br><span class="line">git rebase release</span><br></pre></td></tr></table></figure></p><h3 id="变基（rebase）"><a href="#变基（rebase）" class="headerlink" title="变基（rebase）"></a>变基（rebase）</h3><p>当执行变基时，你的目标是确保功能分支从发布分支获取最新代码。<br>变基命令尝试逐个添加每个提交，并检查冲突。这听起来是不是有点头大？<br>让我画个图帮助理解。<br>这显示了变基内部实际做的事情：</p><p><img src="/2019/02/13/学会这两件事，让你成为Git老司机/03.jpg" alt="03"></p><p>第 1 步</p><pre><code>1.运行该命令的那一刻，功能分支指向发布分支的头部。2.现在，功能分支有三个提交，Rcommit1、Rcommit2 和 Rcommit3。3.你可能想知道 Rcommit1 和 Rcommit2 发生了什么？4.提交仍然存在，将在下面步骤中使用。</code></pre><p>第 2 步</p><pre><code>1.现在 Git 尝试将 Fcommit1 添加到功能分支上。2.如果没有冲突，则在 Rcommit3 之后添加 Fcommit1；3.如果存在冲突，Git 会通知你，你必须手动解决冲突。解决冲突后，使用以下命令继续变基：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add fixedfile</span><br><span class="line">git rebase --continue</span><br></pre></td></tr></table></figure></code></pre><p>第 3 步</p><pre><code>1.一旦添加了 Fcommit1，Git 将尝试添加 Fcommit2。2.同样，如果没有冲突，则在 Fcommit1 之后添加 Fcommit2，并且变基成功。3.如果存在冲突，Git 会通知你，你必须手动解决。解决冲突后，使用第 2 步提到的相同命令。4.整个变基完成后，你会发现功能分支有 Rcommit1、Rcommit2、Rcommit3、Fcommit1 和 Fcommit2。</code></pre><h3 id="注意事项-1"><a href="#注意事项-1" class="headerlink" title="注意事项"></a>注意事项</h3><blockquote><p>1.变基和合并（merge）在 Git 中都很有用。两种并无优劣之分。<br>2.在合并的情况下，你将有个合并提交。在变基的情况下，不会像合并提交那样有额外的提交。<br>3.一种最佳的实践是一分为二。使用远端仓库中的最新代码更新本地仓库时，请使用变基。在处理拉取请求，以将功能分支和发布分支或主分支合并时，请使用合并。<br>4.将功能分支和发布分支或主分支合并时，请使用合并。使用变基会更改历史提交记录（使其更整洁）。但话虽如此，改变历史提交存在风险。因此，请确保永远不要对远程存储仓库的代码使用变基。始终仅对本地仓库代码使用变基，来更改历史提交记录。<br>5.如果对远端仓库进行变基，会制造许多混乱，因为其他开发人员无法识别新的历史记录。<br>6.此外，如果在远端仓库上完成变基，则当其他开发人员尝试从远端仓库中拉取最新代码时，就可能会出问题。所以，我再重申一遍，变基总是仅在本地仓库中进行。😃</p></blockquote><p>恭喜</p><p>你现在是个 Git 老司机了。😃</p><p>在这篇文章中，你了解到：</p><ul><li>修改提交记录</li><li>变基</li></ul><p>这两个都是非常实用的概念。探索 Git 的世界，继续学习吧。</p>]]></content>
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Object.keys方法之详解</title>
      <link href="/2019/02/11/Object-keys%E6%96%B9%E6%B3%95%E4%B9%8B%E8%AF%A6%E8%A7%A3/"/>
      <url>/2019/02/11/Object-keys%E6%96%B9%E6%B3%95%E4%B9%8B%E8%AF%A6%E8%A7%A3/</url>
      <content type="html"><![CDATA[<p>本文转自 <a href="https://blog.csdn.net/suwu150/article/details/60965257" target="_blank" rel="noopener">Object.keys方法之详解</a>.</p><p><img src="/2019/02/11/Object-keys方法之详解/object.jpg" alt="Object.keys方法之详解"><br><a id="more"></a></p><h1 id="Object-keys方法之详解"><a href="#Object-keys方法之详解" class="headerlink" title="Object.keys方法之详解"></a>Object.keys方法之详解</h1><p>   在实际开发中，我们有时需要知道对象的所有属性，原生js给我们提供了一个很好的方法：Object.keys()，该方法返回一个数组,其中这个数组的内容就是这个对象的所有键值</p><p>传入对象，返回属性名</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;&apos;a&apos;:&apos;123&apos;,&apos;b&apos;:&apos;345&apos;&#125;;</span><br><span class="line">console.log(Object.keys(obj));  //[&apos;a&apos;,&apos;b&apos;]</span><br><span class="line"></span><br><span class="line">var obj1 = &#123; 100: &quot;a&quot;, 2: &quot;b&quot;, 7: &quot;c&quot;&#125;;</span><br><span class="line">console.log(Object.keys(obj1)); // console: [&quot;2&quot;, &quot;7&quot;, &quot;100&quot;]</span><br><span class="line"></span><br><span class="line">var obj2 = Object.create(&#123;&#125;, &#123; getFoo : &#123; value : function () &#123; return this.foo &#125; &#125; &#125;);</span><br><span class="line">obj2.foo = 1;</span><br><span class="line">console.log(Object.keys(obj2)); // console: [&quot;foo&quot;]</span><br></pre></td></tr></table></figure><p>传入字符串，返回索引</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var str = &apos;ab1234&apos;;</span><br><span class="line">console.log(Object.keys(str));  //[0,1,2,3,4,5]</span><br></pre></td></tr></table></figure><p>如果我们想要获取字符串中的某一个值,那么我们就可以通过下面的方法获取:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var str = &apos;ab1234&apos;;</span><br><span class="line">console.log(Object.keys(str));  //[0,1,2,3,4,5]</span><br><span class="line"></span><br><span class="line">Object.keys(str).map(function (index) &#123;</span><br><span class="line">  console.log(str[index]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>获取的结果如下面所示:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[ &apos;0&apos;, &apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos; ]</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td></tr></table></figure></p><p>我们可以进行自己的处理</p><p>构造函数 返回空数组或者属性名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function Pasta(name, age, gender) &#123;</span><br><span class="line">        this.name = name;</span><br><span class="line">        this.age = age;</span><br><span class="line">        this.gender = gender;</span><br><span class="line">        this.toString = function () &#123;</span><br><span class="line">                return (this.name + &quot;, &quot; + this.age + &quot;, &quot; + this.gender);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">console.log(Object.keys(Pasta)); //console: []</span><br><span class="line">var spaghetti = new Pasta(&quot;Tom&quot;, 20, &quot;male&quot;);</span><br><span class="line">console.log(Object.keys(spaghetti)); //console: [&quot;name&quot;, &quot;age&quot;, &quot;gender&quot;, &quot;toString&quot;]</span><br></pre></td></tr></table></figure></p><p>数组 返回索引<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var arr = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];</span><br><span class="line">console.log(Object.keys(arr)); // console: [&quot;0&quot;, &quot;1&quot;, &quot;2&quot;]</span><br></pre></td></tr></table></figure></p><h1 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h1><p>In ES5, if the argument to this method is not an object (a primitive), then it will cause a TypeError. In ES6, a non-object argument will be coerced to an object.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Object.keys(&quot;foo&quot;);</span><br><span class="line">// TypeError: &quot;foo&quot; is not an object (ES5 code)</span><br><span class="line"></span><br><span class="line">Object.keys(&quot;foo&quot;);</span><br><span class="line">// [&quot;0&quot;, &quot;1&quot;, &quot;2&quot;]                   (ES6 code)</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>JavaScript instanceof 运算符深入剖析</title>
      <link href="/2018/11/13/JavaScript-instanceof-%E8%BF%90%E7%AE%97%E7%AC%A6%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90/"/>
      <url>/2018/11/13/JavaScript-instanceof-%E8%BF%90%E7%AE%97%E7%AC%A6%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90/</url>
      <content type="html"><![CDATA[<p>本文转自 <a href="https://www.ibm.com/developerworks/cn/web/1306_jiangjj_jsinstanceof/index.html" target="_blank" rel="noopener">IBM developerWorks  姜 俊杰</a>。因自认为讲解的非常好，所以copy一份！</p><p><img src="/2018/11/13/JavaScript-instanceof-运算符深入剖析/intanceof.jpg" alt="intanceof"><br><a id="more"></a></p><h1 id="instanceof-运算符简介"><a href="#instanceof-运算符简介" class="headerlink" title="instanceof 运算符简介"></a>instanceof 运算符简介</h1><p>在 JavaScript 中，判断一个变量的类型尝尝会用 typeof 运算符，在使用 typeof 运算符时采用引用类型存储值会出现一个问题，无论引用的是什么类型的对象，它都返回 “object”。ECMAScript 引入了另一个 Java 运算符 instanceof 来解决这个问题。instanceof 运算符与 typeof 运算符相似，用于识别正在处理的对象的类型。与 typeof 方法不同的是，instanceof 方法要求开发者明确地确认对象为某特定类型。例如：</p><p>清单 1. instanceof 示例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var oStringObject = new String(&quot;hello world&quot;);</span><br><span class="line">console.log(oStringObject instanceof String);   // 输出 &quot;true&quot;</span><br></pre></td></tr></table></figure></p><p>这段代码问的是“变量 oStringObject 是否为 String 对象的实例？”oStringObject 的确是 String 对象的实例，因此结果是”true”。尽管不像 typeof 方法那样灵活，但是在 typeof 方法返回 “object” 的情况下，instanceof 方法还是很有用的。</p><h1 id="instanceof-运算符的常规用法"><a href="#instanceof-运算符的常规用法" class="headerlink" title="instanceof 运算符的常规用法"></a>instanceof 运算符的常规用法</h1><p>通常来讲，使用 instanceof 就是判断一个实例是否属于某种类型。例如：</p><p>清单 2. instanceof 常规用法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 判断 foo 是否是 Foo 类的实例</span><br><span class="line">function Foo()&#123;&#125;</span><br><span class="line">var foo = new Foo();</span><br><span class="line">console.log(foo instanceof Foo)//true</span><br></pre></td></tr></table></figure></p><p>另外，更重的一点是 instanceof 可以在继承关系中用来判断一个实例是否属于它的父类型。例如：</p><p>清单 3. instanceof 在继承中关系中的用法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 判断 foo 是否是 Foo 类的实例 , 并且是否是其父类型的实例</span><br><span class="line">function Aoo()&#123;&#125;</span><br><span class="line">function Foo()&#123;&#125;</span><br><span class="line">Foo.prototype = new Aoo();//JavaScript 原型继承</span><br><span class="line"></span><br><span class="line">var foo = new Foo();</span><br><span class="line">console.log(foo instanceof Foo)//true</span><br><span class="line">console.log(foo instanceof Aoo)//true</span><br></pre></td></tr></table></figure></p><p>上面的代码中是判断了一层继承关系中的父类，在多层继承关系中，instanceof 运算符同样适用。</p><h1 id="真的了解-instanceof-操作符吗？"><a href="#真的了解-instanceof-操作符吗？" class="headerlink" title="真的了解 instanceof 操作符吗？"></a>真的了解 instanceof 操作符吗？</h1><p>看了上面的代码示例，是不是觉得 instanceof 操作符很简单，下面来看点复杂的用法。</p><p>清单 4. instanceof 复杂用法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">console.log(Object instanceof Object);//true</span><br><span class="line">console.log(Function instanceof Function);//true</span><br><span class="line">console.log(Number instanceof Number);//false</span><br><span class="line">console.log(String instanceof String);//false</span><br><span class="line"></span><br><span class="line">console.log(Function instanceof Object);//true</span><br><span class="line"></span><br><span class="line">console.log(Foo instanceof Function);//true</span><br><span class="line">console.log(Foo instanceof Foo);//false</span><br></pre></td></tr></table></figure></p><p>看了上面的代码是不是又晕头转向了？为什么 Object 和 Function instanceof 自己等于 true，而其他类 instanceof 自己却又不等于 true 呢？如何解释？要想从根本上了解 instanceof 的奥秘，需要从两个方面着手：1，语言规范中是如何定义这个运算符的。2，JavaScript 原型继承机制。</p><h1 id="详细剖析-ECMAScript-262-edition-3-中-instanceof-运算符的定义"><a href="#详细剖析-ECMAScript-262-edition-3-中-instanceof-运算符的定义" class="headerlink" title="详细剖析 ECMAScript-262 edition 3 中 instanceof 运算符的定义"></a>详细剖析 ECMAScript-262 edition 3 中 instanceof 运算符的定义</h1><p>语言规范对中 instanceof 运算符的定义如下：</p><p>清单 5. 规范中 instanceof 运算符定义<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">11.8.6 The instanceof operator</span><br><span class="line"> The production RelationalExpression:</span><br><span class="line">     RelationalExpression instanceof ShiftExpression is evaluated as follows:</span><br><span class="line"></span><br><span class="line"> 1. Evaluate RelationalExpression.</span><br><span class="line"> 2. Call GetValue(Result(1)).// 调用 GetValue 方法得到 Result(1) 的值，设为 Result(2)</span><br><span class="line"> 3. Evaluate ShiftExpression.</span><br><span class="line"> 4. Call GetValue(Result(3)).// 同理，这里设为 Result(4)</span><br><span class="line"> 5. If Result(4) is not an object, throw a TypeError exception.// 如果 Result(4) 不是 object，</span><br><span class="line">                                                                //抛出异常</span><br><span class="line"> /* 如果 Result(4) 没有 [[HasInstance]] 方法，抛出异常。规范中的所有 [[...]] 方法或者属性都是内部的，</span><br><span class="line">在 JavaScript 中不能直接使用。并且规范中说明，只有 Function 对象实现了 [[HasInstance]] 方法。</span><br><span class="line">所以这里可以简单的理解为：如果 Result(4) 不是 Function 对象，抛出异常 */</span><br><span class="line"> 6. If Result(4) does not have a [[HasInstance]] method,</span><br><span class="line">   throw a TypeError exception.</span><br><span class="line"> // 相当于这样调用：Result(4).[[HasInstance]](Result(2))</span><br><span class="line"> 7. Call the [[HasInstance]] method of Result(4) with parameter Result(2).</span><br><span class="line"> 8. Return Result(7).</span><br><span class="line"></span><br><span class="line"> // 相关的 HasInstance 方法定义</span><br><span class="line"> 15.3.5.3 [[HasInstance]] (V)</span><br><span class="line"> Assume F is a Function object.// 这里 F 就是上面的 Result(4)，V 是 Result(2)</span><br><span class="line"> When the [[HasInstance]] method of F is called with value V,</span><br><span class="line">     the following steps are taken:</span><br><span class="line"> 1. If V is not an object, return false.// 如果 V 不是 object，直接返回 false</span><br><span class="line"> 2. Call the [[Get]] method of F with property name &quot;prototype&quot;.// 用 [[Get]] 方法取</span><br><span class="line">                                                                // F 的 prototype 属性</span><br><span class="line"> 3. Let O be Result(2).//O = F.[[Get]](&quot;prototype&quot;)</span><br><span class="line"> 4. If O is not an object, throw a TypeError exception.</span><br><span class="line"> 5. Let V be the value of the [[Prototype]] property of V.//V = V.[[Prototype]]</span><br><span class="line"> 6. If V is null, return false.</span><br><span class="line"> // 这里是关键，如果 O 和 V 引用的是同一个对象，则返回 true；否则，到 Step 8 返回 Step 5 继续循环</span><br><span class="line"> 7. If O and V refer to the same object or if they refer to objects</span><br><span class="line">   joined to each other (section 13.1.2), return true.</span><br><span class="line"> 8. Go to step 5.</span><br></pre></td></tr></table></figure></p><p>上面的规范定义很晦涩，而且看起来比较复杂，涉及到很多概念，但把这段规范翻译成 JavaScript 代码却很简单，如下：</p><p>清单 6. JavaScript instanceof 运算符代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function instance_of(L, R) &#123;//L 表示左表达式，R 表示右表达式</span><br><span class="line"> var O = R.prototype;// 取 R 的显示原型</span><br><span class="line"> L = L.__proto__;// 取 L 的隐式原型</span><br><span class="line"> while (true) &#123;</span><br><span class="line">   if (L === null)</span><br><span class="line">     return false;</span><br><span class="line">   if (O === L)// 这里重点：当 O 严格等于 L 时，返回 true</span><br><span class="line">     return true;</span><br><span class="line">   L = L.__proto__;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="JavaScript-原型继承机制"><a href="#JavaScript-原型继承机制" class="headerlink" title="JavaScript 原型继承机制"></a>JavaScript 原型继承机制</h1><p>由于本文主要集中在剖析 JavaScript instanceof 运算符，所以对于 JavaScript 的原型继承机制不再做详细的讲解，下面参考来自 <a href="http://www.mollypages.org/misc/js.mp" target="_blank" rel="noopener">http://www.mollypages.org/misc/js.mp</a> 的一张图片，此图片详细的描述了 JavaScript 各种对象的显示和隐式原型链结构。</p><p>由其本文涉及显示原型和隐式原型，所以下面对这两个概念作一下简单说明。在 JavaScript 原型继承结构里面，规范中用 [[Prototype]] 表示对象隐式的原型，在 JavaScript 中用 <strong>proto</strong> 表示，并且在 Firefox 和 Chrome 浏览器中是可以访问得到这个属性的，但是 IE 下不行。所有 JavaScript 对象都有 <strong>proto</strong> 属性，但只有 Object.prototype.<strong>proto</strong> 为 null，前提是没有在 Firefox 或者 Chrome 下修改过这个属性。这个属性指向它的原型对象。 至于显示的原型，在 JavaScript 里用 prototype 属性表示，这个是 JavaScript 原型继承的基础知识，在这里就不在叙述了。</p><p>图 1. JavaScript 原型链</p><p><img src="/2018/11/13/JavaScript-instanceof-运算符深入剖析/原型链.jpg" alt="原型链"></p><h1 id="讲解-instanceof-复杂用法"><a href="#讲解-instanceof-复杂用法" class="headerlink" title="讲解 instanceof 复杂用法"></a>讲解 instanceof 复杂用法</h1><p>有了上面 instanceof 运算符的 JavaScript 代码和原型继承图，再来理解 instanceof 运算符将易如反掌。下面将详细讲解 Object instanceof Object，Function instanceof Function 和 Foo instanceof Foo 三个示例，其它示例读者可自行推演。</p><p>清单 7. Object instanceof Object<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 为了方便表述，首先区分左侧表达式和右侧表达式</span><br><span class="line">ObjectL = Object, ObjectR = Object;</span><br><span class="line">// 下面根据规范逐步推演</span><br><span class="line">O = ObjectR.prototype = Object.prototype</span><br><span class="line">L = ObjectL.__proto__ = Function.prototype</span><br><span class="line">// 第一次判断</span><br><span class="line">O != L</span><br><span class="line">// 循环查找 L 是否还有 __proto__</span><br><span class="line">L = Function.prototype.__proto__ = Object.prototype</span><br><span class="line">// 第二次判断</span><br><span class="line">O == L</span><br><span class="line">// 返回 true</span><br></pre></td></tr></table></figure></p><p>清单 8. Function instanceof Function<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 为了方便表述，首先区分左侧表达式和右侧表达式</span><br><span class="line">FunctionL = Function, FunctionR = Function;</span><br><span class="line">// 下面根据规范逐步推演</span><br><span class="line">O = FunctionR.prototype = Function.prototype</span><br><span class="line">L = FunctionL.__proto__ = Function.prototype</span><br><span class="line">// 第一次判断</span><br><span class="line">O == L</span><br><span class="line">// 返回 true</span><br></pre></td></tr></table></figure></p><p>清单 9. Foo instanceof Foo<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// 为了方便表述，首先区分左侧表达式和右侧表达式</span><br><span class="line">FooL = Foo, FooR = Foo;</span><br><span class="line">// 下面根据规范逐步推演</span><br><span class="line">O = FooR.prototype = Foo.prototype</span><br><span class="line">L = FooL.__proto__ = Function.prototype</span><br><span class="line">// 第一次判断</span><br><span class="line">O != L</span><br><span class="line">// 循环再次查找 L 是否还有 __proto__</span><br><span class="line">L = Function.prototype.__proto__ = Object.prototype</span><br><span class="line">// 第二次判断</span><br><span class="line">O != L</span><br><span class="line">// 再次循环查找 L 是否还有 __proto__</span><br><span class="line">L = Object.prototype.__proto__ = null</span><br><span class="line">// 第三次判断</span><br><span class="line">L == null</span><br><span class="line">// 返回 false</span><br></pre></td></tr></table></figure></p><h1 id="简析-instanceof-在-Dojo-继承机制中的应用"><a href="#简析-instanceof-在-Dojo-继承机制中的应用" class="headerlink" title="简析 instanceof 在 Dojo 继承机制中的应用"></a>简析 instanceof 在 Dojo 继承机制中的应用</h1><p>在 JavaScript 中，是没有多重继承这个概念的，就像 Java 一样。但在 Dojo 中使用 declare 声明类时，是允许继承自多个类的。下面以 Dojo 1.6.1 为例。</p><p>清单 10. Dojo 中多重继承<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">dojo.declare(&quot;Aoo&quot;,null,&#123;&#125;);</span><br><span class="line">dojo.declare(&quot;Boo&quot;,null,&#123;&#125;);</span><br><span class="line">dojo.declare(&quot;Foo&quot;,[Aoo,Boo],&#123;&#125;);</span><br><span class="line"></span><br><span class="line">var foo = new Foo();</span><br><span class="line">console.log(foo instanceof Aoo);//true</span><br><span class="line">console.log(foo instanceof Boo);//false</span><br><span class="line"></span><br><span class="line">console.log(foo.isInstanceOf(Aoo));//true</span><br><span class="line">console.log(foo.isInstanceOf(Boo));//true</span><br></pre></td></tr></table></figure></p><p>上面的示例中，Foo 同时继承自 Aoo 和 Boo，但当使用 instanceof 运算符来检查 foo 是否是 Boo 的实例时，返回的是 false。实际上，在 Dojo 的内部，Foo 仍然只继承自 Aoo，而通过 mixin 机制把 Boo 类中的方法和属性拷贝到 Foo 中，所以当用 instanceof 运算符来检查是否是 Boo 的实例时，会返回 false。所以 Dojo 为每个类的实例添加了一个新的方法叫 isInstanceOf，用这个方法来检查多重继承。</p>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>跟随鼠标移动的狗狗</title>
      <link href="/2018/09/24/%E8%B7%9F%E9%9A%8F%E9%BC%A0%E6%A0%87%E7%A7%BB%E5%8A%A8%E7%9A%84%E7%8B%97%E7%8B%97/"/>
      <url>/2018/09/24/%E8%B7%9F%E9%9A%8F%E9%BC%A0%E6%A0%87%E7%A7%BB%E5%8A%A8%E7%9A%84%E7%8B%97%E7%8B%97/</url>
      <content type="html"><![CDATA[<p> 今天是2018年的中秋佳节，在这里先祝福大家：千好万好事事好，月圆情圆人团圆！</p><p> 因为下载了一个screenToGif软件，录制gif动图停不下来</p><h1 id="跟随鼠标移动的小狗狗"><a href="#跟随鼠标移动的小狗狗" class="headerlink" title="跟随鼠标移动的小狗狗"></a>跟随鼠标移动的小狗狗</h1><h2 id="js"><a href="#js" class="headerlink" title="js"></a>js</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line">!function()&#123;</span><br><span class="line">        class DogAnimation &#123;</span><br><span class="line">            constructor (canvas) &#123;</span><br><span class="line">                this.canvas = canvas;</span><br><span class="line">                canvas.width = window.innerWidth;</span><br><span class="line">                window.onresize = () =&gt; canvas.width = window.innerWidth;</span><br><span class="line">                canvas.height = 200;</span><br><span class="line">                //记录上一帧的时间</span><br><span class="line">                this.lastWalkingTime = Date.now();</span><br><span class="line">                //记录当前画的图片的索引</span><br><span class="line">                this.keyFrameIndex = -1;</span><br><span class="line">                this.ctx = this.canvas.getContext(&quot;2d&quot;);</span><br><span class="line">                //图片目录</span><br><span class="line">                this.RES_PATH = &quot;./dog&quot;;</span><br><span class="line">                this.IMG_COUNT = 8;</span><br><span class="line">                this.dog = &#123;</span><br><span class="line">                    //一步10px</span><br><span class="line">                    stepDistance: 9,</span><br><span class="line">                    //小狗的速度</span><br><span class="line">                    speed: 0.15,</span><br><span class="line">                    //鼠标的x坐标</span><br><span class="line">                    mouseX: -1,</span><br><span class="line">                    //往前走停留的位置</span><br><span class="line">                    frontStopX: -1,</span><br><span class="line">                    //往回走停留的位置</span><br><span class="line">                    backStopX: window.innerWidth,</span><br><span class="line">                &#125;;</span><br><span class="line">            &#125;</span><br><span class="line">            async start () &#123;</span><br><span class="line">            //等待志愿加载完</span><br><span class="line">            await this.loadResources();</span><br><span class="line">            this.pictureWidth = this.dogPictures[0].naturalWidth / 2;</span><br><span class="line">            this.dog.mouseX = window.innerWidth - this.pictureWidth;</span><br><span class="line">            this.recordMousePosition();</span><br><span class="line">            window.requestAnimationFrame(this.walk.bind(this));</span><br><span class="line">        &#125;</span><br><span class="line">            //记录鼠标位置</span><br><span class="line">            recordMousePosition() &#123;</span><br><span class="line">                window.addEventListener(&quot;mousemove&quot;, event =&gt; &#123;</span><br><span class="line">                    //如果没有剪掉图片的宽度，小狗就跑到鼠标后面去了，因为图片的宽度还要占去空间</span><br><span class="line">                        this.dog.frontStopX = event.clientX - this.pictureWidth;</span><br><span class="line">                this.dog.backStopX = event.clientX;</span><br><span class="line">            &#125;);</span><br><span class="line">                window.addEventListener(&quot;touchstart&quot;, event =&gt; &#123;</span><br><span class="line">                    this.dog.frontStopX = event.touches[0].clientX</span><br><span class="line">                    - this.pictureWidth;</span><br><span class="line">                this.dog.backStopX = event.touches[0].clientX;</span><br><span class="line">            &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">            //加载图片</span><br><span class="line">            loadResources () &#123;</span><br><span class="line">                //存放加载后狗的图片</span><br><span class="line">                let imagesPath = [];</span><br><span class="line">                //准备图片的src</span><br><span class="line">                for (let i = 0; i &lt;= this.IMG_COUNT; i++) &#123;</span><br><span class="line">                    imagesPath.push(`$&#123;this.RES_PATH&#125;/$&#123;i&#125;.png`);</span><br><span class="line">                &#125;</span><br><span class="line">                let works = [];</span><br><span class="line">                imagesPath.forEach(imgPath =&gt; &#123;</span><br><span class="line">                    //图片加载完成后触发Promise和resolve</span><br><span class="line">                    works.push(new Promise(resolve =&gt; &#123;</span><br><span class="line">                        let img = new Image();</span><br><span class="line">                img.onload = () =&gt; resolve(img);</span><br><span class="line">                img.src = imgPath;</span><br><span class="line">            &#125;));</span><br><span class="line">            &#125;);</span><br><span class="line">                return new Promise(resolve =&gt; &#123;</span><br><span class="line">                    //借助Promise.all知道了所有图片都加载好了</span><br><span class="line">                    Promise.all(works).then(dogPictures =&gt; &#123;</span><br><span class="line">                    this.dogPictures = dogPictures;</span><br><span class="line">                resolve();</span><br><span class="line">            &#125;);</span><br><span class="line">            &#125;);//这里再套一个Promise是为了让调用者能够知道处理好了</span><br><span class="line">            &#125;</span><br><span class="line">            walk () &#123;</span><br><span class="line">                let now = Date.now();</span><br><span class="line">                //计算位移 = 时间 * 速度</span><br><span class="line">                let diffDistance = (now - this.lastWalkingTime)</span><br><span class="line">                    * this.dog.speed;</span><br><span class="line">                if (diffDistance &lt; this.dog.stepDistance) &#123;</span><br><span class="line">                    //给下一帧注册一个函数</span><br><span class="line">                    window.requestAnimationFrame(this.walk.bind(this));</span><br><span class="line">                    return;</span><br><span class="line">                &#125;</span><br><span class="line">                //获取下一张图片的索引</span><br><span class="line">                this.keyFrameIndex = ++this.keyFrameIndex % this.IMG_COUNT;</span><br><span class="line">                //direct表示小狗的方向；stopWalking表示小狗是否停下来</span><br><span class="line">                let direct = -1, stopWalking = false;</span><br><span class="line">                //如果鼠标在狗的前面则往前走</span><br><span class="line">                if (this.dog.frontStopX &gt; this.dog.mouseX) &#123;</span><br><span class="line">                    direct = 1;</span><br><span class="line">                &#125;</span><br><span class="line">                //如果鼠标在狗的后面则往后走</span><br><span class="line">                else if (this.dog.backStopX &lt; this.dog.mouseX) &#123;</span><br><span class="line">                    direct = -1;</span><br><span class="line">                &#125;</span><br><span class="line">                //如果鼠标在狗的位置</span><br><span class="line">                else &#123;</span><br><span class="line">                    stopWalking = true;</span><br><span class="line">                    //如果鼠标在小狗图片中间的右边，则direct为正，否则为负</span><br><span class="line">                    direct = this.dog.frontStopX === -1 ? -1 :</span><br><span class="line">                        this.dog.backStopX - this.dog.mouseX</span><br><span class="line">                        &gt; this.pictureWidth / 2 ? 1 : -1;</span><br><span class="line">                    //如果停住的话用0.png</span><br><span class="line">                    this.keyFrameIndex = -1;</span><br><span class="line">                    //this.dog.mouseX = this.dog.stopX;</span><br><span class="line">                &#125;</span><br><span class="line">                let ctx = this.ctx;</span><br><span class="line">                //清掉上次画的内容</span><br><span class="line">                ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);</span><br><span class="line"></span><br><span class="line">                ctx.save();</span><br><span class="line">                //如果没有停，计算位置的时候乘以direct</span><br><span class="line">                if (!stopWalking) &#123;</span><br><span class="line">                    this.dog.mouseX += this.dog.stepDistance * direct;</span><br><span class="line">                &#125;</span><br><span class="line">                if (direct === -1) &#123;</span><br><span class="line">                    //左右翻转绘制</span><br><span class="line">                    ctx.scale(direct, 1);</span><br><span class="line">                &#125;</span><br><span class="line">                let img = this.dogPictures[this.keyFrameIndex + 1];</span><br><span class="line">                let drawX = 0;</span><br><span class="line">                //左右翻转绘制的位置需要计算一下</span><br><span class="line">                drawX = this.dog.mouseX * direct -</span><br><span class="line">                    (direct === -1 ? this.pictureWidth : 0);</span><br><span class="line">                ctx.drawImage(img, 0, 0, img.naturalWidth,</span><br><span class="line">                    img.naturalHeight,drawX, 20, 186, 162);</span><br><span class="line">                ctx.restore();</span><br><span class="line">                this.lastWalkingTime = now;</span><br><span class="line">                //继续给下一帧注册一个函数</span><br><span class="line">                window.requestAnimationFrame(this.walk.bind(this));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        let canvas = document.querySelector(&quot;#dog-walking&quot;);</span><br><span class="line">        let dogAnimation = new DogAnimation(canvas);</span><br><span class="line">        dogAnimation.start();</span><br><span class="line">    &#125;();</span><br></pre></td></tr></table></figure><h2 id="html"><a href="#html" class="headerlink" title="html"></a>html</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=&quot;dog-walking&quot; width=&quot;0&quot; height=&quot;0&quot;</span><br><span class="line">           style=&quot;position:fixed;bottom:0;left:0&quot;&gt;&lt;/canvas&gt;</span><br></pre></td></tr></table></figure><h2 id="实现的效果"><a href="#实现的效果" class="headerlink" title="实现的效果"></a>实现的效果</h2><p><img src="/2018/09/24/跟随鼠标移动的狗狗/狗狗.gif" alt=""></p>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>css 变形、过渡、动画</title>
      <link href="/2018/09/20/css-%E5%8F%98%E5%BD%A2%E3%80%81%E8%BF%87%E6%B8%A1%E3%80%81%E5%8A%A8%E7%94%BB/"/>
      <url>/2018/09/20/css-%E5%8F%98%E5%BD%A2%E3%80%81%E8%BF%87%E6%B8%A1%E3%80%81%E5%8A%A8%E7%94%BB/</url>
      <content type="html"><![CDATA[<h1 id="过渡-transition"><a href="#过渡-transition" class="headerlink" title="过渡 ( transition )"></a>过渡 ( transition )</h1><p>过渡属性用法： transition : ransition-property  transition-duration  transition-timing-function transition-delay</p><p> transition-property : 规定设置过渡效果的 CSS 属性的名称(如：width,height,all)。<br> transition-duration : 规定完成过渡效果需要多少秒或毫秒。<br> transition-timing-function : 规定速度效果的速度曲线。<br>    取值：<br>    ease 逐渐变慢（默认值）<br>    linear 匀速<br>    ease-in 加速<br>    ease-out 减速<br>    ease-in-out  先加速后减速<br> transition-delay    定义过渡效果何时开始（延迟多长时间）。</p> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.transition&#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background: #f90;</span><br><span class="line">    transition: width 2s ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line">.transition:hover&#123;</span><br><span class="line">    width: 500px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;transition&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure><p> 实现的效果:<br><img src="/2018/09/20/css-变形、过渡、动画/transition.gif" alt="transition"></p><h1 id="变形-transform"><a href="#变形-transform" class="headerlink" title="变形 ( transform )"></a>变形 ( transform )</h1><h2 id="2D-变形"><a href="#2D-变形" class="headerlink" title="2D 变形"></a>2D 变形</h2><h3 id="移动-translate"><a href="#移动-translate" class="headerlink" title="移动 ( translate )"></a>移动 ( translate )</h3><p>移动可以指定像素值也可以指定百分比，注意：指定百分比是自身大小的百分比，因此可以用于设置盒子定位时的居中对齐（在设置left：50%后再移动自身的-50%即可）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.translate &#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    background: #f90;</span><br><span class="line">    transition: all 2s;</span><br><span class="line">&#125;</span><br><span class="line">.translate:hover &#123;</span><br><span class="line">    transform: translate(300px, 100px);</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class=&quot;translate&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p> 实现的效果:<br><img src="/2018/09/20/css-变形、过渡、动画/translate2d01.gif" alt="translate2d01"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> .translate-father &#123;</span><br><span class="line">    width: 150px;</span><br><span class="line">    height: 150px;</span><br><span class="line">    background: #f90;</span><br><span class="line">    transition: all 0.5s;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line">.translate-son&#123;</span><br><span class="line">    background-color: red;</span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 50%;</span><br><span class="line">    top: 50%;</span><br><span class="line">    width: 60px;</span><br><span class="line">    height: 60px;</span><br><span class="line">    transform: translate(-50%, -50%);</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class=&quot;translate-father&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;translate-son&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p> 实现的效果:<br><img src="/2018/09/20/css-变形、过渡、动画/translate.png" alt="translate"></p><h3 id="缩放-scale（x，y）"><a href="#缩放-scale（x，y）" class="headerlink" title="缩放 scale（x，y）"></a>缩放 scale（x，y）</h3><p>x,y设置大于1 是放大，小于1 是缩小。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.scale&#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background: #f90;</span><br><span class="line">    margin: 200px auto;</span><br><span class="line">    transition: all 2s;</span><br><span class="line">&#125;</span><br><span class="line">.scale:hover&#123;</span><br><span class="line">    transform: scale(0.5, 2);</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class=&quot;scale&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p> 实现的效果:<br><img src="/2018/09/20/css-变形、过渡、动画/scale.gif" alt="scale"></p><h3 id="rotate-x-deg"><a href="#rotate-x-deg" class="headerlink" title="rotate (x deg)"></a>rotate (x deg)</h3><p>x指定度数值，正数是顺时针旋转，负数是逆时针旋转。<br>旋转可以使用transform-origin 指定旋转中心点，transform-origin 给left top right bottom 也可以指定具体的像素值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.rotate&#123;</span><br><span class="line">    width: 200px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background: #f90;</span><br><span class="line">    margin: 200px auto;</span><br><span class="line">    transition: all 2s;</span><br><span class="line">    transform-origin: bottom left;</span><br><span class="line">&#125;</span><br><span class="line">.rotate:hover&#123;</span><br><span class="line">    transform: rotate(-120deg);</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class=&quot;rotate&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p> 实现的效果:<br><img src="/2018/09/20/css-变形、过渡、动画/rotate2d.gif" alt="rotate2d"></p><h3 id="skew（x-deg-y-deg）"><a href="#skew（x-deg-y-deg）" class="headerlink" title="skew（x deg ,y deg）"></a>skew（x deg ,y deg）</h3><p>x,y分别指定倾斜在x，y方向上的角度，可以为负数。y值不写默认为0。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">.skew&#123;</span><br><span class="line">    width: 100px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background: #f90;</span><br><span class="line">    border: 2px solid #fff;</span><br><span class="line">    border-top-color: red;</span><br><span class="line">    border-left-color: green;</span><br><span class="line">    border-right-color: black;</span><br><span class="line">    border-bottom-color: blue;</span><br><span class="line">    transition: all 1s;</span><br><span class="line">    margin: 200px auto;</span><br><span class="line">&#125;</span><br><span class="line">.skew:hover&#123;</span><br><span class="line">    transform: skew(30deg,-50deg);</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class=&quot;skew&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p> 实现的效果:<br><img src="/2018/09/20/css-变形、过渡、动画/skew.gif" alt="skew"></p><h2 id="3D-变形"><a href="#3D-变形" class="headerlink" title="3D 变形"></a>3D 变形</h2><h3 id="旋转（rotateX-rotateY-rotateZ）"><a href="#旋转（rotateX-rotateY-rotateZ）" class="headerlink" title="旋转（rotateX,rotateY,rotateZ）"></a>旋转（rotateX,rotateY,rotateZ）</h3><p>3D旋转与2D类似，只不过一个是基于二位坐标一个是基于三维坐标。三个值可以同时指定也可以单独指定。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.rotate&#123;</span><br><span class="line">    width: 200px;</span><br><span class="line">    height: 100px;</span><br><span class="line">    background: #f90;</span><br><span class="line">    margin: 200px auto;</span><br><span class="line">    transition: all 2s;</span><br><span class="line">    transform-origin: bottom left;</span><br><span class="line">&#125;</span><br><span class="line">.rotate:hover&#123;</span><br><span class="line">    transform: rotateY(180deg);</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class=&quot;rotate&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p> 实现的效果:<br><img src="/2018/09/20/css-变形、过渡、动画/rotate.gif" alt="rotate"></p><h3 id="移动（translateX，translateY，translateZ）"><a href="#移动（translateX，translateY，translateZ）" class="headerlink" title="移动（translateX，translateY，translateZ）"></a>移动（translateX，translateY，translateZ）</h3><p>3D移动对于xy方向上的移动与2d移动一致。只有z方向上的移动不一样。Z方向上的移动在现实生活中是距离变远，距离变近。因此在网页中显示结果是变近则变大，变远则变小<br> 要使Z放线上移动生效首先要设置perspective（眼睛距离屏幕的距离）<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"> body&#123;</span><br><span class="line">    perspective: 1000px;</span><br><span class="line">    /* 数值越小说明眼睛离的越近 */</span><br><span class="line">&#125;</span><br><span class="line">.translate&#123;</span><br><span class="line">    width: 150px;</span><br><span class="line">    height: 150px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    background: #f90;</span><br><span class="line">    transition: all 0.5s;</span><br><span class="line">    margin: 200px auto;</span><br><span class="line">&#125;</span><br><span class="line">.translate:hover&#123;</span><br><span class="line">    transform: translate3d(0, 0, 200px);</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class=&quot;translate&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p>  实现的效果:<br> <img src="/2018/09/20/css-变形、过渡、动画/translate.gif" alt="translate"></p><h1 id="动画-animation"><a href="#动画-animation" class="headerlink" title="动画 animation"></a>动画 animation</h1><p> animation : animation-name || animation-duration || animation-timing-function || animation-delay || animation-iteration-count || animation-direction || animation-fill-mode<br> animation-name : 动画名称（自己使用@keyframes 定义的动画）<br> animation-duration : 持续时间<br> animation-timing-function : 运动曲线，与过渡的运动曲线类似。<br> animation-delay : 延迟时间<br> animation-iteration-count : 循环次数 （infinite 是无限循环）<br> animation-direction　: 是否反向（动画是否是由结尾倒开是倒着放的）<br> animation-fill-mode : 设置在动画播放之外的状态（结束时的状态）none | forwards（设为结束时的状态）| backwards(设为开始时的状态)| both（设为开始或结束时的状态）<br> animation-play-state : 设置动画状态 running 开始 | paused 暂停</p><h3 id="keyframes-自定义动画"><a href="#keyframes-自定义动画" class="headerlink" title="@keyframes 自定义动画"></a>@keyframes 自定义动画</h3> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">.animation&#123;</span><br><span class="line">    width: 50px;</span><br><span class="line">    height: 50px;</span><br><span class="line">    background: #f90;</span><br><span class="line">    animation: move 3s linear 2s;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes move &#123;</span><br><span class="line">    0% &#123;</span><br><span class="line">        transform: translate3d(0,0,0);</span><br><span class="line">    &#125;</span><br><span class="line">    25% &#123;</span><br><span class="line">        transform: translate3d(0,150px,0);</span><br><span class="line">    &#125;</span><br><span class="line">    50%&#123;</span><br><span class="line">        transform: translate3d(350px,150px,0);</span><br><span class="line">    &#125;</span><br><span class="line">    75%&#123;</span><br><span class="line">        transform: translate3d(350px,0,0);</span><br><span class="line">    &#125;</span><br><span class="line">    100%&#123;</span><br><span class="line">        transform: translate3d(0,0,0);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;div class=&quot;animation&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>   实现的效果:<br>  <img src="/2018/09/20/css-变形、过渡、动画/animation.gif" alt="animation"></p>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> css </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>一年的总结</title>
      <link href="/2018/09/19/%E4%B8%80%E5%B9%B4%E7%9A%84%E6%80%BB%E7%BB%93/"/>
      <url>/2018/09/19/%E4%B8%80%E5%B9%B4%E7%9A%84%E6%80%BB%E7%BB%93/</url>
      <content type="html"><![CDATA[<p>2017-09-18第一天在上海上班，昨天刚好是我入职一周年。</p><p>感觉一年过的好快啊，去年的这一天还历历在目，仿佛像昨天刚过去一样。</p><p>这一年里学到了很多东西，也感觉没学到太多东西（很矛盾）虽然码react代码很熟练了，但是并没有太深入的了解，连源码都没看过不能说熟练应用react。<br>react移动端的东西都没有写过（这方面很欠缺）<br>熟悉了fetch但是ajax都快被我忘光光了！真像狗熊掰棒子，掰一个掉一个！<br>这一年买了很多书，真正读完的到很少（只是看完了几本与技术无关的书籍）。看见想要的书就想买，从来不管买来看不看（我觉得这是病，但是不想治。就这样吧）</p><p>也学到了很多教训，上海地铁上的小偷太多了，来上海没一年被偷了俩手机了！其实我很喜欢我的那个荣耀7手机，那是我在学校利用课余时间兼职挣钱买的一部我最喜欢的手机，现在都没有卖的了（很气）。</p><h1 id="未来一年的计划"><a href="#未来一年的计划" class="headerlink" title="未来一年的计划"></a>未来一年的计划</h1><p> 多读书（保持学习能力，才是未来的安身立命之本）<br> 把自己搭建的框架里面填满代码，多码点代码<br> 考个自己想考的证书（正在奋斗中….）<br> (…….)</p>]]></content>
      
      <categories>
          
          <category> 随便写写 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随便写写 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>英语</title>
      <link href="/2018/09/04/%E8%8B%B1%E8%AF%AD/"/>
      <url>/2018/09/04/%E8%8B%B1%E8%AF%AD/</url>
      <content type="html"><![CDATA[<h1 id="吐槽一下我的培训班的英语老师"><a href="#吐槽一下我的培训班的英语老师" class="headerlink" title="吐槽一下我的培训班的英语老师"></a>吐槽一下我的培训班的英语老师</h1><p>9月2号我的英语班级开班，去上第一天课。满怀憧憬，提前一天预演了一下我的自我介绍（自我感觉良好，心里美滋滋）。在去上课的地铁上还在纠结到底要不要介绍我什么时候毕业、什么时候工作的要不要辣莫细呢？<br><a id="more"></a><br>教室不是特别大，坐在教室里没一会老师进来了。一直到他开口前面部都没有任何表情（给人一种不苟言笑的感觉），心里默念辣莫高冷。开始让我们自我介绍，让我们分别介绍教育、英文等级、等等。之前根本没有打算介绍教育背景、英文等级，都没有任何准备，打得我一个措手不及。中途还有很多人会日语，老师也用日语跟学生交流（我听不懂，我日语也就只知道五十音图）？？？？介绍完后老师说既然大家都没有太高的等级，就把英语的语速降低点。老师上来真的语速慢了很多（暖暖的很贴心）。</p><p>后来可能是为了调节课堂气氛，讲了一大串英文语速特别快。全程没有听明白说的啥（黑人问好脸）偶尔还会给我们蹦出一大串日语和法语，他是切换的毫无破绽我们也是听得毫无破绽。我都觉得我之前的英文全都白学了。为什么我什么都听不懂，我明明最近一直都在背单词听听力。</p><p>老师的语速快起来真的没边，从没有读过的文章到手就很6666666的语速。</p><p>老师的会的语言真是数不胜数，法语、韩语、日语、英语、四川话、东北话、上海话（其中还包括我很多没有听明白的语言，这些也不是都听出来的，看他朋友圈看到的）他说他之前一起带过英语和日语的培训班（用英语讲日语，佩服的五体投地）</p><p><img src="/2018/09/04/英语/english.jpg" alt="english"></p><p>这是下课后老师在群里给我们发的一段话，当时看到就没往下看了，有点怀疑这是英语吗？然后查字典找单词的意思，勉强翻译出了这句话（心碎了一地）</p><p>打击了我的自信心也激发了我的斗志（加油）</p>]]></content>
      
      <categories>
          
          <category> English </category>
          
      </categories>
      
      
        <tags>
            
            <tag> English </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>json对象遍历</title>
      <link href="/2018/08/30/json%E5%AF%B9%E8%B1%A1%E9%81%8D%E5%8E%86/"/>
      <url>/2018/08/30/json%E5%AF%B9%E8%B1%A1%E9%81%8D%E5%8E%86/</url>
      <content type="html"><![CDATA[<p><img src="/2018/08/30/json对象遍历/autumn.jpg" alt="autumn"><br>之前一直都是对json数组进行操作，顺便看一下(<em>^__^</em>)<br><a id="more"></a></p><h1 id="遍历json对象"><a href="#遍历json对象" class="headerlink" title="遍历json对象"></a>遍历json对象</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var jsonObj = &#123;&quot;name&quot;: &quot;jeans&quot;, &quot;password&quot;: &quot;1111&quot;&#125;;</span><br><span class="line">for (var val in jsonObj) &#123;</span><br><span class="line">    alert(val + &quot; &quot; + jsonObj[val]);//输出如:name</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="遍历json数组，元素为json对象"><a href="#遍历json数组，元素为json对象" class="headerlink" title="遍历json数组，元素为json对象"></a>遍历json数组，元素为json对象</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">## 无规律json数组</span><br><span class="line">var jsonArr = [&#123;&quot;name&quot;:&quot;jeans&quot;,&quot;age&quot;:24,&quot;sex&quot;:&quot;女&quot;,city:&quot;江苏&quot;&#125;,</span><br><span class="line">            &#123;&quot;text&quot;:&quot;shelly&quot;,&quot;content&quot;:123654&#125;];</span><br><span class="line"></span><br><span class="line">for (var i = 0, l = jsonArr.length; i &lt; l; i++) &#123;</span><br><span class="line">    for (var key in jsonArr[i]) &#123;</span><br><span class="line">        alert(key + &apos;:&apos; + jsonArr[i][key]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">## 有规律json数组</span><br><span class="line"></span><br><span class="line">var jsonArr =[</span><br><span class="line">&#123;&quot;name&quot;:&quot;jeans&quot;,&quot;age&quot;:24,&quot;sex&quot;:&quot;女&quot;,city:&quot;江苏&quot;&#125;,</span><br><span class="line">&#123;&quot;name&quot;:&quot;shelly&quot;,&quot;age&quot;:21&#125;,&quot;sex&quot;:&quot;女&quot;,&quot;city&quot;:&quot;上海&quot;&#125;</span><br><span class="line">]</span><br><span class="line">(1)、</span><br><span class="line">for (var p in jsonArr) &#123;//遍历json数组时，这么写p为索引，0,1</span><br><span class="line">    alert(jsonArr[p].name + &quot; &quot; + jsonArr[p].age);</span><br><span class="line">&#125;</span><br><span class="line">(2)、</span><br><span class="line">for(var i = 0; i &lt; jsonArr.length; i++)&#123;</span><br><span class="line">   alert(jsonArr[i].name + &quot; &quot; + jsonArr[i].age);</span><br><span class="line">&#125;</span><br><span class="line">(3)、es6 的 map 方法</span><br><span class="line">const html = jsonArr.map((x)=&gt;&#123;</span><br><span class="line">console.lo(x); //x=&#123;&quot;name&quot;:&quot;jeans&quot;,&quot;age&quot;:24,&quot;sex&quot;:&quot;女&quot;,city:&quot;江苏&quot;&#125;</span><br><span class="line">return &lt;p&gt;名字:&#123;x.name&#125;;年龄:&#123;x.age&#125;;性别:&#123;x.sex&#125;;城市:&#123;x.city&#125;&lt;/p&gt;</span><br><span class="line">&#125;)</span><br><span class="line">//map后的结果插入到页面中就可以了</span><br></pre></td></tr></table></figure><h1 id="深度遍历复合Json结构数据"><a href="#深度遍历复合Json结构数据" class="headerlink" title="深度遍历复合Json结构数据"></a>深度遍历复合Json结构数据</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JSON对象里面可以嵌套多层对象(数组或对象)，嵌套层数未知</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 深度遍历</span><br><span class="line"> * 复合的Json结构数据，JSON对象里面可以嵌套多层对象(数组或对象)</span><br><span class="line"> */</span><br><span class="line"> function deepJson(json)&#123;</span><br><span class="line">  // 1. 变量为json对象：将key输出，value进行递归</span><br><span class="line">     if(isType(json, &quot;Object&quot;))&#123;</span><br><span class="line">          for(var key in json)&#123;</span><br><span class="line">           $(&quot;#out&quot;).append(key + &apos; : &apos;);</span><br><span class="line">           if(isType(json[key], &quot;Array&quot;) || isType(json[key], &quot;Object&quot;))&#123;</span><br><span class="line">            $(&quot;#out&quot;).append(&quot;下面为子项内容&lt;br/&gt;&quot;);</span><br><span class="line">           &#125;</span><br><span class="line">           deepTraverse(json[key]);</span><br><span class="line">          &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     // 2. 变量为json数组：逐个元素递归</span><br><span class="line">     else if(isType(json, &quot;Array&quot;))&#123;</span><br><span class="line">          for(var i=0; i&lt;json.length; i++)&#123;</span><br><span class="line">               var jsonObj = json[i];</span><br><span class="line">               deepTraverse(jsonObj);</span><br><span class="line">              // 遍历数组中的元素(为json对象)后输出：分隔线+一个换行符</span><br><span class="line">              if(isType(jsonObj, &quot;Object&quot;))&#123;</span><br><span class="line">                $(&quot;#out&quot;).append(&quot;------------------------&lt;br/&gt;&quot;);</span><br><span class="line">               &#125;</span><br><span class="line">          &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     // 3. 变量为简单数据类型：直接输出（递归函数的终止条件）</span><br><span class="line">     else if(isType(json, &quot;String&quot;) || isType(json, &quot;Number&quot;) ||</span><br><span class="line">      isType(json,&quot;Boolean&quot;) || isType(json,&quot;Null&quot;))&#123;</span><br><span class="line">          $(&quot;#out&quot;).append(json);</span><br><span class="line">          $(&quot;#out&quot;).append(&quot;&lt;br/&gt;&quot;);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>第一篇博客</title>
      <link href="/2018/08/28/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/"/>
      <url>/2018/08/28/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</url>
      <content type="html"><![CDATA[<p>竟然不知写些什么，只好把我之前写的东西搬出来了</p><h1 id="《摆渡人》"><a href="#《摆渡人》" class="headerlink" title="《摆渡人》"></a>《摆渡人》</h1><p>这本书我几天的片段时间共五个多小时看完了。我没有看的很细致，只是粗略的大概读了一遍。<br><a id="more"></a><br>摆渡人的使命是渡人，但是摆渡人需要怎么渡呢？摆渡或许是相互的。你摆渡我，我摆渡你！<br>迪伦与崔斯坦互相喜欢😍迪伦失去生命时是崔斯坦摆渡了她，按照常理把迪伦送到了她应该去的地方。一路上他们经历磨难，互生好感。迪伦为了跟崔斯坦在一起不惧违背常理返回他们见面的起点，终于他们一起回到了人世。<br>好像是迪伦摆渡了崔斯坦！<br>最后迪伦说了一句，原来你在这里。<br>崔斯坦回，我在这里！<br>有点羡慕他们之间的爱情💏，有什么说什么，不隐藏自己内心的想法！</p><p>读书永远不能荒废，看好多人都是看一些有针对性的书籍，而我就是喜欢一些小说（悬疑、盗墓、警匪）等等<br>我也希望我以后可以多看点技术型的书籍</p>]]></content>
      
      <categories>
          
          <category> 随便写写 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随便写写 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>创建了个人博客</title>
      <link href="/2018/08/27/hello-world/"/>
      <url>/2018/08/27/hello-world/</url>
      <content type="html"><![CDATA[<p>欢迎来到我的个人博客。最近一直在看别人的博客所以也想着弄一个….</p>]]></content>
      
      
    </entry>
    
  
  
</search>
